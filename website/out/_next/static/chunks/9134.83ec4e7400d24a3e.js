(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9134],{39134:function(e,t,f){"use strict";f.r(t),f.d(t,{getClientSideQuoteResult:function(){return nb}});var n,a,s,i,o,r,d,c,u,l,p,b,m,h,y,g,T,v,I=f(4942),E=f(80531),A=f(64687),C=f.n(A),S=f(98260);class k{constructor(e){this.nodeCache=e}async get(e){return this.nodeCache.get(e)}async set(e,t){return this.nodeCache.set(e,t)}async has(e){return this.nodeCache.has(e)}}let w=new class{constructor(){this.ERROR_MESSAGE='NullLogger does not support. Instantiate a valid logger using "setGlobalLogger"',this.src=!0}addStream(e){throw Error(this.ERROR_MESSAGE)}addSerializers(e){throw Error(this.ERROR_MESSAGE)}child(e,t){return this}reopenFileStreams(){throw Error(this.ERROR_MESSAGE)}level(e){}levels(e,t){}trace(...e){return!0}debug(...e){return!0}info(...e){return!0}warn(...e){return!0}error(...e){return!0}fatal(...e){return!0}addListener(e,t){throw Error(this.ERROR_MESSAGE)}on(e,t){throw Error(this.ERROR_MESSAGE)}once(e,t){throw Error(this.ERROR_MESSAGE)}removeListener(e,t){throw Error(this.ERROR_MESSAGE)}off(e,t){throw Error(this.ERROR_MESSAGE)}removeAllListeners(e){throw Error(this.ERROR_MESSAGE)}setMaxListeners(e){throw Error(this.ERROR_MESSAGE)}getMaxListeners(){throw Error(this.ERROR_MESSAGE)}listeners(e){throw Error(this.ERROR_MESSAGE)}rawListeners(e){throw Error(this.ERROR_MESSAGE)}emit(e,...t){throw Error(this.ERROR_MESSAGE)}listenerCount(e){throw Error(this.ERROR_MESSAGE)}prependListener(e,t){throw Error(this.ERROR_MESSAGE)}prependOnceListener(e,t){throw Error(this.ERROR_MESSAGE)}eventNames(){throw Error(this.ERROR_MESSAGE)}};class O{constructor(e,t,f){this.chainId=e,this.gasPriceProvider=t,this.cache=f,this.GAS_KEY=e=>`gasPrice-${e}`}async getGasPrice(){let e=await this.cache.get(this.GAS_KEY(this.chainId));if(e)return w.info({cachedGasPrice:e},`Got gas station price from local cache: ${e.gasPriceWei}.`),e;w.info("Gas station price local cache miss.");let t=await this.gasPriceProvider.getGasPrice();return await this.cache.set(this.GAS_KEY(this.chainId),t),t}}var x=f(9669),R=f.n(x),P=f(96486),M=f.n(P);(n=l||(l={})).Seconds="Seconds",n.Microseconds="Microseconds",n.Milliseconds="Milliseconds",n.Bytes="Bytes",n.Kilobytes="Kilobytes",n.Megabytes="Megabytes",n.Gigabytes="Gigabytes",n.Terabytes="Terabytes",n.Bits="Bits",n.Kilobits="Kilobits",n.Megabits="Megabits",n.Gigabits="Gigabits",n.Terabits="Terabits",n.Percent="Percent",n.Count="Count",n.BytesPerSecond="Bytes/Second",n.KilobytesPerSecond="Kilobytes/Second",n.MegabytesPerSecond="Megabytes/Second",n.GigabytesPerSecond="Gigabytes/Second",n.TerabytesPerSecond="Terabytes/Second",n.BitsPerSecond="Bits/Second",n.KilobitsPerSecond="Kilobits/Second",n.MegabitsPerSecond="Megabits/Second",n.GigabitsPerSecond="Gigabits/Second",n.TerabitsPerSecond="Terabits/Second",n.CountPerSecond="Count/Second",n.None="None";class D{}let B=new class extends D{constructor(e){super(),this.log=w.child(e||{})}setProperty(e,t){this.log=this.log.child({[e]:t})}putDimensions(e){this.log=this.log.child(e)}putMetric(e,t,f){this.log.info({key:e,value:t,unit:f},`[Metric]: ${e}: ${t} | ${f||""}`)}};class F{constructor(e,t,f){this.tokenCache=f,this.CACHE_KEY=e=>`token-list-token-${this.chainId}/${this.tokenList.name}/${this.tokenList.timestamp}/${this.tokenList.version}/${e.address.toLowerCase()}/${e.decimals}/${e.symbol}/${e.name}`,this.chainId=e,this.tokenList=t,this.chainToTokenInfos=M().reduce(this.tokenList.tokens,(e,t)=>{let f=t.chainId.toString();return e[f]||(e[f]=[]),e[f].push(t),e},{}),this.chainSymbolToTokenInfo=M().mapValues(this.chainToTokenInfos,e=>M().keyBy(e,"symbol")),this.chainAddressToTokenInfo=M().mapValues(this.chainToTokenInfos,e=>M().keyBy(e,e=>e.address.toLowerCase()))}static async fromTokenListURI(e,t,f){let n=Date.now(),a=await this.buildTokenList(t);return B.putMetric("TokenListLoad",Date.now()-n,l.Milliseconds),new F(e,a,f)}static async buildTokenList(e){w.info(`Getting tokenList from ${e}.`);let t=await R().get(e);w.info(`Got tokenList from ${e}.`);let{data:f,status:n}=t;if(200!=n)throw w.error({response:t},`Unabled to get token list from ${e}.`),Error(`Unable to get token list from ${e}`);return f}static async fromTokenList(e,t,f){let n=Date.now(),a=new F(e,t,f);return B.putMetric("TokenListLoad",Date.now()-n,l.Milliseconds),a}async getTokens(e){let t={},f={};for(let n of e){let e=await this.getTokenByAddress(n);e&&(t[n.toLowerCase()]=e,e.symbol&&(f[e.symbol.toLowerCase()]=e))}return{getTokenByAddress:e=>t[e.toLowerCase()],getTokenBySymbol:e=>f[e.toLowerCase()],getAllTokens:()=>Object.values(t)}}async getTokenBySymbol(e){let t=e;if("ETH"==e&&(t="WETH"),!this.chainSymbolToTokenInfo[this.chainId.toString()])return;let f=this.chainSymbolToTokenInfo[this.chainId.toString()][t];if(!f)return;let n=await this.buildToken(f);return n}async getTokenByAddress(e){if(!this.chainAddressToTokenInfo[this.chainId.toString()])return;let t=this.chainAddressToTokenInfo[this.chainId.toString()][e.toLowerCase()];if(!t)return;let f=await this.buildToken(t);return f}async buildToken(e){let t=this.CACHE_KEY(e),f=await this.tokenCache.get(t);if(f)return f;let n=new S.Token(this.chainId,e.address,e.decimals,e.symbol,e.name);return await this.tokenCache.set(t,n),n}}var N=f(15030);f(34155),(a=p||(p={}))[a.MAINNET=1]="MAINNET",a[a.ROPSTEN=3]="ROPSTEN",a[a.RINKEBY=4]="RINKEBY",a[a["G\xd6RLI"]=5]="G\xd6RLI",a[a.KOVAN=42]="KOVAN",a[a.OPTIMISM=10]="OPTIMISM",a[a.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",a[a.OPTIMISTIC_KOVAN=69]="OPTIMISTIC_KOVAN",a[a.ARBITRUM_ONE=42161]="ARBITRUM_ONE",a[a.ARBITRUM_RINKEBY=421611]="ARBITRUM_RINKEBY",a[a.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",a[a.POLYGON=137]="POLYGON",a[a.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",a[a.CELO=42220]="CELO",a[a.CELO_ALFAJORES=44787]="CELO_ALFAJORES",a[a.GNOSIS=100]="GNOSIS",a[a.MOONBEAM=1284]="MOONBEAM",a[a.BSC=56]="BSC",p.MAINNET,p.RINKEBY,p.ROPSTEN,p.KOVAN,p.OPTIMISM,p.OPTIMISM_GOERLI,p.OPTIMISTIC_KOVAN,p.ARBITRUM_ONE,p.ARBITRUM_RINKEBY,p.ARBITRUM_GOERLI,p.POLYGON,p.POLYGON_MUMBAI,p.GÖRLI,p.CELO_ALFAJORES,p.CELO,p.BSC;let U=[p.MAINNET,p.KOVAN,p.GÖRLI,p.RINKEBY,p.ROPSTEN],L=[p.OPTIMISM,p.OPTIMISM_GOERLI,p.OPTIMISTIC_KOVAN,p.ARBITRUM_ONE,p.ARBITRUM_RINKEBY,p.ARBITRUM_GOERLI],_=[p.MAINNET,p.ROPSTEN,p.RINKEBY,p.GÖRLI,p.KOVAN,p.OPTIMISM,p.OPTIMISTIC_KOVAN,p.ARBITRUM_ONE,p.ARBITRUM_RINKEBY,p.POLYGON,p.POLYGON_MUMBAI],G=e=>{switch(e){case 1:return p.MAINNET;case 3:return p.ROPSTEN;case 4:return p.RINKEBY;case 5:return p.GÖRLI;case 42:return p.KOVAN;case 56:return p.BSC;case 10:return p.OPTIMISM;case 420:return p.OPTIMISM_GOERLI;case 69:return p.OPTIMISTIC_KOVAN;case 42161:return p.ARBITRUM_ONE;case 421611:return p.ARBITRUM_RINKEBY;case 421613:return p.ARBITRUM_GOERLI;case 137:return p.POLYGON;case 80001:return p.POLYGON_MUMBAI;case 42220:return p.CELO;case 44787:return p.CELO_ALFAJORES;case 100:return p.GNOSIS;case 1284:return p.MOONBEAM;default:throw Error(`Unknown chain id: ${e}`)}};(s=b||(b={})).MAINNET="mainnet",s.ROPSTEN="ropsten",s.RINKEBY="rinkeby",s["G\xd6RLI"]="goerli",s.KOVAN="kovan",s.OPTIMISM="optimism-mainnet",s.OPTIMISM_GOERLI="optimism-goerli",s.OPTIMISTIC_KOVAN="optimism-kovan",s.ARBITRUM_ONE="arbitrum-mainnet",s.ARBITRUM_RINKEBY="arbitrum-rinkeby",s.ARBITRUM_GOERLI="arbitrum-goerli",s.POLYGON="polygon-mainnet",s.POLYGON_MUMBAI="polygon-mumbai",s.CELO="celo-mainnet",s.CELO_ALFAJORES="celo-alfajores",s.GNOSIS="gnosis-mainnet",s.MOONBEAM="moonbeam-mainnet",s.BSC="bsc-mainnet",(i=m||(m={})).ETHER="ETH",i.MATIC="MATIC",i.CELO="CELO",i.GNOSIS="XDAI",i.MOONBEAM="GLMR",i.BNB="BNB",p.MAINNET,p.RINKEBY,p.GÖRLI,p.KOVAN,p.ROPSTEN,p.OPTIMISM,p.OPTIMISM_GOERLI,p.OPTIMISTIC_KOVAN,p.ARBITRUM_ONE,p.ARBITRUM_RINKEBY,p.ARBITRUM_GOERLI,p.POLYGON,p.POLYGON_MUMBAI,p.CELO,p.CELO_ALFAJORES,p.GNOSIS,p.MOONBEAM,p.BSC,p.MAINNET,m.ETHER,p.ROPSTEN,m.ETHER,p.RINKEBY,m.ETHER,p.GÖRLI,m.ETHER,p.KOVAN,m.ETHER,p.OPTIMISM,m.ETHER,p.OPTIMISM_GOERLI,m.ETHER,p.OPTIMISTIC_KOVAN,m.ETHER,p.ARBITRUM_ONE,m.ETHER,p.ARBITRUM_RINKEBY,m.ETHER,p.ARBITRUM_GOERLI,m.ETHER,p.POLYGON,m.MATIC,p.POLYGON_MUMBAI,m.MATIC,p.CELO,m.CELO,p.CELO_ALFAJORES,m.CELO,p.GNOSIS,m.GNOSIS,p.MOONBEAM,m.MOONBEAM,p.BSC,m.BNB;let q=e=>{switch(e){case 1:return b.MAINNET;case 3:return b.ROPSTEN;case 4:return b.RINKEBY;case 5:return b.GÖRLI;case 42:return b.KOVAN;case 56:return b.BSC;case 10:return b.OPTIMISM;case 420:return b.OPTIMISM_GOERLI;case 69:return b.OPTIMISTIC_KOVAN;case 42161:return b.ARBITRUM_ONE;case 421611:return b.ARBITRUM_RINKEBY;case 421613:return b.ARBITRUM_GOERLI;case 137:return b.POLYGON;case 80001:return b.POLYGON_MUMBAI;case 42220:return b.CELO;case 44787:return b.CELO_ALFAJORES;case 100:return b.GNOSIS;case 1284:return b.MOONBEAM;default:throw Error(`Unknown chain id: ${e}`)}};Object.values(p).map(e=>e.toString());let $={[p.MAINNET]:new S.Token(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),[p.ROPSTEN]:new S.Token(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),[p.RINKEBY]:new S.Token(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),[p.GÖRLI]:new S.Token(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),[p.KOVAN]:new S.Token(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),[p.BSC]:new S.Token(56,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB"),[p.OPTIMISM]:new S.Token(p.OPTIMISM,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),[p.OPTIMISM_GOERLI]:new S.Token(p.OPTIMISM_GOERLI,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),[p.OPTIMISTIC_KOVAN]:new S.Token(p.OPTIMISTIC_KOVAN,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),[p.ARBITRUM_ONE]:new S.Token(p.ARBITRUM_ONE,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),[p.ARBITRUM_RINKEBY]:new S.Token(p.ARBITRUM_RINKEBY,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),[p.ARBITRUM_GOERLI]:new S.Token(p.ARBITRUM_GOERLI,"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",18,"WETH","Wrapped Ether"),[p.POLYGON]:new S.Token(p.POLYGON,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),[p.POLYGON_MUMBAI]:new S.Token(p.POLYGON_MUMBAI,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC"),[p.CELO]:new S.Token(p.CELO,"0x471EcE3750Da237f93B8E339c536989b8978a438",18,"CELO","Celo native asset"),[p.CELO_ALFAJORES]:new S.Token(p.CELO_ALFAJORES,"0xF194afDf50B03e69Bd7D057c1Aa9e10c9954E4C9",18,"CELO","Celo native asset"),[p.GNOSIS]:new S.Token(p.GNOSIS,"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",18,"WXDAI","Wrapped XDAI on Gnosis"),[p.MOONBEAM]:new S.Token(p.MOONBEAM,"0xAcc15dC74880C9944775448304B263D191c6077F",18,"WGLMR","Wrapped GLMR")};class V extends S.Ether{get wrapped(){if(this.chainId in $)return $[this.chainId];throw Error("Unsupported chain ID")}static onChain(e){var t;return null!==(t=this._cachedExtendedEther[e])&&void 0!==t?t:this._cachedExtendedEther[e]=new V(e)}}V._cachedExtendedEther={};let W="0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",j="0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",K="0x633987602DE5C4F337e3DbF265303A1080324204",H={...J(N.FACTORY_ADDRESS),[p.CELO]:W,[p.CELO_ALFAJORES]:W,[p.OPTIMISM_GOERLI]:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",[p.ARBITRUM_GOERLI]:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",[p.BSC]:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7"},Y={...J("0x61fFE014bA17989E743c5F6cB21bF9697530B21e"),[p.CELO]:j,[p.CELO_ALFAJORES]:j,[p.OPTIMISM_GOERLI]:"0x9569CbA925c8ca2248772A9A4976A516743A246F",[p.ARBITRUM_GOERLI]:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",[p.BSC]:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077"},Q={[p.MAINNET]:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",[p.RINKEBY]:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",[p.ROPSTEN]:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",[p["G\xd6RLI"]]:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"},X={...J("0x1F98415757620B543A52E61c46B32eB19261F984"),[p.CELO]:K,[p.CELO_ALFAJORES]:K,[p.OPTIMISM_GOERLI]:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",[p.ARBITRUM_GOERLI]:"0x8260CB40247290317a4c062F3542622367F206Ee",[p.BSC]:"0x963Df249eD09c358A4819E39d9Cd5736c3087184"},z=e=>e==p.BSC?"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2":"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45";function J(e,t=[]){return _.concat(t).reduce((t,f)=>(t[f]=e,t),{})}p.MAINNET,new S.Token(p.MAINNET,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),p.ROPSTEN,new S.Token(p.ROPSTEN,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),p.RINKEBY,new S.Token(p.RINKEBY,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),p["G\xd6RLI"],new S.Token(p["G\xd6RLI"],"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),p.KOVAN,new S.Token(p.KOVAN,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),p.OPTIMISM,new S.Token(p.OPTIMISM,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),p.OPTIMISM_GOERLI,new S.Token(p.OPTIMISM_GOERLI,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),p.OPTIMISTIC_KOVAN,new S.Token(p.OPTIMISTIC_KOVAN,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),p.ARBITRUM_ONE,new S.Token(p.ARBITRUM_ONE,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),p.ARBITRUM_RINKEBY,new S.Token(p.ARBITRUM_RINKEBY,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),p.ARBITRUM_GOERLI,new S.Token(p.ARBITRUM_GOERLI,"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",18,"WETH","Wrapped Ether");var Z=f(39499),ee=f.n(Z);class et extends S.CurrencyAmount{}function ef(e){switch(e){case"10000":return N.FeeAmount.HIGH;case"3000":return N.FeeAmount.MEDIUM;case"500":return N.FeeAmount.LOW;case"100":return N.FeeAmount.LOWEST;default:throw Error(`Fee amount ${e} not supported.`)}}function en(e){switch(e){case N.FeeAmount.HIGH:return"10000";case N.FeeAmount.MEDIUM:return"3000";case N.FeeAmount.LOW:return"500";case N.FeeAmount.LOWEST:return"100";default:throw Error(`Fee amount ${e} not supported.`)}}var ea=f(10443),es=f(34178);let ei=e=>{let t=[],f=e.protocol===ea.Protocol.V3?e.tokenPath:e.path,n=M().map(f,e=>`${e.symbol}`),a=e.protocol===ea.Protocol.V3||e.protocol===ea.Protocol.MIXED?e.pools:e.pairs,s=M().map(a,e=>`${e instanceof N.Pool?` -- ${e.fee/1e4}% [${N.Pool.getAddress(e.token0,e.token1,e.fee,void 0,H[e.chainId])}]`:` -- [${es.Pair.getAddress(e.token0,e.token1)}]`} --> `);for(let e=0;e<n.length;e++)t.push(n[e]),e<s.length&&t.push(s[e]);return t.join("")},eo=e=>{let t=M().reduce(e,(e,t)=>e.add(t.amount),et.fromRawAmount(e[0].amount.currency,0)),f=M().map(e,({protocol:e,route:f,amount:n})=>{let a=n.divide(t),s=new S.Percent(a.numerator,a.denominator);return`[${e==ea.Protocol.MIXED?"V2 + V3":e}] ${s.toFixed(2)}% = ${ei(f)}`});return M().join(f,", ")},er=e=>`${e.token0.symbol}/${e.token1.symbol}${e instanceof N.Pool?`/${e.fee/1e4}%`:""}`;var ed=f(8198),ec=f(64146);let eu=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class el{static createInterface(){return new ed.vU(eu)}static connect(e,t){return new ec.Contract(e,eu,t)}}el.abi=eu;let ep=new S.Token(p.MAINNET,"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",6,"USDC","USD//C"),eb=new S.Token(p.MAINNET,"0xdAC17F958D2ee523a2206206994597C13D831ec7",6,"USDT","Tether USD"),em=new S.Token(p.MAINNET,"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",8,"WBTC","Wrapped BTC"),eh=new S.Token(p.MAINNET,"0x6B175474E89094C44Da98b954EedeAC495271d0F",18,"DAI","Dai Stablecoin"),ey=new S.Token(p.MAINNET,"0x956F47F50A910163D8BF957Cf5846D573E7f87CA",18,"FEI","Fei USD");new S.Token(p.MAINNET,"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984",18,"UNI","Uniswap");let eg=new S.Token(p.ROPSTEN,"0x07865c6e87b9f70255377e024ace6630c1eaa37f",6,"USDC","USD//C"),eT=new S.Token(p.ROPSTEN,"0x516de3a7a567d81737e3a46ec4ff9cfd1fcb0136",6,"USDT","Tether USD"),ev=new S.Token(p.ROPSTEN,"0xad6d458402f60fd3bd25163575031acdce07538d",18,"DAI","Dai Stablecoin"),eI=new S.Token(p.RINKEBY,"0x5592ec0cfb4dbc12d3ab100b257153436a1f0fea",18,"DAI","DAI"),eE=new S.Token(p.RINKEBY,"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735",18,"DAI","DAI"),eA=new S.Token(p.RINKEBY,"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b",6,"tUSDC","test USD//C"),eC=new S.Token(p.RINKEBY,"0xa689352b7c1cad82864beb1d90679356d3962f4d",18,"USDT","Tether USD"),eS=new S.Token(p["G\xd6RLI"],"0x07865c6e87b9f70255377e024ace6630c1eaa37f",6,"USDC","USD//C"),ek=new S.Token(p["G\xd6RLI"],"0xe583769738b6dd4e7caf8451050d1948be717679",18,"USDT","Tether USD"),ew=new S.Token(p["G\xd6RLI"],"0xa0a5ad2296b38bd3e3eb59aaeaf1589e8d9a29a9",8,"WBTC","Wrapped BTC"),eO=new S.Token(p["G\xd6RLI"],"0x11fe4b6ae13d2a6055c8d9cf65c55bac32b5d844",18,"DAI","Dai Stablecoin");new S.Token(p["G\xd6RLI"],"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",18,"UNI","Uni token");let ex=new S.Token(p.KOVAN,"0x31eeb2d0f9b6fd8642914ab10f4dd473677d80df",6,"USDC","USD//C"),eR=new S.Token(p.KOVAN,"0xa325f1b1ebb748715dfbbaf62e0c6677e137f45d",18,"USDT","Tether USD"),eP=new S.Token(p.KOVAN,"0xe36bc5d8b689ad6d80e78c3e736670e80d4b329d",8,"WBTC","Wrapped BTC"),eM=new S.Token(p.KOVAN,"0x9dc7b33c3b63fc00ed5472fbd7813edda6a64752",18,"DAI","Dai Stablecoin"),eD=new S.Token(p.OPTIMISM,"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",6,"USDC","USD//C"),eB=new S.Token(p.OPTIMISM,"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",6,"USDT","Tether USD"),eF=new S.Token(p.OPTIMISM,"0x68f180fcCe6836688e9084f035309E29Bf0A2095",8,"WBTC","Wrapped BTC"),eN=new S.Token(p.OPTIMISM,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),eU=new S.Token(p.OPTIMISM,"0x4200000000000000000000000000000000000042",18,"OP","Optimism"),eL=new S.Token(p.OPTIMISM_GOERLI,"0x7E07E15D2a87A24492740D16f5bdF58c16db0c4E",6,"USDC","USD//C"),e_=new S.Token(p.OPTIMISM_GOERLI,"0x853eb4bA5D0Ba2B77a0A5329Fd2110d5CE149ECE",6,"USDT","Tether USD"),eG=new S.Token(p.OPTIMISM_GOERLI,"0xe0a592353e81a94Db6E3226fD4A99F881751776a",8,"WBTC","Wrapped BTC"),eq=new S.Token(p.OPTIMISM_GOERLI,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),e$=new S.Token(p.OPTIMISTIC_KOVAN,"0x3b8e53b3ab8e01fb57d0c9e893bc4d655aa67d84",6,"USDC","USD//C"),eV=new S.Token(p.OPTIMISTIC_KOVAN,"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",6,"USDT","Tether USD"),eW=new S.Token(p.OPTIMISTIC_KOVAN,"0x2382a8f65b9120E554d1836a504808aC864E169d",8,"WBTC","Wrapped BTC"),ej=new S.Token(p.OPTIMISTIC_KOVAN,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),eK=new S.Token(p.ARBITRUM_ONE,"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",6,"USDC","USD//C"),eH=new S.Token(p.ARBITRUM_ONE,"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",6,"USDT","Tether USD"),eY=new S.Token(p.ARBITRUM_ONE,"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",8,"WBTC","Wrapped BTC"),eQ=new S.Token(p.ARBITRUM_ONE,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),eX=new S.Token(p.ARBITRUM_ONE,"0x912CE59144191C1204E64559FE8253a0e49E6548",18,"ARB","Arbitrum"),ez=new S.Token(p.ARBITRUM_RINKEBY,"0x5364dc963c402aaf150700f38a8ef52c1d7d7f14",18,"DAI","Dai Stablecoin");new S.Token(p.ARBITRUM_GOERLI,"0x0000000000000000000000000000000000000000",18,"DAI","Dai Stablecoin");let eJ=new S.Token(p.ARBITRUM_RINKEBY,"0x920b9301c2de92186299cd2abc7199e25b9728b3",6,"UDST","Tether USD"),eZ=new S.Token(p.ARBITRUM_RINKEBY,"0x09b98f8b2395d076514037ff7d39a091a536206c",6,"USDC","USD//C"),e0=new S.Token(p.ARBITRUM_RINKEBY,"0x049251a7175071316e089d0616d8b6aacd2c93b8",18,"UNI","Uni token"),e1=new S.Token(p.ARBITRUM_GOERLI,"0x8FB1E3fC51F3b789dED7557E680551d93Ea9d892",6,"USDC","USD//C"),e5=new S.Token(p.POLYGON,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),e6=new S.Token(p.POLYGON,"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619",18,"WETH","Wrapped Ether"),e8=new S.Token(p.POLYGON,"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",6,"USDC","USD//C");new S.Token(p.POLYGON,"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",18,"DAI","Dai Stablecoin");let e2=new S.Token(p.POLYGON_MUMBAI,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC");new S.Token(p.POLYGON_MUMBAI,"0xe11a86849d99f524cac3e7a0ec1241828e332c62",6,"USDC","USD//C");let e3=new S.Token(p.POLYGON_MUMBAI,"0x001b3b4d0f3714ca98ba10f6042daebf0b1b7b6f",18,"DAI","Dai Stablecoin");new S.Token(p.POLYGON_MUMBAI,"0xa6fa4fb5f76172d178d61b04b0ecd319c5d1c0aa",18,"WETH","Wrapped Ether");let e9=new S.Token(p.BSC,"0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c",18,"BTCB","Binance BTC"),e4=new S.Token(p.BSC,"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",18,"BUSD","BUSD"),e7=new S.Token(p.BSC,"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",18,"DAI","DAI"),te=new S.Token(p.BSC,"0x2170Ed0880ac9A755fd29B2688956BD959F933F8",18,"ETH","ETH"),tt=new S.Token(p.BSC,"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",18,"USDC","USDC"),tf=new S.Token(p.BSC,"0x55d398326f99059fF775485246999027B3197955",18,"USDT","USDT"),tn=new S.Token(p.CELO,"0x471EcE3750Da237f93B8E339c536989b8978a438",18,"CELO","Celo native asset"),ta=new S.Token(p.CELO,"0xE4fE50cdD716522A56204352f00AA110F731932d",18,"DAI","Dai Stablecoin"),ts=new S.Token(p.CELO,"0x765DE816845861e75A25fCA122bb6898B8B1282a",18,"CUSD","Celo Dollar Stablecoin"),ti=new S.Token(p.CELO,"0xD8763CBa276a3738E6DE85b4b3bF5FDed6D6cA73",18,"CEUR","Celo Euro Stablecoin"),to=new S.Token(p.CELO_ALFAJORES,"0xF194afDf50B03e69Bd7D057c1Aa9e10c9954E4C9",18,"CELO","Celo native asset"),tr=new S.Token(p.CELO_ALFAJORES,"0x7d91E51C8F218f7140188A155f5C75388630B6a8",18,"DAI","Dai Stablecoin"),td=new S.Token(p.CELO_ALFAJORES,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1",18,"CUSD","Celo Dollar Stablecoin"),tc=new S.Token(p.CELO_ALFAJORES,"0x10c892A6EC43a53E45D0B916B4b7D383B1b78C0F",18,"CEUR","Celo Euro Stablecoin"),tu=new S.Token(p.GNOSIS,"0xddafbb505ad214d7b80b1f830fccc89b60fb7a83",6,"USDC","USDC from Ethereum on Gnosis"),tl=new S.Token(p.GNOSIS,"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",18,"WXDAI","Wrapped XDAI on Gnosis"),tp=new S.Token(p.GNOSIS,"0x8e5bbbb09ed1ebde8674cda39a0c169401db4252",8,"WBTC","Wrapped BTC from Ethereum on Gnosis"),tb=new S.Token(p.MOONBEAM,"0x818ec0A7Fe18Ff94269904fCED6AE3DaE6d6dC0b",6,"USDC","USD Coin bridged using Multichain"),tm=new S.Token(p.MOONBEAM,"0xAcc15dC74880C9944775448304B263D191c6077F",18,"WGLMR","Wrapped GLMR"),th=new S.Token(p.MOONBEAM,"0x818ec0A7Fe18Ff94269904fCED6AE3DaE6d6dC0b",6,"DAI","Dai on moonbeam bridged using Multichain"),ty=new S.Token(p.MOONBEAM,"0x922D641a426DcFFaeF11680e5358F34d97d112E1",8,"WBTC","Wrapped BTC bridged using Multichain");class tg{constructor(e,t){this.chainId=e,this.multicall2Provider=t}async getTokens(e,t){let f={},n={},a=M()(e).map(e=>e.toLowerCase()).uniq().value();if(a.length>0){let[e,s]=await Promise.all([this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:a,contractInterface:el.createInterface(),functionName:"symbol",providerConfig:t}),this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:a,contractInterface:el.createInterface(),functionName:"decimals",providerConfig:t})]),{results:i}=e,{results:o}=s;for(let e=0;e<a.length;e++){let t=a[e],s=i[e],r=o[e];if(!(null==s?void 0:s.success)||!(null==r?void 0:r.success)){w.info({symbolResult:s,decimalResult:r},`Dropping token with address ${t} as symbol or decimal are invalid`);continue}let d=s.result[0],c=r.result[0];f[t.toLowerCase()]=new S.Token(this.chainId,t,c,d),n[d.toLowerCase()]=f[t.toLowerCase()]}w.info(`Got token symbol and decimals for ${Object.values(f).length} out of ${a.length} tokens on-chain ${t?`as of: ${null==t?void 0:t.blockNumber}`:""}`)}return{getTokenByAddress:e=>f[e.toLowerCase()],getTokenBySymbol:e=>n[e.toLowerCase()],getAllTokens:()=>Object.values(f)}}}let tT={[p.MAINNET]:{WETH:$[p.MAINNET],USDC:ep,USDT:eb,WBTC:em,DAI:eh,RING:new S.Token(p.MAINNET,"0x9469D013805bFfB7D3DEBe5E7839237e535ec483",18,"RING","RING")},[p.RINKEBY]:{WETH:$[p.RINKEBY],DAI_1:eI,DAI_2:eE},[p.OPTIMISM]:{USDC:eD,USDT:eB,WBTC:eF,DAI:eN},[p.OPTIMISM_GOERLI]:{USDC:eL,USDT:e_,WBTC:eG,DAI:eq},[p.OPTIMISTIC_KOVAN]:{USDC:e$,USDT:eV,WBTC:eW,DAI:ej},[p.ARBITRUM_ONE]:{USDC:eK,USDT:eH,WBTC:eY,DAI:eQ},[p.ARBITRUM_RINKEBY]:{USDT:eJ,UNI:e0,DAI:ez,USDC:eZ},[p.ARBITRUM_GOERLI]:{USDC:e1},[p.POLYGON]:{WMATIC:e5,USDC:e8},[p.POLYGON_MUMBAI]:{WMATIC:e2,DAI:e3},[p.CELO]:{CELO:tn,CUSD:ts,CEUR:ti,DAI:ta},[p.CELO_ALFAJORES]:{CELO:to,CUSD:td,CEUR:td,DAI:tr},[p.GNOSIS]:{WXDAI:$[p.GNOSIS],USDC_ETHEREUM_GNOSIS:tu},[p.MOONBEAM]:{USDC:tb,DAI:th,WBTC:ty,WGLMR:$[p.MOONBEAM]},[p.BSC]:{USDC:tt,USDT:tf,BUSD:e4,ETH:te,DAI:e7,BTC:e9,WBNB:$[p.BSC]}};class tv{constructor(e,t,f,n){this.chainId=e,this.tokenCache=t,this.primaryTokenProvider=f,this.fallbackTokenProvider=n,this.CACHE_KEY=(e,t)=>`token-${e}-${t}`}async getTokens(e){let t=tT[this.chainId];if(t)for(let e of Object.values(t))await this.tokenCache.set(this.CACHE_KEY(this.chainId,e.address.toLowerCase()),e);let f={},n={},a=M()(e).map(e=>e.toLowerCase()).uniq().value(),s=[],i=[];for(let e of a)await this.tokenCache.has(this.CACHE_KEY(this.chainId,e))?(f[e.toLowerCase()]=await this.tokenCache.get(this.CACHE_KEY(this.chainId,e)),n[f[e].symbol]=await this.tokenCache.get(this.CACHE_KEY(this.chainId,e))):s.push(e);if(w.info({addressesToFindInPrimary:s},`Found ${a.length-s.length} out of ${a.length} tokens in local cache. ${s.length>0?`Checking primary token provider for ${s.length} tokens`:""}
      `),s.length>0){let e=await this.primaryTokenProvider.getTokens(s);for(let t of s){let a=e.getTokenByAddress(t);a?(f[t.toLowerCase()]=a,n[f[t].symbol]=a,await this.tokenCache.set(this.CACHE_KEY(this.chainId,t.toLowerCase()),f[t])):i.push(t)}w.info({addressesToFindInSecondary:i},`Found ${s.length-i.length} tokens in primary. ${this.fallbackTokenProvider?`Checking secondary token provider for ${i.length} tokens`:"No fallback token provider specified. About to return."}`)}if(this.fallbackTokenProvider&&i.length>0){let e=await this.fallbackTokenProvider.getTokens(i);for(let t of i){let a=e.getTokenByAddress(t);a&&(f[t.toLowerCase()]=a,n[f[t].symbol]=a,await this.tokenCache.set(this.CACHE_KEY(this.chainId,t.toLowerCase()),f[t]))}}return{getTokenByAddress:e=>f[e.toLowerCase()],getTokenBySymbol:e=>n[e.toLowerCase()],getAllTokens:()=>Object.values(f)}}}var tI=f(2593);class tE{}class tA extends tE{constructor(e,t=50,f=4){super(),this.provider=e,this.priorityFeePercentile=t,this.blocksToConsider=f}async getGasPrice(){let e=await this.provider.send("eth_feeHistory",[tI.O$.from(this.blocksToConsider).toHexString().replace("0x0","0x"),"latest",[this.priorityFeePercentile]]),t={baseFeePerGas:M().map(e.baseFeePerGas,e=>tI.O$.from(e)),gasUsedRatio:e.gasUsedRatio,oldestBlock:tI.O$.from(e.oldestBlock),reward:M().map(e.reward,e=>tI.O$.from(e[0]))},f=t.baseFeePerGas[t.baseFeePerGas.length-1],n=M().reduce(t.reward,(e,t)=>e.add(t),tI.O$.from(0)).div(t.reward.length);w.info({feeHistory:t,feeHistoryReadable:{baseFeePerGas:M().map(t.baseFeePerGas,e=>e.toString()),oldestBlock:t.oldestBlock.toString(),reward:M().map(t.reward,e=>e.toString())},nextBlockBaseFeePerGas:f.toString(),averagePriorityFeePerGas:n.toString()},"Got fee history from provider and computed gas estimate");let a=f.add(n),s=t.oldestBlock.add(this.blocksToConsider);return w.info(`Estimated gas price in wei: ${a} as of block ${s.toString()}`),{gasPriceWei:a}}}var tC=f(82169),tS=JSON.parse('{"name":"Uniswap Labs List","timestamp":"2021-12-21T23:59:15.901Z","version":{"major":2,"minor":3,"patch":0},"tags":{},"logoURI":"ipfs://QmNa8mQkrNKp1WEEeGjFezDmDeodkWRevGFN8JCV7b4Xir","keywords":["uniswap","default"],"tokens":[{"chainId":1,"address":"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9","name":"Aave","symbol":"AAVE","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12645/thumb/AAVE.png?1601374110"},{"chainId":1,"address":"0xfF20817765cB7f73d4bde2e66e067E58D11095C2","name":"Amp","symbol":"AMP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12409/thumb/amp-200x200.png?1599625397"},{"name":"Aragon Network Token","address":"0x960b236A07cf122663c4303350609A66A7B288C0","symbol":"ANT","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x960b236A07cf122663c4303350609A66A7B288C0/logo.png"},{"name":"Balancer","address":"0xba100000625a3754423978a60c9317c58a424e3D","symbol":"BAL","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xba100000625a3754423978a60c9317c58a424e3D/logo.png"},{"chainId":1,"address":"0xBA11D00c5f74255f56a5E366F4F77f5A186d7f55","name":"Band Protocol","symbol":"BAND","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/9545/thumb/band-protocol.png?1568730326"},{"name":"Bancor Network Token","address":"0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C","symbol":"BNT","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C/logo.png"},{"name":"Compound","address":"0xc00e94Cb662C3520282E6f5717214004A7f26888","symbol":"COMP","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc00e94Cb662C3520282E6f5717214004A7f26888/logo.png"},{"name":"Curve DAO Token","address":"0xD533a949740bb3306d119CC777fa900bA034cd52","symbol":"CRV","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xD533a949740bb3306d119CC777fa900bA034cd52/logo.png"},{"chainId":1,"address":"0x41e5560054824eA6B0732E656E3Ad64E20e94E45","name":"Civic","symbol":"CVC","decimals":8,"logoURI":"https://assets.coingecko.com/coins/images/788/thumb/civic.png?1547034556"},{"name":"Dai Stablecoin","address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","symbol":"DAI","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{"chainId":1,"address":"0x0AbdAce70D3790235af448C88547603b945604ea","name":"district0x","symbol":"DNT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/849/thumb/district0x.png?1547223762"},{"chainId":1,"address":"0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72","name":"Ethereum Name Service","symbol":"ENS","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/19785/thumb/acatxTm8_400x400.jpg?1635850140"},{"name":"Gnosis Token","address":"0x6810e776880C02933D47DB1b9fc05908e5386b96","symbol":"GNO","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6810e776880C02933D47DB1b9fc05908e5386b96/logo.png"},{"chainId":1,"address":"0xc944E90C64B2c07662A292be6244BDf05Cda44a7","name":"The Graph","symbol":"GRT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/13397/thumb/Graph_Token.png?1608145566"},{"chainId":1,"address":"0x85Eee30c52B0b379b046Fb0F85F4f3Dc3009aFEC","name":"Keep Network","symbol":"KEEP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/3373/thumb/IuNzUb5b_400x400.jpg?1589526336"},{"name":"Kyber Network Crystal","address":"0xdd974D5C2e2928deA5F71b9825b8b646686BD200","symbol":"KNC","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdd974D5C2e2928deA5F71b9825b8b646686BD200/logo.png"},{"name":"ChainLink Token","address":"0x514910771AF9Ca656af840dff83E8264EcF986CA","symbol":"LINK","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{"name":"Loom Network","address":"0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0","symbol":"LOOM","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0/logo.png"},{"name":"LoopringCoin V2","address":"0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD","symbol":"LRC","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD/logo.png"},{"chainId":1,"address":"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942","name":"Decentraland","symbol":"MANA","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/878/thumb/decentraland-mana.png?1550108745"},{"chainId":1,"address":"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0","name":"Polygon","symbol":"MATIC","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"},{"name":"Maker","address":"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2","symbol":"MKR","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2/logo.png"},{"chainId":1,"address":"0xec67005c4E498Ec7f55E092bd1d35cbC47C91892","name":"Melon","symbol":"MLN","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/605/thumb/melon.png?1547034295"},{"name":"Numeraire","address":"0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671","symbol":"NMR","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671/logo.png"},{"chainId":1,"address":"0x4fE83213D56308330EC302a8BD641f1d0113A4Cc","name":"NuCypher","symbol":"NU","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/3318/thumb/photo1198982838879365035.jpg?1547037916"},{"name":"Orchid","address":"0x4575f41308EC1483f3d399aa9a2826d74Da13Deb","symbol":"OXT","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4575f41308EC1483f3d399aa9a2826d74Da13Deb/logo.png"},{"name":"Republic Token","address":"0x408e41876cCCDC0F92210600ef50372656052a38","symbol":"REN","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x408e41876cCCDC0F92210600ef50372656052a38/logo.png"},{"name":"Reputation Augur v1","address":"0x1985365e9f78359a9B6AD760e32412f4a445E862","symbol":"REP","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1985365e9f78359a9B6AD760e32412f4a445E862/logo.png"},{"name":"Reputation Augur v2","address":"0x221657776846890989a759BA2973e427DfF5C9bB","symbol":"REPv2","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x221657776846890989a759BA2973e427DfF5C9bB/logo.png"},{"name":"Synthetix Network Token","address":"0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F","symbol":"SNX","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F/logo.png"},{"name":"Storj Token","address":"0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC","symbol":"STORJ","decimals":8,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC/logo.png"},{"name":"Synth sUSD","address":"0x57Ab1ec28D129707052df4dF418D58a2D46d5f51","symbol":"sUSD","decimals":18,"chainId":1,"logoURI":"https://assets.coingecko.com/coins/images/5013/thumb/sUSD.png?1616150765"},{"chainId":1,"address":"0x8dAEBADE922dF735c38C80C7eBD708Af50815fAa","name":"tBTC","symbol":"TBTC","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11224/thumb/tBTC.png?1589620754"},{"name":"UMA Voting Token v1","address":"0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828","symbol":"UMA","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":1,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"USDCoin","address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48","symbol":"USDC","decimals":6,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"name":"Tether USD","address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","symbol":"USDT","decimals":6,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"name":"Wrapped BTC","address":"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599","symbol":"WBTC","decimals":8,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png"},{"name":"Wrapped Ether","address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","symbol":"WETH","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"chainId":1,"address":"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e","name":"yearn finance","symbol":"YFI","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11849/thumb/yfi-192x192.png?1598325330"},{"name":"0x Protocol Token","address":"0xE41d2489571d322189246DaFA5ebDe1F4699F498","symbol":"ZRX","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xE41d2489571d322189246DaFA5ebDe1F4699F498/logo.png"},{"name":"Dai Stablecoin","address":"0xaD6D458402F60fD3Bd25163575031ACDce07538D","symbol":"DAI","decimals":18,"chainId":3,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xaD6D458402F60fD3Bd25163575031ACDce07538D/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":3,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xc778417E063141139Fce010982780140Aa0cD5Ab","symbol":"WETH","decimals":18,"chainId":3,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc778417E063141139Fce010982780140Aa0cD5Ab/logo.png"},{"name":"Dai Stablecoin","address":"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735","symbol":"DAI","decimals":18,"chainId":4,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735/logo.png"},{"name":"Maker","address":"0xF9bA5210F91D0474bd1e1DcDAeC4C58E359AaD85","symbol":"MKR","decimals":18,"chainId":4,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xF9bA5210F91D0474bd1e1DcDAeC4C58E359AaD85/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":4,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xc778417E063141139Fce010982780140Aa0cD5Ab","symbol":"WETH","decimals":18,"chainId":4,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc778417E063141139Fce010982780140Aa0cD5Ab/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":5,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6","symbol":"WETH","decimals":18,"chainId":5,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6/logo.png"},{"name":"Dai Stablecoin","address":"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa","symbol":"DAI","decimals":18,"chainId":42,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa/logo.png"},{"name":"Maker","address":"0xAaF64BFCC32d0F15873a02163e7E500671a4ffcD","symbol":"MKR","decimals":18,"chainId":42,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xAaF64BFCC32d0F15873a02163e7E500671a4ffcD/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":42,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","symbol":"WETH","decimals":18,"chainId":42,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xd0A1E359811322d97991E03f863a0C30C2cF029C/logo.png"},{"chainId":137,"address":"0xD6DF932A45C0f255f85145f286eA0b292B21C90B","name":"Aave","symbol":"AAVE","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12645/thumb/AAVE.png?1601374110"},{"chainId":137,"address":"0x0621d647cecbFb64b79E44302c1933cB4f27054d","name":"Amp","symbol":"AMP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12409/thumb/amp-200x200.png?1599625397"},{"name":"Balancer","address":"0x9a71012B13CA4d3D0Cdc72A177DF3ef03b0E76A3","symbol":"BAL","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xba100000625a3754423978a60c9317c58a424e3D/logo.png"},{"chainId":137,"address":"0xA8b1E0764f85f53dfe21760e8AfE5446D82606ac","name":"Band Protocol","symbol":"BAND","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/9545/thumb/band-protocol.png?1568730326"},{"name":"Bancor Network Token","address":"0xc26D47d5c33aC71AC5CF9F776D63Ba292a4F7842","symbol":"BNT","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C/logo.png"},{"name":"Compound","address":"0x8505b9d2254A7Ae468c0E9dd10Ccea3A837aef5c","symbol":"COMP","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc00e94Cb662C3520282E6f5717214004A7f26888/logo.png"},{"name":"Curve DAO Token","address":"0x172370d5Cd63279eFa6d502DAB29171933a610AF","symbol":"CRV","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xD533a949740bb3306d119CC777fa900bA034cd52/logo.png"},{"chainId":137,"address":"0x66Dc5A08091d1968e08C16aA5b27BAC8398b02Be","name":"Civic","symbol":"CVC","decimals":8,"logoURI":"https://assets.coingecko.com/coins/images/788/thumb/civic.png?1547034556"},{"name":"Dai Stablecoin","address":"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063","symbol":"DAI","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{"chainId":137,"address":"0xbD7A5Cf51d22930B8B3Df6d834F9BCEf90EE7c4f","name":"Ethereum Name Service","symbol":"ENS","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/19785/thumb/acatxTm8_400x400.jpg?1635850140"},{"name":"Gnosis Token","address":"0x5FFD62D3C3eE2E81C00A7b9079FB248e7dF024A8","symbol":"GNO","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6810e776880C02933D47DB1b9fc05908e5386b96/logo.png"},{"chainId":137,"address":"0x5fe2B58c013d7601147DcdD68C143A77499f5531","name":"The Graph","symbol":"GRT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/13397/thumb/Graph_Token.png?1608145566"},{"chainId":137,"address":"0x42f37A1296b2981F7C3cAcEd84c5096b2Eb0C72C","name":"Keep Network","symbol":"KEEP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/3373/thumb/IuNzUb5b_400x400.jpg?1589526336"},{"name":"Kyber Network Crystal","address":"0x324b28d6565f784d596422B0F2E5aB6e9CFA1Dc7","symbol":"KNC","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdd974D5C2e2928deA5F71b9825b8b646686BD200/logo.png"},{"name":"ChainLink Token","address":"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39","symbol":"LINK","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{"name":"Loom Network","address":"0x66EfB7cC647e0efab02eBA4316a2d2941193F6b3","symbol":"LOOM","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0/logo.png"},{"name":"LoopringCoin V2","address":"0x84e1670F61347CDaeD56dcc736FB990fBB47ddC1","symbol":"LRC","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD/logo.png"},{"chainId":137,"address":"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4","name":"Decentraland","symbol":"MANA","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/878/thumb/decentraland-mana.png?1550108745"},{"name":"Maker","address":"0x6f7C932e7684666C9fd1d44527765433e01fF61d","symbol":"MKR","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2/logo.png"},{"name":"Numeraire","address":"0x0Bf519071b02F22C17E7Ed5F4002ee1911f46729","symbol":"NMR","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671/logo.png"},{"name":"Orchid","address":"0x9880e3dDA13c8e7D4804691A45160102d31F6060","symbol":"OXT","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4575f41308EC1483f3d399aa9a2826d74Da13Deb/logo.png"},{"name":"Republic Token","address":"0x19782D3Dc4701cEeeDcD90f0993f0A9126ed89d0","symbol":"REN","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x408e41876cCCDC0F92210600ef50372656052a38/logo.png"},{"name":"Reputation Augur v2","address":"0x6563c1244820CfBd6Ca8820FBdf0f2847363F733","symbol":"REPv2","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x221657776846890989a759BA2973e427DfF5C9bB/logo.png"},{"name":"Synthetix Network Token","address":"0x50B728D8D964fd00C2d0AAD81718b71311feF68a","symbol":"SNX","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F/logo.png"},{"name":"Storj Token","address":"0xd72357dAcA2cF11A5F155b9FF7880E595A3F5792","symbol":"STORJ","decimals":8,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC/logo.png"},{"name":"Synth sUSD","address":"0xF81b4Bec6Ca8f9fe7bE01CA734F55B2b6e03A7a0","symbol":"sUSD","decimals":18,"chainId":137,"logoURI":"https://assets.coingecko.com/coins/images/5013/thumb/sUSD.png?1616150765"},{"chainId":137,"address":"0x50a4a434247089848991DD8f09b889D4e2870aB6","name":"tBTC","symbol":"TBTC","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11224/thumb/tBTC.png?1589620754"},{"name":"UMA Voting Token v1","address":"0x3066818837c5e6eD6601bd5a91B0762877A6B731","symbol":"UMA","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828/logo.png"},{"name":"Uniswap","address":"0xb33EaAd8d922B1083446DC23f610c2567fB5180f","symbol":"UNI","decimals":18,"chainId":137,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"USDCoin","address":"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174","symbol":"USDC","decimals":6,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"name":"Tether USD","address":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F","symbol":"USDT","decimals":6,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"name":"Wrapped BTC","address":"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6","symbol":"WBTC","decimals":8,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png"},{"name":"Wrapped Ether","address":"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619","symbol":"WETH","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"name":"Wrapped Matic","address":"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270","symbol":"WMATIC","decimals":18,"chainId":137,"logoURI":"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"},{"chainId":137,"address":"0xDA537104D6A5edd53c6fBba9A898708E465260b6","name":"yearn finance","symbol":"YFI","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11849/thumb/yfi-192x192.png?1598325330"},{"name":"0x Protocol Token","address":"0x5559Edb74751A0edE9DeA4DC23aeE72cCA6bE3D5","symbol":"ZRX","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xE41d2489571d322189246DaFA5ebDe1F4699F498/logo.png"},{"name":"Wrapped Ether","address":"0xA6FA4fB5f76172d178d61B04b0ecd319C5d1C0aa","symbol":"WETH","decimals":18,"chainId":80001,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"name":"Wrapped Matic","address":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","symbol":"WMATIC","decimals":18,"chainId":80001,"logoURI":"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"}]}'),tk=f(72047),tw=f.n(tk),tO=f(70321),tx=f.n(tO);let tR=[{inputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"address[]",name:"baseTokens",type:"address[]"},{internalType:"uint256",name:"amountToBorrow",type:"uint256"}],name:"batchValidate",outputs:[{internalType:"enum ITokenValidator.Status[]",name:"",type:"uint8[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"baseTokens",type:"address[]"},{internalType:"uint256",name:"amountToBorrow",type:"uint256"}],name:"validate",outputs:[{internalType:"enum ITokenValidator.Status",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"}];class tP{static createInterface(){return new ed.vU(tR)}static connect(e,t){return new ec.Contract(e,tR,t)}}tP.abi=tR;let tM=new Set(["0x777e2ae845272a2f540ebf6a3d03734a5a8f618e"]);(o=h||(h={}))[o.UNKN=0]="UNKN",o[o.FOT=1]="FOT",o[o.STF=2]="STF";class tD{constructor(e,t,f,n="0xb5ee1690b7dcc7859771148d0889be838fe108e0",a=1e6,s="1000",i=tM){this.chainId=e,this.multicall2Provider=t,this.tokenValidationCache=f,this.tokenValidatorAddress=n,this.gasLimitPerCall=a,this.amountToFlashBorrow=s,this.allowList=i,this.CACHE_KEY=(e,t)=>`token-${e}-${t}`,this.BASES=[$[this.chainId].address]}async validateTokens(e,t){let f=M().keyBy(e,"address"),n=M()(e).map(e=>e.address).uniq().value(),a=[],s={};for(let e of n)await this.tokenValidationCache.has(this.CACHE_KEY(this.chainId,e))?s[e.toLowerCase()]=await this.tokenValidationCache.get(this.CACHE_KEY(this.chainId,e)):a.push(e);w.info(`Got token validation results for ${n.length-a.length} tokens from cache. Getting ${a.length} on-chain.`);let i=M()(a).map(e=>[e,this.BASES,this.amountToFlashBorrow]).value(),o=await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({address:this.tokenValidatorAddress,contractInterface:tP.createInterface(),functionName:"validate",functionParams:i,providerConfig:t,additionalConfig:{gasLimitPerCallOverride:this.gasLimitPerCall}});for(let e=0;e<o.results.length;e++){let t=o.results[e],n=a[e],i=f[n];if(this.allowList.has(i.address.toLowerCase())){s[i.address.toLowerCase()]=h.UNKN,await this.tokenValidationCache.set(this.CACHE_KEY(this.chainId,i.address.toLowerCase()),s[i.address.toLowerCase()]);continue}if(!t.success){w.info({result:t},`Failed to validate token ${i.symbol}`);continue}let r=t.result[0];s[i.address.toLowerCase()]=r,await this.tokenValidationCache.set(this.CACHE_KEY(this.chainId,i.address.toLowerCase()),s[i.address.toLowerCase()])}return{getValidationByToken:e=>s[e.address.toLowerCase()]}}}let tB=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"reserve0",type:"uint112"},{internalType:"uint112",name:"reserve1",type:"uint112"},{internalType:"uint32",name:"blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class tF{static createInterface(){return new ed.vU(tB)}static connect(e,t){return new ec.Contract(e,tB,t)}}tF.abi=tB;class tN{constructor(e,t,f={retries:2,minTimeout:50,maxTimeout:500}){this.chainId=e,this.multicall2Provider=t,this.retryOptions=f,this.POOL_ADDRESS_CACHE={}}async getPools(e,t){let f=new Set,n=[],a=[];for(let t of e){let[e,s]=t,{poolAddress:i,token0:o,token1:r}=this.getPoolAddress(e,s);f.has(i)||(f.add(i),n.push([o,r]),a.push(i))}w.debug(`getPools called with ${e.length} token pairs. Deduped down to ${f.size}`);let s=await this.getPoolsData(a,"getReserves",t);w.info(`Got reserves for ${f.size} pools ${(null==t?void 0:t.blockNumber)?`as of block: ${await (null==t?void 0:t.blockNumber)}.`:""}`);let i={},o=[];for(let e=0;e<a.length;e++){let t=s[e];if(!(null==t?void 0:t.success)){let[t,f]=n[e];o.push([t,f]);continue}let[f,r]=n[e],{reserve0:d,reserve1:c}=t.result,u=new es.Pair(et.fromRawAmount(f,d.toString()),et.fromRawAmount(r,c.toString())),l=a[e];i[l]=u}o.length>0&&w.info({invalidPools:M().map(o,([e,t])=>`${e.symbol}/${t.symbol}`)},`${o.length} pools invalid after checking their slot0 and liquidity results. Dropping.`);let r=M().map(Object.values(i),er);return w.debug({poolStrs:r},`Found ${r.length} valid pools`),{getPool:(e,t)=>{let{poolAddress:f}=this.getPoolAddress(e,t);return i[f]},getPoolByAddress:e=>i[e],getAllPools:()=>Object.values(i)}}getPoolAddress(e,t){let[f,n]=e.sortsBefore(t)?[e,t]:[t,e],a=`${this.chainId}/${f.address}/${n.address}`,s=this.POOL_ADDRESS_CACHE[a];if(s)return{poolAddress:s,token0:f,token1:n};let i=es.Pair.getAddress(f,n);return this.POOL_ADDRESS_CACHE[a]=i,{poolAddress:i,token0:f,token1:n}}async getPoolsData(e,t,f){let{results:n,blockNumber:a}=await tw()(async()=>this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:e,contractInterface:tF.createInterface(),functionName:t,providerConfig:f}),this.retryOptions);return w.debug(`Pool data fetched as of block ${a}`),n}}let tU=[{inputs:[],name:"getPricesInWei",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class tL{static createInterface(){return new ed.vU(tU)}static connect(e,t){return new ec.Contract(e,tU,t)}}tL.abi=tU;let t_=[{inputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"DecimalsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"GasPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"L1BaseFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"OverheadUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"ScalarUpdated",type:"event"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1GasUsed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"l1BaseFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"overhead",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"scalar",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_decimals",type:"uint256"}],name:"setDecimals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_gasPrice",type:"uint256"}],name:"setGasPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"setL1BaseFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_overhead",type:"uint256"}],name:"setOverhead",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_scalar",type:"uint256"}],name:"setScalar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];class tG{static createInterface(){return new ed.vU(t_)}static connect(e,t){return new ec.Contract(e,t_,t)}}tG.abi=t_;class tq{constructor(e,t,f){if(this.chainId=e,this.multicall2Provider=t,e!=p.OPTIMISM&&e!=p.OPTIMISTIC_KOVAN)throw Error("This data provider is used only on optimism networks.");this.gasOracleAddress=null!=f?f:"0x420000000000000000000000000000000000000F"}async getGasData(){var e,t,f,n;let a=await this.multicall2Provider.callMultipleFunctionsOnSameContract({address:this.gasOracleAddress,contractInterface:tG.createInterface(),functionNames:["l1BaseFee","scalar","decimals","overhead"]});if(!(null===(e=a.results[0])||void 0===e?void 0:e.success)||!(null===(t=a.results[1])||void 0===t?void 0:t.success)||!(null===(f=a.results[2])||void 0===f?void 0:f.success)||!(null===(n=a.results[3])||void 0===n?void 0:n.success))throw w.info({results:a.results},"Failed to get gas constants data from the optimism gas oracle"),Error("Failed to get gas constants data from the optimism gas oracle");let{result:s}=a.results[0],{result:i}=a.results[1],{result:o}=a.results[2],{result:r}=a.results[3];return{l1BaseFee:s[0],scalar:i[0],decimals:o[0],overhead:r[0]}}}class t${constructor(e,t,f){this.chainId=e,this.provider=t,this.gasFeesAddress=f||"0x000000000000000000000000000000000000006C"}async getGasData(){let e=tL.connect(this.gasFeesAddress,this.provider),t=await e.getPricesInWei();return{perL2TxFee:t[0],perL1CalldataFee:t[1],perArbGasTotal:t[5]}}}let tV=[{inputs:[],name:"feeGrowthGlobal0X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal1X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"observations",outputs:[{internalType:"uint32",name:"blockTimestamp",type:"uint32"},{internalType:"int56",name:"tickCumulative",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityCumulativeX128",type:"uint160"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"positions",outputs:[{internalType:"uint128",name:"_liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFees",outputs:[{internalType:"uint128",name:"token0",type:"uint128"},{internalType:"uint128",name:"token1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint8",name:"feeProtocol",type:"uint8"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int16",name:"wordPosition",type:"int16"}],name:"tickBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tick",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside0X128",type:"uint256"},{internalType:"uint256",name:"feeGrowthOutside1X128",type:"uint256"},{internalType:"int56",name:"tickCumulativeOutside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityOutsideX128",type:"uint160"},{internalType:"uint32",name:"secondsOutside",type:"uint32"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"}];class tW{static createInterface(){return new ed.vU(tV)}static connect(e,t){return new ec.Contract(e,tV,t)}}tW.abi=tV;class tj{constructor(e,t,f={retries:2,minTimeout:50,maxTimeout:500}){this.chainId=e,this.multicall2Provider=t,this.retryOptions=f,this.POOL_ADDRESS_CACHE={}}async getPools(e,t){let f=new Set,n=[],a=[];for(let t of e){let[e,s,i]=t,{poolAddress:o,token0:r,token1:d}=this.getPoolAddress(e,s,i);f.has(o)||(f.add(o),n.push([r,d,i]),a.push(o))}w.debug(`getPools called with ${e.length} token pairs. Deduped down to ${f.size}`);let[s,i]=await Promise.all([this.getPoolsData(a,"slot0",t),this.getPoolsData(a,"liquidity",t)]);w.info(`Got liquidity and slot0s for ${f.size} pools ${(null==t?void 0:t.blockNumber)?`as of block: ${null==t?void 0:t.blockNumber}.`:""}`);let o={},r=[];for(let e=0;e<a.length;e++){let t=s[e],f=i[e];if(!(null==t?void 0:t.success)||!(null==f?void 0:f.success)||t.result.sqrtPriceX96.eq(0)){let[t,f,a]=n[e];r.push([t,f,a]);continue}let[d,c,u]=n[e],l=t.result,p=f.result[0],b=new N.Pool(d,c,u,l.sqrtPriceX96.toString(),p.toString(),l.tick),m=a[e];o[m]=b}r.length>0&&w.info({invalidPools:M().map(r,([e,t,f])=>`${e.symbol}/${t.symbol}/${f/1e4}%`)},`${r.length} pools invalid after checking their slot0 and liquidity results. Dropping.`);let d=M().map(Object.values(o),er);return w.debug({poolStrs:d},`Found ${d.length} valid pools`),{getPool:(e,t,f)=>{let{poolAddress:n}=this.getPoolAddress(e,t,f);return o[n]},getPoolByAddress:e=>o[e],getAllPools:()=>Object.values(o)}}getPoolAddress(e,t,f){let[n,a]=e.sortsBefore(t)?[e,t]:[t,e],s=`${this.chainId}/${n.address}/${a.address}/${f}`,i=this.POOL_ADDRESS_CACHE[s];if(i)return{poolAddress:i,token0:n,token1:a};let o=(0,N.computePoolAddress)({factoryAddress:H[this.chainId],tokenA:n,tokenB:a,fee:f});return this.POOL_ADDRESS_CACHE[s]=o,{poolAddress:o,token0:n,token1:a}}async getPoolsData(e,t,f){let{results:n,blockNumber:a}=await tw()(async()=>this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:e,contractInterface:tW.createInterface(),functionName:t,providerConfig:f}),this.retryOptions);return w.debug(`Pool data fetched as of block ${a}`),n}}let tK=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];class tH{static createInterface(){return new ed.vU(tK)}static connect(e,t){return new ec.Contract(e,tK,t)}}tH.abi=tK;var tY=f(9897);function tQ(e,t,f,n){let a=M().filter(n,e=>e.protocol===ea.Protocol.V3),s=M().filter(n,e=>e.protocol===ea.Protocol.V2),i=M().filter(n,e=>e.protocol===ea.Protocol.MIXED),o=M().map(a,n=>{let{route:a,amount:s,quote:i}=n;if(f==S.TradeType.EXACT_INPUT){let f=et.fromFractionalAmount(e,s.numerator,s.denominator),n=et.fromFractionalAmount(t,i.numerator,i.denominator),o=new N.Route(a.pools,f.currency,n.currency);return{routev3:o,inputAmount:f,outputAmount:n}}{let f=et.fromFractionalAmount(e,i.numerator,i.denominator),n=et.fromFractionalAmount(t,s.numerator,s.denominator),o=new N.Route(a.pools,f.currency,n.currency);return{routev3:o,inputAmount:f,outputAmount:n}}}),r=M().map(s,n=>{let{route:a,amount:s,quote:i}=n;if(f==S.TradeType.EXACT_INPUT){let f=et.fromFractionalAmount(e,s.numerator,s.denominator),n=et.fromFractionalAmount(t,i.numerator,i.denominator),o=new es.Route(a.pairs,f.currency,n.currency);return{routev2:o,inputAmount:f,outputAmount:n}}{let f=et.fromFractionalAmount(e,i.numerator,i.denominator),n=et.fromFractionalAmount(t,s.numerator,s.denominator),o=new es.Route(a.pairs,f.currency,n.currency);return{routev2:o,inputAmount:f,outputAmount:n}}}),d=M().map(i,n=>{let{route:a,amount:s,quote:i}=n;if(f!=S.TradeType.EXACT_INPUT)throw Error("Mixed routes are only supported for exact input trades");let o=et.fromFractionalAmount(e,s.numerator,s.denominator),r=et.fromFractionalAmount(t,i.numerator,i.denominator),d=new ea.MixedRouteSDK(a.pools,o.currency,r.currency);return{mixedRoute:d,inputAmount:o,outputAmount:r}}),c=new ea.Trade({v2Routes:r,v3Routes:o,mixedRoutes:d,tradeType:f});return c}function tX(e,t,f){if(t.type==g.UNIVERSAL_ROUTER)return{...tY.SwapRouter.swapERC20CallParameters(e,t),to:(0,tY.UNIVERSAL_ROUTER_ADDRESS)(f)};if(t.type==g.SWAP_ROUTER_02){let{recipient:n,slippageTolerance:a,deadline:s,inputTokenPermit:i}=t;return{...ea.SwapRouter.swapCallParameters(e,{recipient:n,slippageTolerance:a,deadlineOrPreviousBlockhash:s,inputTokenPermit:i}),to:z(f)}}throw Error(`Unsupported swap type ${t}`)}let tz={name:"Unsupported Token List",timestamp:"2021-01-05T20:47:02.923Z",version:{major:1,minor:0,patch:0},tags:{},logoURI:"ipfs://QmNa8mQkrNKp1WEEeGjFezDmDeodkWRevGFN8JCV7b4Xir",keywords:["uniswap","unsupported","broken"],tokens:[{name:"USD Token",address:"0xd233d1f6fd11640081abb8db125f722b5dc729dc",symbol:"USD",decimals:9,chainId:1,logoURI:""},{name:"UNI HODL",address:"0x4bf5dc91E2555449293D7824028Eb8Fe5879B689",symbol:"UniH",decimals:18,chainId:1,logoURI:""},{name:"Gold Tether",address:"0x4922a015c4407F87432B179bb209e125432E4a2A",symbol:"XAUt",decimals:6,chainId:1,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4922a015c4407F87432B179bb209e125432E4a2A/logo.png"},{name:"Grump Cat",address:"0x93B2FfF814FCaEFFB01406e80B4Ecd89Ca6A021b",symbol:"GRUMPY",decimals:9,chainId:1,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4922a015c4407F87432B179bb209e125432E4a2A/logo.png"},{name:"apeUSD-UMA Synthetic USD (Dec 2021)",address:"0xfA5e27893aee4805283D86e4283Da64F8c72dd56",symbol:"apeUSD-UMA-DEC21",decimals:18,chainId:1,logoURI:""},{chainId:1,address:"0xc6b11850241c5127eab73af4b6c68bc267cbbff4",name:"oWETHp Put 360 DEC2520",symbol:"oWETH-360P-12/25/20",decimals:7},{chainId:1,name:"oYFIp Put 25000 OCT0220",address:"0x452b421be5b30f0c6ad8c3f03c06bdaab4f5c56c",symbol:"oYFI-25000P-10/02/20",decimals:7},{chainId:1,name:"oWETHp Put 360 OCT3020",address:"0x0578779e746d7186253a36cf651ea786acfcf087",symbol:"oWETH-360P-10/30/20",decimals:7},{chainId:1,name:"ETHc Call 500 OCT3020",address:"0xf9aba2e43fb19184408ea3b572a0fd672946f87b",symbol:"oETH-500C-10/30/20",decimals:6},{chainId:1,name:"oBALp Put 22 OCT0220",address:"0xdb0991dfc7e828b5a2837dc82d68e16490562c8d",symbol:"oBAL-22P-10/02/20",decimals:7},{chainId:1,name:"oCOMPp Put 150 SEP2520",address:"0xe951ebe6b4420ab3f4844cf36dedd263d095b416",symbol:"oCOMP-150P-09/25/20",decimals:7},{chainId:1,name:"oCRVp Put 3 SEP252020",address:"0x9215bd49b59748419eac6bad9dbe247df06ebdb9",symbol:"oCRV-3P-09/25/20",decimals:7},{chainId:1,name:"oETHp Put 180 SEP2520",address:"0xE3A2c34Fa2F59ffa95C4ACd1E5663633d45Bc3AD",symbol:"oETH-180P-09/25/20",decimals:7},{chainId:1,name:"oETHc Call 400 SEP2520",address:"0x05977EBC26825C0CD6097E0Ad7204721516711Eb",symbol:"oETH-400C-09/25/20",decimals:7},{chainId:1,name:"oWETHp Put 380 SEP1820",address:"0x31f88266301b08631f9f0e33fd5c43c2a5d1e5b2",symbol:"oWETH-380P-09/18/20",decimals:7},{chainId:1,name:"oYFIp Put 8500 SEP1820",address:"0xd1cec2f67fdc4c60e0963515dfc3343f31e32e47",symbol:"oYFI-8500P-09/18/20",decimals:7},{chainId:1,name:"oWETHp Put 370 SEP1120",address:"0x15844029b2c2bf24506e9937739a9a912f1e4354",symbol:"oWETH-370P-09/11/20",decimals:7},{chainId:1,name:"oWETHp Put 400 SEP0420",address:"0x5562c33c383f6386be4f6dcdbd35a3a99bbcfde6",symbol:"oWETH-400P-09/04/20",decimals:7},{chainId:1,name:"oETHp Put 200 AUG2820",address:"0x3CBFC1397deF0602c2d211c70A1c0c38CEDB5448",symbol:"oWETH-400P-09/04/20",decimals:7},{chainId:1,name:"Opyn cDai Insurance",symbol:"ocDai",address:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",decimals:8},{chainId:1,name:"Opyn cUSDC Insurance",symbol:"ocUSDC",address:"0x8ED9f862363fFdFD3a07546e618214b6D59F03d4",decimals:8},{chainId:1,address:"0x176C674Ee533C6139B0dc8b458D72A93dCB3e705",symbol:"iAAVE",name:"Synth Inverse Aave",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iAAVE.svg",tags:["inverse","synth"]},{chainId:1,address:"0x8A8079c7149B8A1611e5C5d978DCA3bE16545F83",symbol:"iADA",name:"Synth Inverse Cardano",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iADA.svg",tags:["inverse","synth"]},{chainId:1,address:"0xAFD870F32CE54EfdBF677466B612bf8ad164454B",symbol:"iBNB",name:"Synth Inverse Binance Coin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iBNB.svg",tags:["inverse","synth"]},{chainId:1,address:"0xD6014EA05BDe904448B743833dDF07c3C7837481",symbol:"iBTC",name:"Synth Inverse Bitcoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iBTC.svg",tags:["inverse","synth"]},{chainId:1,address:"0x336213e1DDFC69f4701Fc3F86F4ef4A160c1159d",symbol:"iCEX",name:"Synth Inverse Centralised Exchange Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iCEX.svg",tags:["index","inverse","synth"]},{chainId:1,address:"0x6345728B1ccE16E6f8C509950b5c84FFF88530d9",symbol:"iCOMP",name:"Synth Inverse Compound",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iCOMP.svg",tags:["inverse","synth"]},{chainId:1,address:"0xCB98f42221b2C251A4E74A1609722eE09f0cc08E",symbol:"iDASH",name:"Synth Inverse Dash",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iDASH.svg",tags:["inverse","synth"]},{chainId:1,address:"0x14d10003807AC60d07BB0ba82cAeaC8d2087c157",symbol:"iDEFI",name:"Synth Inverse DeFi Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iDEFI.svg",tags:["index","inverse","synth"]},{chainId:1,address:"0x46a97629C9C1F58De6EC18C7F536e7E6d6A6ecDe",symbol:"iDOT",name:"Synth Inverse Polkadot",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iDOT.svg",tags:["inverse","synth"]},{chainId:1,address:"0xF4EebDD0704021eF2a6Bbe993fdf93030Cd784b4",symbol:"iEOS",name:"Synth Inverse EOS",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iEOS.svg",tags:["inverse","synth"]},{chainId:1,address:"0xd50c1746D835d2770dDA3703B69187bFfeB14126",symbol:"iETC",name:"Synth Inverse Ethereum Classic",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iETC.svg",tags:["inverse","synth"]},{chainId:1,address:"0xA9859874e1743A32409f75bB11549892138BBA1E",symbol:"iETH",name:"Synth Inverse Ether",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iETH.svg",tags:["inverse","synth"]},{chainId:1,address:"0x2d7aC061fc3db53c39fe1607fB8cec1B2C162B01",symbol:"iLINK",name:"Synth Inverse Chainlink",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iLINK.svg",tags:["inverse","synth"]},{chainId:1,address:"0x79da1431150C9b82D2E5dfc1C68B33216846851e",symbol:"iLTC",name:"Synth Inverse Litecoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iLTC.svg",tags:["inverse","synth"]},{chainId:1,address:"0xA5a5DF41883Cdc00c4cCC6E8097130535399d9a3",symbol:"iOIL",name:"Synth Inverse Perpetual Oil Futures",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iOIL.svg",tags:["inverse","synth"]},{chainId:1,address:"0x0fEd38108bdb8e62ef7b5680E8E0726E2F29e0De",symbol:"iREN",name:"Synth Inverse Ren",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iREN.svg",tags:["inverse","synth"]},{chainId:1,address:"0xC5807183a9661A533CB08CbC297594a0B864dc12",symbol:"iTRX",name:"Synth Inverse TRON",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iTRX.svg",tags:["inverse","synth"]},{chainId:1,address:"0x36A00FF9072570eF4B9292117850B8FE08d96cce",symbol:"iUNI",name:"Synth Inverse Uniswap",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iUNI.svg",tags:["inverse","synth"]},{chainId:1,address:"0x4AdF728E2Df4945082cDD6053869f51278fae196",symbol:"iXMR",name:"Synth Inverse Monero",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iXMR.svg",tags:["inverse","synth"]},{chainId:1,address:"0x27269b3e45A4D3E79A3D6BFeE0C8fB13d0D711A6",symbol:"iXRP",name:"Synth Inverse Ripple",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iXRP.svg",tags:["inverse","synth"]},{chainId:1,address:"0x8deef89058090ac5655A99EEB451a4f9183D1678",symbol:"iXTZ",name:"Synth Inverse Tezos",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iXTZ.svg",tags:["inverse","synth"]},{chainId:1,address:"0x592244301CeA952d6daB2fdC1fE6bd9E53917306",symbol:"iYFI",name:"Synth Inverse yearn.finance",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iYFI.svg",tags:["inverse","synth"]},{chainId:1,address:"0xcD39b5434a0A92cf47D1F567a7dF84bE356814F0",symbol:"s1INCH",name:"Synth 1inch",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/s1INCH.svg",tags:["synth"]},{chainId:1,address:"0x7537AAe01f3B218DAE75e10d952473823F961B87",symbol:"sAAPL",name:"Synth Apple",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAAPL.svg",tags:["synth"]},{chainId:1,address:"0xd2dF355C19471c8bd7D8A3aa27Ff4e26A21b4076",symbol:"sAAVE",name:"Synth Aave",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAAVE.svg",tags:["synth"]},{chainId:1,address:"0xe36E2D3c7c34281FA3bC737950a68571736880A1",symbol:"sADA",name:"Synth Cardano",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sADA.svg",tags:["synth"]},{chainId:1,address:"0x9CF7E61853ea30A41b02169391b393B901eac457",symbol:"sAMZN",name:"Synth Amazon",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAMZN.svg",tags:["synth"]},{chainId:1,address:"0xF48e200EAF9906362BB1442fca31e0835773b8B4",symbol:"sAUD",name:"Synth Australian Dollars",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAUD.svg",tags:["synth"]},{chainId:1,address:"0x617aeCB6137B5108D1E7D4918e3725C8cEbdB848",symbol:"sBNB",name:"Synth Binance Coin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sBNB.svg",tags:["synth"]},{chainId:1,address:"0xfE18be6b3Bd88A2D2A7f928d00292E7a9963CfC6",symbol:"sBTC",name:"Synth Bitcoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sBTC.svg",tags:["synth"]},{chainId:1,address:"0xeABACD844A196D7Faf3CE596edeBF9900341B420",symbol:"sCEX",name:"Synth Centralised Exchange Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCEX.svg",tags:["index","synth"]},{chainId:1,address:"0x0F83287FF768D1c1e17a42F44d644D7F22e8ee1d",symbol:"sCHF",name:"Synth Swiss Franc",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCHF.svg",tags:["synth"]},{chainId:1,address:"0x9EeF4CA7aB9fa8bc0650127341C2d3F707a40f8A",symbol:"sCOIN",name:"Synth Coinbase",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCOIN.svg",tags:["synth"]},{chainId:1,address:"0xEb029507d3e043DD6C87F2917C4E82B902c35618",symbol:"sCOMP",name:"Synth Compound",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCOMP.svg",tags:["synth"]},{chainId:1,address:"0xD38aEb759891882e78E957c80656572503D8c1B1",symbol:"sCRV",name:"Synth Curve DAO Token",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCRV.svg",tags:["synth"]},{chainId:1,address:"0xfE33ae95A9f0DA8A845aF33516EDc240DCD711d6",symbol:"sDASH",name:"Synth Dash",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sDASH.svg",tags:["synth"]},{chainId:1,address:"0xe1aFe1Fd76Fd88f78cBf599ea1846231B8bA3B6B",symbol:"sDEFI",name:"Synth DeFi Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sDEFI.svg",tags:["index","synth"]},{chainId:1,address:"0x1715AC0743102BF5Cd58EfBB6Cf2dC2685d967b6",symbol:"sDOT",name:"Synth Polkadot",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sDOT.svg",tags:["synth"]},{chainId:1,address:"0x88C8Cf3A212c0369698D13FE98Fcb76620389841",symbol:"sEOS",name:"Synth EOS",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sEOS.svg",tags:["synth"]},{chainId:1,address:"0x22602469d704BfFb0936c7A7cfcD18f7aA269375",symbol:"sETC",name:"Synth Ethereum Classic",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sETC.svg",tags:["synth"]},{chainId:1,address:"0x5e74C9036fb86BD7eCdcb084a0673EFc32eA31cb",symbol:"sETH",name:"Synth Ether",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sETH.svg",tags:["synth"]},{chainId:1,address:"0xD71eCFF9342A5Ced620049e616c5035F1dB98620",symbol:"sEUR",name:"Synth Euros",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sEUR.svg",tags:["synth"]},{chainId:1,address:"0xf50B5e535F62a56A9BD2d8e2434204E726c027Fa",symbol:"sFB",name:"Synth Facebook",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sFB.svg",tags:["synth"]},{chainId:1,address:"0x23348160D7f5aca21195dF2b70f28Fce2B0be9fC",symbol:"sFTSE",name:"Synth FTSE 100 Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sFTSE.svg",tags:["synth"]},{chainId:1,address:"0x97fe22E7341a0Cd8Db6F6C021A24Dc8f4DAD855F",symbol:"sGBP",name:"Synth Pound Sterling",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sGBP.svg",tags:["synth"]},{chainId:1,address:"0xC63B8ECCE56aB9C46184eC6aB85e4771fEa4c8AD",symbol:"sGOOG",name:"Synth Alphabet",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sGOOG.svg",tags:["synth"]},{chainId:1,address:"0xF6b1C627e95BFc3c1b4c9B825a032Ff0fBf3e07d",symbol:"sJPY",name:"Synth Japanese Yen",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sJPY.svg",tags:["synth"]},{chainId:1,address:"0x269895a3dF4D73b077Fc823dD6dA1B95f72Aaf9B",symbol:"sKRW",name:"Synth South Korean Won",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sKRW.svg",tags:["synth"]},{chainId:1,address:"0xbBC455cb4F1B9e4bFC4B73970d360c8f032EfEE6",symbol:"sLINK",name:"Synth Chainlink",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sLINK.svg",tags:["synth"]},{chainId:1,address:"0xC14103C2141E842e228FBaC594579e798616ce7A",symbol:"sLTC",name:"Synth Litecoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sLTC.svg",tags:["synth"]},{chainId:1,address:"0x745a824D6aBBD236AA794b5530062778A6Ad7523",symbol:"sMSFT",name:"Synth Microsoft",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sMSFT.svg",tags:["synth"]},{chainId:1,address:"0x5A7E3c07604EB515C16b36cd51906a65f021F609",symbol:"sNFLX",name:"Synth Netflix",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sNFLX.svg",tags:["synth"]},{chainId:1,address:"0x757de3ac6B830a931eF178C6634c5C551773155c",symbol:"sNIKKEI",name:"Synth Nikkei 225 Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sNIKKEI.svg",tags:["synth"]},{chainId:1,address:"0x6d16cF3EC5F763d4d99cB0B0b110eefD93B11B56",symbol:"sOIL",name:"Synth Perpetual Oil Futures",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sOIL.svg",tags:["synth"]},{chainId:1,address:"0xD31533E8d0f3DF62060e94B3F1318137bB6E3525",symbol:"sREN",name:"Synth Ren",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sREN.svg",tags:["synth"]},{chainId:1,address:"0x0352557B007A4Aae1511C114409b932F06F9E2f4",symbol:"sRUNE",name:"Synth THORChain",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sRUNE.svg",tags:["synth"]},{chainId:1,address:"0xf2E08356588EC5cd9E437552Da87C0076b4970B0",symbol:"sTRX",name:"Synth TRON",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sTRX.svg",tags:["synth"]},{chainId:1,address:"0x918dA91Ccbc32B7a6A0cc4eCd5987bbab6E31e6D",symbol:"sTSLA",name:"Synth Tesla",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sTSLA.svg",tags:["synth"]},{chainId:1,address:"0x30635297E450b930f8693297eBa160D9e6c8eBcf",symbol:"sUNI",name:"Synth Uniswap",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sUNI.svg",tags:["synth"]},{chainId:1,address:"0x6A22e5e94388464181578Aa7A6B869e00fE27846",symbol:"sXAG",name:"Synth Silver Ounce",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXAG.svg",tags:["synth"]},{chainId:1,address:"0x261EfCdD24CeA98652B9700800a13DfBca4103fF",symbol:"sXAU",name:"Synth Gold Ounce",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXAU.svg",tags:["synth"]},{chainId:1,address:"0x5299d6F7472DCc137D7f3C4BcfBBB514BaBF341A",symbol:"sXMR",name:"Synth Monero",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXMR.svg",tags:["synth"]},{chainId:1,address:"0xa2B0fDe6D710e201d0d608e924A484d1A5fEd57c",symbol:"sXRP",name:"Synth Ripple",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXRP.svg",tags:["synth"]},{chainId:1,address:"0x2e59005c5c0f0a4D77CcA82653d48b46322EE5Cd",symbol:"sXTZ",name:"Synth Tezos",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXTZ.svg",tags:["synth"]},{chainId:1,address:"0x992058B7DB08F9734d84485bfbC243C4ee6954A7",symbol:"sYFI",name:"Synth yearn.finance",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sYFI.svg",tags:["synth"]},{chainId:1,address:"0x81ab848898b5ffD3354dbbEfb333D5D183eEDcB5",name:"yUSD Synthetic Expiring 1 September 2020",symbol:"yUSDSEP20",decimals:18},{chainId:1,address:"0xB2FdD60AD80ca7bA89B9BAb3b5336c2601C020b4",name:"yUSD Synthetic Expiring 1 October 2020",symbol:"yUSDOCT20",decimals:18},{chainId:1,address:"0x208d174775dc39fe18b1b374972f77ddec6c0f73",name:"uUSDrBTC Synthetic Expiring 1 Oct 2020",symbol:"uUSDrBTC-OCT",decimals:18},{chainId:1,address:"0xf06ddacf71e2992e2122a1a0168c6967afdf63ce",name:"uUSDrBTC Synthetic Expiring 31 Dec 2020",symbol:"uUSDrBTC-DEC",decimals:18},{chainId:1,address:"0xd16c79c8a39d44b2f3eb45d2019cd6a42b03e2a9",name:"uUSDwETH Synthetic Expiring 31 Dec 2020",symbol:"uUSDwETH-DEC",decimals:18},{chainId:1,address:"0x3d995510f8d82c2ea341845932b5ddde0bead9a3",name:"uGAS-JAN21 Token Expiring 31 Jan 2021",symbol:"uGAS-JAN21",decimals:18},{chainId:1,address:"0x90f802c7e8fb5d40b0de583e34c065a3bd2020d8",name:"YD-ETH-MAR21 Token Expiring 31 Mar 2021",symbol:"YD-ETH-MAR21",decimals:18},{chainId:1,address:"0x002f0b1a71c5730cf2f4da1970a889207bdb6d0d",name:"YD-BTC-MAR21 Token Expiring 31 Mar 2021",symbol:"YD-BTC-MAR21",decimals:18},{chainId:1,address:"0x1062ad0e59fa67fa0b27369113098cc941dd0d5f",name:"UMA 35 Call Expirying 30 Apr 2021",symbol:"UMAc35-0421",decimals:18},{chainId:1,address:"0xf93340b1a3adf7eedcaec25fae8171d4b736e89f",name:"pxUSD Synthetic USD Expiring 1 April 2021",symbol:"pxUSD_MAR2021",decimals:18},{chainId:1,address:"0x84bd083b1c8bf929f39c98bc17cf518f40154f58",name:"Mario Cash Synthetic Token Expiring 15 January 2021",symbol:"Mario Cash-JAN-2021",decimals:18},{chainId:1,address:"0x81fab276aec924fbde190cf379783526d413cf70",name:"uGAS-FEB21 Token Expiring 28 Feb 2021",symbol:"uGAS-FEB21",decimals:18},{chainId:1,address:"0x4e110603e70b0b5f1c403ee543b37e1f1244cf28",name:"uGAS-MAR21 Token Expiring 31 Mar 2021",symbol:"uGAS-MAR21",decimals:18},{chainId:1,address:"0xcf55a7f92d5e0c6683debbc1fc20c0a6e056df13",name:"Zelda Elastic Cash",symbol:"Zelda Elastic Cash",decimals:18},{chainId:1,address:"0x654eebac62240e6c56bab5f6adf7cfa74a894510",name:"Zelda Spring Nuts Cash",symbol:"Zelda Spring Nuts Cash",decimals:18},{chainId:1,address:"0xa48920cc1ad85d8ea13af5d7be180c0338c306dd",name:"Zelda Summer Nuts Cash",symbol:"Zelda Summer Nuts Cash",decimals:18},{chainId:1,address:"0x249a198d59b57fda5dda90630febc86fd8c7594c",name:"Zelda Whirlwind Cash",symbol:"Zelda Whirlwind Cash",decimals:18},{chainId:1,address:"0x5ed1406873c9eb91f6f9a67ac4e152387c1132e7",name:"Zelda Reinforced Cash",symbol:"Zelda Reinforced Cash",decimals:18},{chainId:1,address:"0x8104c9f13118320eefe5fbea8a44d600b85981ef",name:"Mini Mario Summer Cash",symbol:"Mini Mario Summer Cash",decimals:18},{chainId:1,address:"0x69746c719e59674b147df25f50e7cfa0673cb625",name:"Mini Mario Spring Cash",symbol:"Mini Mario Spring Cash",decimals:18},{chainId:1,address:"0x6b1257641d18791141f025eab36fb567c4b564ff",name:"Bitcoin Dominance Token 31 March 2021",symbol:"BTCDOM-MAR2021",decimals:18},{chainId:1,address:"0x4e83b6287588a96321b2661c5e041845ff7814af",name:"Altcoin Dominance Token 31 March 2021",symbol:"ALTDOM-MAR2021",decimals:18},{chainId:1,address:"0x59fec83ec709c893aedd1a144cf1828eb04127cd",name:"pxGOLD Synthetic GOLD Expiring 31 May 2021",symbol:"pxGOLD_MAY2021",decimals:18},{chainId:1,address:"0x89337BFb7938804c3776C9FB921EccAf5ab76758",name:"Compound Annualized Rate Future Expiring 28 March 2021",symbol:"CAR-USDC-MAR21",decimals:18},{chainId:1,address:"0xec58d3aefc9aaa2e0036fa65f70d569f49d9d1ed",name:"uSTONKS Index Token April 2021",symbol:"uSTONKS_APR21",decimals:6},{chainId:1,address:"0xa6B9d7E3d76cF23549293Fb22c488E0Ea591A44e",name:"uGAS-JUN21 Token Expiring 30 Jun 2021",symbol:"uGAS-JUN21",decimals:18},{chainId:1,address:"0xe813b65da6c38a04591aed3f082d32db7d53c382",name:"Yield Dollar [WETH Dec 2021]",symbol:"YD-ETH-DEC21",decimals:18},{chainId:1,address:"0x4b606e9eb2228c70f44453afe5a73e1fea258ce1",name:"pxUSD Synthetic USD Expiring 31 Mar 2022",symbol:"pxUSD_MAR2022",decimals:18},{chainId:1,address:"0x5247c0db4044fb6f97f32c7e1b48758019a5a912",name:"pxGOLD Synthetic Gold Expiring 31 Mar 2022",symbol:"pxGOLD_MAR2022",decimals:18},{chainId:1,address:"0x56fb1acaff95c0b6ebcd17c8361a63d98b1a5a11",name:"uForex CNYUSD Synthetic Token April 2021",symbol:"uCNYUSD-APR",decimals:6},{chainId:1,address:"0xd49fa405dce086c65d66ca1ca41f8e98583812b4",name:"uForex EURUSD Synthetic Token April 2021",symbol:"uEURUSD-APR",decimals:6},{chainId:1,address:"0x29dddacba3b231ee8d673dd0f0fa759ea145561b",name:"DEFI_PULSE_TOTAL_TVL Synthetic Token Expiring 15 April 2021",symbol:"TVL_ALL_APRIL15",decimals:6},{chainId:1,address:"0xcbe430927370e95b4b10cfc702c6017ec7abefc3",name:"Yield Dollar [WETH Jun 2021]",symbol:"YD-ETH-JUN21",decimals:18},{chainId:1,address:"0x4b7fb448df91c8ed973494f8c8c4f12daf3a8521",name:"Yield Dollar [renBTC Jun 2021]",symbol:"YD-BTC-JUN21",decimals:8},{chainId:1,address:"0x3108c33b6fb38efedaefd8b5f7ca01d5f5c7372d",name:"Yield Dollar UMA 21",symbol:"yUMA21",decimals:18},{chainId:1,address:"0x0cae9e4d663793c2a2A0b211c1Cf4bBca2B9cAa7",name:"Mirrored Amazon",symbol:"MAMZN",decimals:18},{chainId:1,address:"0x31c63146a635EB7465e5853020b39713AC356991",name:"M US Oil",symbol:"MUSO",decimals:18},{chainId:1,address:"0x59A921Db27Dd6d4d974745B7FfC5c33932653442",name:"M Google",symbol:"MGOOGL",decimals:18},{chainId:1,address:"0xf72FCd9DCF0190923Fadd44811E240Ef4533fc86",name:"Mirrored ProShares",symbol:"MVIXY",decimals:18},{chainId:1,address:"0x56aA298a19C93c6801FDde870fA63EF75Cc0aF72",name:"Mirrored Alibaba",symbol:"MBABA",decimals:18},{chainId:1,address:"0x0e99cC0535BB6251F6679Fa6E65d6d3b430e840B",name:"Mirrored Facebook",symbol:"MFB",decimals:18},{chainId:1,address:"0x13B02c8dE71680e71F0820c996E4bE43c2F57d15",name:"Mirrored Invesco QQ",symbol:"MQQQ",decimals:18},{chainId:1,address:"0x41BbEDd7286dAab5910a1f15d12CBda839852BD7",name:"Mirrored Microsoft",symbol:"MMSFT",decimals:18},{chainId:1,address:"0x9d1555d8cB3C846Bb4f7D5B1B1080872c3166676",name:"Mirrored iShares Si",symbol:"MSLV",decimals:18},{chainId:1,address:"0x21cA39943E91d704678F5D00b6616650F066fD63",name:"Mirrored Tesla",symbol:"MTSLA",decimals:18},{chainId:1,address:"0xe82bbB62fA81d0701643d1675FB50ec52fD3Df92",name:"DYDX Token",symbol:"DYDX",decimals:18},{chainId:10,address:"0xE405de8F52ba7559f9df3C368500B6E6ae6Cee49",name:"sETH",symbol:"Synth Ether",decimals:18},{chainId:10,address:"0x298B9B95708152ff6968aafd889c6586e9169f1D",name:"sBTC",symbol:"Synth Bitcoin",decimals:18},{chainId:10,address:"0xc5Db22719A06418028A40A9B5E9A7c02959D0d08",name:"sLINK",symbol:"Synth Link",decimals:18},{chainId:1,address:"0x6B60eE11b73230045cF9095E6e43AE9Ea638e172",name:"Shatner",symbol:"SHAT",decimals:18},{chainId:1,address:"0x7277a44D1325D81Ac58893002a1B40a41bea43fe",name:"FAANG Index",symbol:"FAANG",decimals:18},{chainId:1,address:"0x76175599887730786bdA1545D0D7AcE8737fEBB1",name:"ENS DAO",symbol:"ENS",decimals:18}]};class tJ extends N.Route{constructor(){super(...arguments),this.protocol=ea.Protocol.V3}}class tZ extends es.Route{constructor(){super(...arguments),this.protocol=ea.Protocol.V2}}class t0 extends ea.MixedRouteSDK{constructor(){super(...arguments),this.protocol=ea.Protocol.MIXED}}(r=y||(y={}))[r.SUCCESS=1]="SUCCESS",r[r.NO_ROUTE_FOUND=2]="NO_ROUTE_FOUND",r[r.NO_SWAP_NEEDED=3]="NO_SWAP_NEEDED",(d=g||(g={}))[d.UNIVERSAL_ROUTER=0]="UNIVERSAL_ROUTER",d[d.SWAP_ROUTER_02=1]="SWAP_ROUTER_02";let t1=e=>{switch(e){case p.OPTIMISM:case p.OPTIMISM_GOERLI:case p.OPTIMISTIC_KOVAN:return{v2PoolSelection:{topN:3,topNDirectSwaps:1,topNTokenInOut:5,topNSecondHop:2,topNWithEachBaseToken:2,topNWithBaseToken:6},v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:3},maxSwapsPerPath:3,minSplits:1,maxSplits:7,distributionPercent:10,forceCrossProtocol:!1};case p.ARBITRUM_ONE:case p.ARBITRUM_RINKEBY:case p.ARBITRUM_GOERLI:case p.CELO:case p.CELO_ALFAJORES:return{v2PoolSelection:{topN:3,topNDirectSwaps:1,topNTokenInOut:5,topNSecondHop:2,topNWithEachBaseToken:2,topNWithBaseToken:6},v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:2},maxSwapsPerPath:2,minSplits:1,maxSplits:7,distributionPercent:25,forceCrossProtocol:!1};default:return{v2PoolSelection:{topN:3,topNDirectSwaps:1,topNTokenInOut:5,topNSecondHop:2,topNWithEachBaseToken:2,topNWithBaseToken:6},v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:3,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:5},maxSwapsPerPath:3,minSplits:1,maxSplits:7,distributionPercent:5,forceCrossProtocol:!1}}};var t5=f(80937),t6=f.n(t5),t8=f(86937),t2=f.n(t8);let t3={[p.MAINNET]:[eh,ep,eb],[p.RINKEBY]:[eI,eE],[p.ARBITRUM_ONE]:[eQ,eK,eH],[p.OPTIMISM]:[eN,eD,eB],[p.OPTIMISM_GOERLI]:[eq,eL,e_],[p.OPTIMISTIC_KOVAN]:[ej,e$,eV],[p.ARBITRUM_RINKEBY]:[ez,eJ],[p.ARBITRUM_GOERLI]:[e1],[p.KOVAN]:[eM,ex,eR],[p["G\xd6RLI"]]:[eO,eS,ek,ew],[p.ROPSTEN]:[ev,eg,eT],[p.POLYGON]:[e8],[p.POLYGON_MUMBAI]:[e3],[p.CELO]:[ts],[p.CELO_ALFAJORES]:[td],[p.GNOSIS]:[tu],[p.MOONBEAM]:[tb],[p.BSC]:[tf,tt,e7]};class t9{}class t4{}async function t7(e,t){let f=e.chainId,n=$[f],a=await t.getPools([[n,e]]),s=a.getPool(n,e);return!s||s.reserve0.equalTo(0)||s.reserve1.equalTo(0)?(w.error({weth:n,token:e,reserve0:null==s?void 0:s.reserve0.toExact(),reserve1:null==s?void 0:s.reserve1.toExact()},`Could not find a valid WETH V2 pool with ${e.symbol} for computing gas costs.`),null):s}async function fe(e,t){let f=$[e.chainId],n=M()([N.FeeAmount.HIGH,N.FeeAmount.MEDIUM,N.FeeAmount.LOW,N.FeeAmount.LOWEST]).map(t=>[f,e,t]).value(),a=await t.getPools(n),s=M()([N.FeeAmount.HIGH,N.FeeAmount.MEDIUM,N.FeeAmount.LOW,N.FeeAmount.LOWEST]).map(t=>a.getPool(f,e,t)).compact().value();if(0==s.length)return w.error({pools:s},`Could not find a ${f.symbol} pool with ${e.symbol} for computing gas costs.`),null;let i=M().maxBy(s,e=>e.liquidity);return i}async function ft(e,t){let f=t3[e],n=$[e];if(!f)throw Error(`Could not find a USD token for computing gas costs on ${e}`);let a=M()([N.FeeAmount.HIGH,N.FeeAmount.MEDIUM,N.FeeAmount.LOW,N.FeeAmount.LOWEST]).flatMap(e=>M().map(f,t=>[n,t,e])).value(),s=await t.getPools(a),i=M()([N.FeeAmount.HIGH,N.FeeAmount.MEDIUM,N.FeeAmount.LOW,N.FeeAmount.LOWEST]).flatMap(e=>{let t=[];for(let a of f){let f=s.getPool(n,a,e);f&&t.push(f)}return t}).compact().value();if(0==i.length){let e=`Could not find a USD/${n.symbol} pool for computing gas costs.`;throw w.error({pools:i},e),Error(e)}let o=M().maxBy(i,e=>e.liquidity);return o}function ff(e,t){let f=e.slice(2).match(/.{1,2}/g),n=f.length,a=0;for(let e=0;e<n;e+=1){let t=parseInt(f[e],16);0==t?a+=4:a+=16}let s=t.add(a);return s.add(1088)}let fn=tI.O$.from(0),fa=e=>{switch(e){case p.MAINNET:case p.ROPSTEN:case p.RINKEBY:case p["G\xd6RLI"]:case p.OPTIMISM:case p.OPTIMISM_GOERLI:case p.OPTIMISTIC_KOVAN:case p.BSC:case p.KOVAN:return tI.O$.from(2e3);case p.ARBITRUM_ONE:case p.ARBITRUM_RINKEBY:case p.ARBITRUM_GOERLI:return tI.O$.from(5e3);case p.POLYGON:case p.POLYGON_MUMBAI:case p.CELO:case p.CELO_ALFAJORES:case p.GNOSIS:case p.MOONBEAM:return tI.O$.from(2e3)}},fs=e=>{switch(e){case p.MAINNET:case p.ROPSTEN:case p.RINKEBY:case p["G\xd6RLI"]:case p.BSC:case p.KOVAN:case p.OPTIMISM:case p.OPTIMISM_GOERLI:case p.OPTIMISTIC_KOVAN:case p.ARBITRUM_ONE:case p.ARBITRUM_RINKEBY:case p.ARBITRUM_GOERLI:case p.POLYGON:case p.POLYGON_MUMBAI:case p.CELO:case p.CELO_ALFAJORES:case p.GNOSIS:case p.MOONBEAM:return tI.O$.from(31e3)}},fi=e=>{switch(e){case p.MAINNET:case p.ROPSTEN:case p.RINKEBY:case p["G\xd6RLI"]:case p.KOVAN:case p.BSC:case p.OPTIMISM:case p.OPTIMISM_GOERLI:case p.OPTIMISTIC_KOVAN:case p.ARBITRUM_ONE:case p.ARBITRUM_RINKEBY:case p.ARBITRUM_GOERLI:case p.POLYGON:case p.POLYGON_MUMBAI:case p.CELO:case p.CELO_ALFAJORES:case p.GNOSIS:case p.MOONBEAM:return tI.O$.from(8e4)}};class fo extends t4{constructor(){super()}async buildGasModel({chainId:e,gasPriceWei:t,v3poolProvider:f,amountToken:n,quoteToken:a,l2GasDataProvider:s}){let i=s?await s.getGasData():void 0,o=await ft(e,f),r=async t=>{let n={type:g.UNIVERSAL_ROUTER,recipient:"0x0000000000000000000000000000000000000001",deadlineOrPreviousBlockhash:100,slippageTolerance:new S.Percent(5,1e4)},s=tI.O$.from(0),r=tI.O$.from(0);e==p.OPTIMISM||e==p.OPTIMISTIC_KOVAN||e==p.OPTIMISM_GOERLI?[s,r]=this.calculateOptimismToL1SecurityFee(t,n,i):(e==p.ARBITRUM_ONE||e==p.ARBITRUM_RINKEBY||e==p.ARBITRUM_GOERLI)&&([s,r]=this.calculateArbitrumToL1SecurityFee(t,n,i));let d=$[e],c=et.fromRawAmount(d,r.toString()),u=o.token0.address==d.address?o.token0Price:o.token1Price,l=u.quote(c),b=c;if(!a.equals(d)){let e=await fe(a,f);if(e){let t=e.token0.address==d.address?e.token0Price:e.token1Price;b=t.quote(c)}else w.info("Could not find a pool to convert the cost into the quote token"),b=et.fromRawAmount(a,0)}return{gasUsedL1:s,gasCostL1USD:l,gasCostL1QuoteToken:b}},d=$[e];if(a.equals(d)){let f=f=>{let{totalGasCostNativeCurrency:n,baseGasUse:a}=this.estimateGas(f,t,e),s=o.token0.address==d.address,i=s?o.token0Price:o.token1Price,r=i.quote(n);return{gasEstimate:a,gasCostInToken:n,gasCostInUSD:r}};return{estimateGasCost:f,calculateL1GasFees:r}}let c=await fe(a,f),u=null;n.equals(d)||(u=await fe(n,f));let l=o.token0.address==d.address?o.token1:o.token0,b=f=>{let s;let{totalGasCostNativeCurrency:i,baseGasUse:r}=this.estimateGas(f,t,e),p=null;if(c){let e=c.token0.address==d.address,t=e?c.token0Price:c.token1Price;try{p=t.quote(i)}catch(e){throw w.info({nativeTokenPriceBase:t.baseCurrency,nativeTokenPriceQuote:t.quoteCurrency,gasCostInEth:i.currency},"Debug eth price token issue"),e}}else w.info(`Unable to find ${d.symbol} pool with the quote token, ${a.symbol} to produce gas adjusted costs. Using amountToken to calculate gas costs.`);if(u){let e=new S.Price(f.amount.currency,f.quote.currency,f.amount.quotient,f.quote.quotient),t=u.token0.address==d.address,n=t?u.token0Price:u.token1Price,a=n.quote(i),s=e.quote(a);(null===p||s.lessThan(p.asFraction))&&(w.info({nativeAmountTokenPrice:n.toSignificant(6),gasCostInTermsOfQuoteToken:p?p.toExact():0,gasCostInTermsOfAmountToken:a.toExact(),executionPrice:e.toSignificant(6),syntheticGasCostInTermsOfQuoteToken:s.toSignificant(6)},"New gasCostInTermsOfQuoteToken calculated with synthetic quote token price is less than original"),p=s)}let b=o.token0.address==d.address,m=b?o.token0Price:o.token1Price;try{s=m.quote(i)}catch(e){throw w.info({usdT1:o.token0.symbol,usdT2:o.token1.symbol,gasCostInNativeToken:i.currency.symbol},"Failed to compute USD gas price"),e}return null===p?(w.info(`Unable to find ${d.symbol} pool with the quote token, ${a.symbol}, or amount Token, ${n.symbol} to produce gas adjusted costs. Route will not account for gas.`),{gasEstimate:r,gasCostInToken:et.fromRawAmount(a,0),gasCostInUSD:et.fromRawAmount(l,0)}):{gasEstimate:r,gasCostInToken:p,gasCostInUSD:s}};return{estimateGasCost:b.bind(this),calculateL1GasFees:r}}estimateGas(e,t,f){let n=tI.O$.from(Math.max(1,M().sum(e.initializedTicksCrossedList))),a=tI.O$.from(e.route.pools.length),s=fi(f).mul(a),i=fs(f).mul(n),o=fn.mul(0),r=fa(f).add(s).add(i).add(o),d=t.mul(r),c=$[f],u=et.fromRawAmount(c,d.toString());return{totalGasCostNativeCurrency:u,totalInitializedTicksCrossed:n,baseGasUse:r}}calculateOptimismToL1SecurityFee(e,t,f){let{l1BaseFee:n,scalar:a,decimals:s,overhead:i}=f,o=e[0],r=o.tradeType==S.TradeType.EXACT_INPUT?o.amount.currency:o.quote.currency,d=o.tradeType==S.TradeType.EXACT_INPUT?o.quote.currency:o.amount.currency,c=tQ(r,d,o.tradeType,e),u=tX(c,t,p.OPTIMISM).calldata,l=ff(u,i),b=l.mul(n),m=b.mul(a),h=tI.O$.from(10).pow(s),y=m.div(h);return[l,y]}calculateArbitrumToL1SecurityFee(e,t,f){let{perL2TxFee:n,perL1CalldataFee:a}=f,s=e[0],i=s.tradeType==S.TradeType.EXACT_INPUT?s.amount.currency:s.quote.currency,o=s.tradeType==S.TradeType.EXACT_INPUT?s.quote.currency:s.amount.currency,r=tQ(i,o,s.tradeType,e),d=tX(r,t,p.ARBITRUM_ONE).calldata,c=ff(d,tI.O$.from(0)),u=c.mul(a);return[c,u=u.add(n)]}}async function fr(e,t,f,n,a,s,i){let o=Date.now(),{forceMixedRoutes:r}=s;if(r&&(w.info({forceMixedRoutes:r},"Forcing mixed routes by filtering out other route types"),!(f=M().filter(f,e=>e.protocol===ea.Protocol.MIXED))))return null;let d={};for(let e of f)d[e.percent]||(d[e.percent]=[]),d[e.percent].push(e);B.putMetric("BuildRouteWithValidQuoteObjects",Date.now()-o,l.Milliseconds);let c=await fd(n,d,t,a,e=>e.quoteAdjustedForGas,s,i);if(!c)return null;let{routes:u}=c,p=M().reduce(u,(e,t)=>e.add(t.amount),et.fromRawAmount(u[0].amount.currency,0)),b=e.subtract(p);return b.greaterThan(0)&&(w.info({missingAmount:b.quotient.toString()},"Optimal route's amounts did not equal exactIn/exactOut total. Adding missing amount to last route in array."),u[u.length-1].amount=u[u.length-1].amount.add(b)),w.info({routes:eo(u),numSplits:u.length,amount:e.toExact(),quote:c.quote.toExact(),quoteGasAdjusted:c.quoteGasAdjusted.toFixed(Math.min(c.quoteGasAdjusted.currency.decimals,2)),estimatedGasUSD:c.estimatedGasUsedUSD.toFixed(Math.min(c.estimatedGasUsedUSD.currency.decimals,2)),estimatedGasToken:c.estimatedGasUsedQuoteToken.toFixed(Math.min(c.estimatedGasUsedQuoteToken.currency.decimals,2))},`Found best swap route. ${u.length} split.`),c}async function fd(e,t,f,n,a,s,i){var o;let r,d;let c=M().mapValues(t,t=>t.sort((t,f)=>e==S.TradeType.EXACT_INPUT?a(t).greaterThan(a(f))?-1:1:a(t).lessThan(a(f))?-1:1)),u=e==S.TradeType.EXACT_INPUT?(e,t)=>e.greaterThan(t):(e,t)=>e.lessThan(t),p=e=>{let t=e[0];for(let f=1;f<e.length;f++)t=t.add(e[f]);return t},b=new(t6())(Array,(e,t)=>u(e.quote,t.quote)?-1:1,3),{minSplits:m,maxSplits:h,forceCrossProtocol:y}=s;if(!c[100]||m>1||y)w.info({percentToSortedQuotes:M().mapValues(c,e=>e.length)},"Did not find a valid route without any splits. Continuing search anyway.");else for(let e of(r=a(c[100][0]),d=[c[100][0]],c[100].slice(0,5)))b.push({quote:a(e),routes:[e]});let g=new(t2());for(let e=f.length;e>=0;e--){let t=f[e];c[t]&&(g.enqueue({curRoutes:[c[t][0]],percentIndex:e,remainingPercent:100-t,special:!1}),c[t]&&c[t][1]&&g.enqueue({curRoutes:[c[t][1]],percentIndex:e,remainingPercent:100-t,special:!0}))}let T=1,v=Date.now();for(;g.size>0;){B.putMetric(`Split${T}Done`,Date.now()-v,l.Milliseconds),v=Date.now(),w.info({top5:M().map(Array.from(b.consume()),e=>`${e.quote.toExact()} (${M()(e.routes).map(e=>e.toString()).join(", ")})`),onQueue:g.size},`Top 3 with ${T} splits`),b.clear();let t=g.size;if(++T>=3&&d&&d.length<T-1)break;if(T>h){w.info("Max splits reached. Stopping search."),B.putMetric("MaxSplitsHitReached",1,l.Count);break}for(;t>0;){t--;let{remainingPercent:s,curRoutes:o,percentIndex:h,special:v}=g.dequeue();for(let t=h;t>=0;t--){let h=f[t];if(h>s||!c[h])continue;let I=c[h],E=fc(o,I,y);if(!E)continue;let A=s-h,C=[...o,E];if(0==A&&T>=m){let t=M().map(C,e=>a(e)),f=p(t),s=et.fromRawAmount(f.currency,0);if(L.includes(n)){let e=C.every(e=>e.protocol==ea.Protocol.V3);if(void 0!=i&&e){let e=await i.calculateL1GasFees(C);s=e.gasCostL1QuoteToken}else throw Error("Can't compute L1 gas fees.")}let o=e==S.TradeType.EXACT_INPUT?f.subtract(s):f.add(s);b.push({quote:o,routes:C}),(!r||u(o,r))&&(r=o,d=C,v&&B.putMetric("BestSwapNotPickingBestForPercent",1,l.Count))}else g.enqueue({curRoutes:C,remainingPercent:A,percentIndex:t,special:v})}}}if(!d){w.info("Could not find a valid swap");return}let I=Date.now(),E=p(M().map(d,e=>e.quoteAdjustedForGas)),A=M()(d).map(e=>e.gasEstimate).reduce((e,t)=>e.add(t),tI.O$.from(0));if(!t3[n]||!t3[n][0])throw Error(`Could not find a USD token for computing gas costs on ${n}`);let C=t3[n][0],k=C.decimals,O={gasUsedL1:tI.O$.from(0),gasCostL1USD:et.fromRawAmount(C,0),gasCostL1QuoteToken:et.fromRawAmount(null===(o=d[0])||void 0===o?void 0:o.quoteToken,0)};if(L.includes(n)){let e=d.every(e=>e.protocol==ea.Protocol.V3);if(void 0!=i&&e)O=await i.calculateL1GasFees(d);else throw Error("Can't compute L1 gas fees.")}let{gasCostL1USD:x,gasCostL1QuoteToken:R}=O,P=M()(d).map(e=>{let t=k-e.gasCostInUSD.currency.decimals;return 0==t?et.fromRawAmount(C,e.gasCostInUSD.quotient):et.fromRawAmount(C,ee().multiply(e.gasCostInUSD.quotient,ee().exponentiate(ee().BigInt(10),ee().BigInt(t))))}).value(),D=p(P);if(D.currency!=x.currency){let e=k-x.currency.decimals;D=D.add(et.fromRawAmount(C,ee().multiply(x.quotient,ee().exponentiate(ee().BigInt(10),ee().BigInt(e)))))}else D=D.add(x);w.info({estimatedGasUsedUSD:D.toExact(),normalizedUsdToken:C,routeUSDGasEstimates:M().map(d,e=>`${e.percent}% ${ei(e.route)} ${e.gasCostInUSD.toExact()}`),flatL1GasCostUSD:x.toExact()},"USD gas estimates of best route");let F=p(M().map(d,e=>e.gasCostInToken)).add(R),N=p(M().map(d,e=>e.quote));if(e==S.TradeType.EXACT_INPUT){let e=E.subtract(R);E=e}else{let e=E.add(R);E=e}let U=d.sort((e,t)=>t.amount.greaterThan(e.amount)?1:-1);return B.putMetric("PostSplitDone",Date.now()-I,l.Milliseconds),{quote:N,quoteGasAdjusted:E,estimatedGasUsed:A,estimatedGasUsedUSD:D,estimatedGasUsedQuoteToken:F,routes:U}}let fc=(e,t,f)=>{let n=new Set,a=M()(e).flatMap(e=>e.poolAddresses).value();for(let e of a)n.add(e);let s=new Set,i=M()(e).flatMap(e=>e.protocol).uniq().value();for(let e of i)s.add(e);for(let e of t){let{poolAddresses:t,protocol:a}=e;if(t.some(e=>n.has(e)))continue;let i=f&&1==s.size;if(!(i&&s.has(a)))return e}return null},fu=tI.O$.from(135e3),fl=tI.O$.from(5e4);class fp extends t9{constructor(){super()}async buildGasModel({chainId:e,gasPriceWei:t,poolProvider:f,token:n}){if(n.equals($[e])){let n=await this.getHighestLiquidityUSDPool(e,f);return{estimateGasCost:f=>{let{gasCostInEth:a,gasUse:s}=this.estimateGas(f,t,e),i=n.token0.address==$[e].address,o=i?n.token0Price:n.token1Price,r=o.quote(a);return{gasEstimate:s,gasCostInToken:a,gasCostInUSD:r}}}}let a=await this.getEthPool(e,n,f);a||w.info("Unable to find ETH pool with the quote token to produce gas adjusted costs. Route will not account for gas.");let s=await this.getHighestLiquidityUSDPool(e,f);return{estimateGasCost:f=>{let i,o;let r=s.token0.address==$[e].address?s.token1:s.token0,{gasCostInEth:d,gasUse:c}=this.estimateGas(f,t,e);if(!a)return{gasEstimate:c,gasCostInToken:et.fromRawAmount(n,0),gasCostInUSD:et.fromRawAmount(r,0)};let u=a.token0.address==$[e].address,l=u?a.token0Price:a.token1Price;try{i=l.quote(d)}catch(e){throw w.error({ethTokenPriceBase:l.baseCurrency,ethTokenPriceQuote:l.quoteCurrency,gasCostInEth:d.currency},"Debug eth price token issue"),e}let p=s.token0.address==$[e].address,b=p?s.token0Price:s.token1Price;try{o=b.quote(d)}catch(e){throw w.error({usdT1:s.token0.symbol,usdT2:s.token1.symbol,gasCostInEthToken:d.currency.symbol},"Failed to compute USD gas price"),e}return{gasEstimate:c,gasCostInToken:i,gasCostInUSD:o}}}}estimateGas(e,t,f){let n=e.route.pairs.length,a=fu.add(fl.mul(n-1)),s=t.mul(a),i=$[f],o=et.fromRawAmount(i,s.toString());return{gasCostInEth:o,gasUse:a}}async getEthPool(e,t,f){let n=$[e],a=await f.getPools([[n,t]]),s=a.getPool(n,t);return!s||s.reserve0.equalTo(0)||s.reserve1.equalTo(0)?(w.error({weth:n,token:t,reserve0:null==s?void 0:s.reserve0.toExact(),reserve1:null==s?void 0:s.reserve1.toExact()},`Could not find a valid WETH pool with ${t.symbol} for computing gas costs.`),null):s}async getHighestLiquidityUSDPool(e,t){let f=t3[e];if(!f)throw Error(`Could not find a USD token for computing gas costs on ${e}`);let n=M().map(f,t=>[t,$[e]]),a=await t.getPools(n),s=a.getAllPools(),i=M().filter(s,e=>e.reserve0.greaterThan(0)&&e.reserve1.greaterThan(0));if(0==i.length)throw w.error({pools:i},"Could not find a USD/WETH pool for computing gas costs."),Error("Can't find USD/WETH pool for computing gas costs.");let o=M().maxBy(i,t=>t.token0.equals($[e])?parseFloat(t.reserve0.toSignificant(2)):parseFloat(t.reserve1.toSignificant(2)));return o}}class fb extends t4{constructor(){super()}async buildGasModel({chainId:e,gasPriceWei:t,v3poolProvider:f,quoteToken:n,v2poolProvider:a}){let s;let i=await ft(e,f),o=$[e];if(n.equals(o)){let f=f=>{let{totalGasCostNativeCurrency:n,baseGasUse:a}=this.estimateGas(f,t,e),s=i.token0.address==o.address,r=s?i.token0Price:i.token1Price,d=r.quote(n);return{gasEstimate:a,gasCostInToken:n,gasCostInUSD:d}};return{estimateGasCost:f}}let r=await fe(n,f);a&&(s=await t7(n,a));let d=i.token0.address==o.address?i.token1:i.token0,c=f=>{let a,c;let{totalGasCostNativeCurrency:u,baseGasUse:l}=this.estimateGas(f,t,e);if(!r&&!s)return w.info(`Unable to find ${o.symbol} pool with the quote token, ${n.symbol} to produce gas adjusted costs. Route will not account for gas.`),{gasEstimate:l,gasCostInToken:et.fromRawAmount(n,0),gasCostInUSD:et.fromRawAmount(d,0)};let p=(!r||ee().equal(r.liquidity,ee().BigInt(0)))&&s?s:r,b=p.token0.address==o.address,m=b?p.token0Price:p.token1Price;try{a=m.quote(u)}catch(e){throw w.info({nativeTokenPriceBase:m.baseCurrency,nativeTokenPriceQuote:m.quoteCurrency,gasCostInEth:u.currency},"Debug eth price token issue"),e}let h=i.token0.address==o.address,y=h?i.token0Price:i.token1Price;try{c=y.quote(u)}catch(e){throw w.info({usdT1:i.token0.symbol,usdT2:i.token1.symbol,gasCostInNativeToken:u.currency.symbol},"Failed to compute USD gas price"),e}return{gasEstimate:l,gasCostInToken:a,gasCostInUSD:c}};return{estimateGasCost:c.bind(this)}}estimateGas(e,t,f){let n=tI.O$.from(Math.max(1,M().sum(e.initializedTicksCrossedList))),a=tI.O$.from(0),s=e.route,i=(0,ea.partitionMixedRouteByProtocol)(s);i.map(e=>{e.every(e=>e instanceof N.Pool)?a=(a=a.add(fa(f))).add(fi(f).mul(e.length)):e.every(e=>e instanceof es.Pair)&&(a=(a=a.add(fu)).add(fl.mul(e.length-1)))});let o=fs(f).mul(n),r=fn.mul(0);a=a.add(o).add(r);let d=t.mul(a),c=$[f],u=et.fromRawAmount(c,d.toString());return{totalGasCostNativeCurrency:u,totalInitializedTicksCrossed:n,baseGasUse:a}}}class fm{constructor(e,t,f,n){this.tokenProvider=e,this.chainId=t,this.blockedTokenListProvider=f,this.tokenValidatorProvider=n}getRoutesThenQuotes(e,t,f,n,a,s,i,o,r){return this.getRoutes(e,t,s,i).then(e=>this.getQuotes(e.routes,f,n,a,s,i,e.candidatePools,o,r))}async applyTokenValidatorToPools(e,t){if(!this.tokenValidatorProvider)return e;w.info(`Running token validator on ${e.length} pools`);let f=M().flatMap(e,e=>[e.token0,e.token1]),n=await this.tokenValidatorProvider.validateTokens(f),a=M().filter(e,e=>{let f=n.getValidationByToken(e.token0),a=n.getValidationByToken(e.token1),s=t(e.token0,f),i=t(e.token1,a);return(s||i)&&w.info(`Dropping pool ${er(e)} because token is invalid. ${e.token0.symbol}: ${f}, ${e.token1.symbol}: ${a}`),!s&&!i});return a}}class fh{constructor({amount:e,rawQuote:t,percent:f,route:n,gasModel:a,quoteToken:s,tradeType:i,v2PoolProvider:o}){this.protocol=ea.Protocol.V2,this.amount=e,this.rawQuote=t,this.quote=et.fromRawAmount(s,t.toString()),this.percent=f,this.route=n,this.gasModel=a,this.quoteToken=s,this.tradeType=i;let{gasEstimate:r,gasCostInToken:d,gasCostInUSD:c}=this.gasModel.estimateGasCost(this);if(this.gasCostInToken=d,this.gasCostInUSD=c,this.gasEstimate=r,this.tradeType==S.TradeType.EXACT_INPUT){let e=this.quote.subtract(d);this.quoteAdjustedForGas=e}else{let e=this.quote.add(d);this.quoteAdjustedForGas=e}this.poolAddresses=M().map(n.pairs,e=>o.getPoolAddress(e.token0,e.token1).poolAddress),this.tokenPath=this.route.path}toString(){return`${this.percent.toFixed(2)}% QuoteGasAdj[${this.quoteAdjustedForGas.toExact()}] Quote[${this.quote.toExact()}] Gas[${this.gasEstimate.toString()}] = ${ei(this.route)}`}}class fy{constructor({amount:e,rawQuote:t,sqrtPriceX96AfterList:f,initializedTicksCrossedList:n,quoterGasEstimate:a,percent:s,route:i,gasModel:o,quoteToken:r,tradeType:d,v3PoolProvider:c}){this.protocol=ea.Protocol.V3,this.amount=e,this.rawQuote=t,this.sqrtPriceX96AfterList=f,this.initializedTicksCrossedList=n,this.quoterGasEstimate=a,this.quote=et.fromRawAmount(r,t.toString()),this.percent=s,this.route=i,this.gasModel=o,this.quoteToken=r,this.tradeType=d;let{gasEstimate:u,gasCostInToken:l,gasCostInUSD:p}=this.gasModel.estimateGasCost(this);if(this.gasCostInToken=l,this.gasCostInUSD=p,this.gasEstimate=u,this.tradeType==S.TradeType.EXACT_INPUT){let e=this.quote.subtract(l);this.quoteAdjustedForGas=e}else{let e=this.quote.add(l);this.quoteAdjustedForGas=e}this.poolAddresses=M().map(i.pools,e=>c.getPoolAddress(e.token0,e.token1,e.fee).poolAddress),this.tokenPath=this.route.tokenPath}toString(){return`${this.percent.toFixed(2)}% QuoteGasAdj[${this.quoteAdjustedForGas.toExact()}] Quote[${this.quote.toExact()}] Gas[${this.gasEstimate.toString()}] = ${ei(this.route)}`}}class fg{constructor({amount:e,rawQuote:t,sqrtPriceX96AfterList:f,initializedTicksCrossedList:n,quoterGasEstimate:a,percent:s,route:i,mixedRouteGasModel:o,quoteToken:r,tradeType:d,v3PoolProvider:c,v2PoolProvider:u}){this.protocol=ea.Protocol.MIXED,this.amount=e,this.rawQuote=t,this.sqrtPriceX96AfterList=f,this.initializedTicksCrossedList=n,this.quoterGasEstimate=a,this.quote=et.fromRawAmount(r,t.toString()),this.percent=s,this.route=i,this.gasModel=o,this.quoteToken=r,this.tradeType=d;let{gasEstimate:l,gasCostInToken:p,gasCostInUSD:b}=this.gasModel.estimateGasCost(this);if(this.gasCostInToken=p,this.gasCostInUSD=b,this.gasEstimate=l,this.tradeType==S.TradeType.EXACT_INPUT){let e=this.quote.subtract(p);this.quoteAdjustedForGas=e}else{let e=this.quote.add(p);this.quoteAdjustedForGas=e}this.poolAddresses=M().map(i.pools,e=>e instanceof N.Pool?c.getPoolAddress(e.token0,e.token1,e.fee).poolAddress:u.getPoolAddress(e.token0,e.token1).poolAddress),this.tokenPath=this.route.path}toString(){return`${this.percent.toFixed(2)}% QuoteGasAdj[${this.quoteAdjustedForGas.toExact()}] Quote[${this.quote.toExact()}] Gas[${this.gasEstimate.toString()}] = ${ei(this.route)}`}}function fT(e,t,f,n,a){var s;let i=Array(n.length).fill(!1),o=[],r=(e,t,s,i,d)=>{if(!(s.length>a)){if(s.length>0&&s[s.length-1].involvesToken(t)){o.push(f([...s],e,t));return}for(let f=0;f<n.length;f++){if(i[f])continue;let a=n[f],o=d||e;if(!a.involvesToken(o))continue;let c=a.token0.equals(o)?a.token1:a.token0;s.push(a),i[f]=!0,r(e,t,s,i,c),i[f]=!1,s.pop()}}};return r(e,t,[],i),w.info({routes:o.map(ei),pools:n.map(er)},`Computed ${o.length} possible routes for type ${null===(s=o[0])||void 0===s?void 0:s.protocol}.`),o}let fv={[p.MAINNET]:[ep,eb,em,eh,$[1],ey],[p.RINKEBY]:[eI,eE],[p.OPTIMISM]:[eN,eD,eB,eF],[p.OPTIMISM_GOERLI]:[eq,eL,e_,eG],[p.OPTIMISTIC_KOVAN]:[ej,e$,eW,eV],[p.ARBITRUM_ONE]:[eQ,eK,eY,eH],[p.ARBITRUM_RINKEBY]:[ez,eJ],[p.ARBITRUM_GOERLI]:[e1],[p.POLYGON]:[e8,e5],[p.POLYGON_MUMBAI]:[e3,e2],[p.CELO]:[ts,ti,tn],[p.CELO_ALFAJORES]:[td,tc,to],[p.GNOSIS]:[tp,tl,tu],[p.MOONBEAM]:[th,tb,ty,tm],[p.BSC]:[e7,tt,tf]};async function fI({tokenIn:e,tokenOut:t,routeType:f,routingConfig:n,subgraphProvider:a,tokenProvider:s,poolProvider:i,blockedTokenListProvider:o,chainId:r}){var d,c,u,b,m;let{blockNumber:h,v3PoolSelection:{topN:y,topNDirectSwaps:g,topNTokenInOut:T,topNSecondHop:v,topNSecondHopForTokenAddress:I,topNWithEachBaseToken:E,topNWithBaseToken:A}}=n,C=e.address.toLowerCase(),k=t.address.toLowerCase(),O=Date.now(),x=await a.getPools(e,t,{blockNumber:h});w.info({samplePools:x.slice(0,3)},"Got all pools from V3 subgraph provider");let R=M().map(x,e=>({...e,token0:{...e.token0,id:e.token0.id.toLowerCase()},token1:{...e.token1,id:e.token1.id.toLowerCase()}}));B.putMetric("V3SubgraphPoolsLoad",Date.now()-O,l.Milliseconds);let P=R;if(o)for(let e of(P=[],R)){let t=await o.getTokenByAddress(e.token0.id),f=await o.getTokenByAddress(e.token1.id);t||f||P.push(e)}let D=M()(P).sortBy(e=>-e.tvlUSD).value();w.info(`After filtering blocked tokens went from ${R.length} to ${D.length}.`);let F=new Set,U=e=>{M()(e).map(e=>e.id).forEach(e=>F.add(e))},L=null!==(d=fv[r])&&void 0!==d?d:[],_=M()(L).flatMap(e=>M()(D).filter(t=>{let f=e.address.toLowerCase();return t.token0.id==f&&t.token1.id==C||t.token1.id==f&&t.token0.id==C}).sortBy(e=>-e.tvlUSD).slice(0,E).value()).sortBy(e=>-e.tvlUSD).slice(0,A).value(),G=M()(L).flatMap(e=>M()(D).filter(t=>{let f=e.address.toLowerCase();return t.token0.id==f&&t.token1.id==k||t.token1.id==f&&t.token0.id==k}).sortBy(e=>-e.tvlUSD).slice(0,E).value()).sortBy(e=>-e.tvlUSD).slice(0,A).value(),q=M()(D).filter(e=>!F.has(e.id)&&(e.token0.id==C&&e.token1.id==k||e.token1.id==C&&e.token0.id==k)).slice(0,g).value();0==q.length&&g>0&&(q=M().map([N.FeeAmount.HIGH,N.FeeAmount.MEDIUM,N.FeeAmount.LOW,N.FeeAmount.LOWEST],f=>{let{token0:n,token1:a,poolAddress:s}=i.getPoolAddress(e,t,f);return{id:s,feeTier:en(f),liquidity:"10000",token0:{id:n.address},token1:{id:a.address},tvlETH:1e4,tvlUSD:1e4}})),U(q);let V=null===(c=$[r])||void 0===c?void 0:c.address,W=[];((null===(u=$[r])||void 0===u?void 0:u.symbol)==(null===(b=$[p.MAINNET])||void 0===b?void 0:b.symbol)&&"WETH"!=t.symbol&&"WETH9"!=t.symbol&&"ETH"!=t.symbol||(null===(m=$[r])||void 0===m?void 0:m.symbol)==e5.symbol&&"MATIC"!=t.symbol&&"WMATIC"!=t.symbol)&&(W=M()(D).filter(e=>f==S.TradeType.EXACT_INPUT?e.token0.id==V&&e.token1.id==k||e.token1.id==V&&e.token0.id==k:e.token0.id==V&&e.token1.id==C||e.token1.id==V&&e.token0.id==C).slice(0,1).value()),U(W);let j=M()(D).filter(e=>!F.has(e.id)).slice(0,y).value();U(j);let K=M()(D).filter(e=>!F.has(e.id)&&(e.token0.id==C||e.token1.id==C)).slice(0,T).value();U(K);let H=M()(D).filter(e=>!F.has(e.id)&&(e.token0.id==k||e.token1.id==k)).slice(0,T).value();U(H);let Y=M()(K).map(e=>C==e.token0.id?e.token1.id:e.token0.id).flatMap(e=>{var t;return M()(D).filter(t=>!F.has(t.id)&&(t.token0.id==e||t.token1.id==e)).slice(0,null!==(t=null==I?void 0:I.get(e))&&void 0!==t?t:v).value()}).uniqBy(e=>e.id).value();U(Y);let Q=M()(H).map(e=>k==e.token0.id?e.token1.id:e.token0.id).flatMap(e=>{var t;return M()(D).filter(t=>!F.has(t.id)&&(t.token0.id==e||t.token1.id==e)).slice(0,null!==(t=null==I?void 0:I.get(e))&&void 0!==t?t:v).value()}).uniqBy(e=>e.id).value();U(Q);let X=M()([..._,...G,...q,...W,...j,...K,...H,...Y,...Q]).compact().uniqBy(e=>e.id).value(),z=M()(X).flatMap(e=>[e.token0.id,e.token1.id]).compact().uniq().value();w.info(`Getting the ${z.length} tokens within the ${X.length} V3 pools we are considering`);let J=await s.getTokens(z,{blockNumber:h}),Z=e=>{var t,f,n,a;return`${null!==(f=null===(t=J.getTokenByAddress(e.token0.id))||void 0===t?void 0:t.symbol)&&void 0!==f?f:e.token0.id}/${null!==(a=null===(n=J.getTokenByAddress(e.token1.id))||void 0===n?void 0:n.symbol)&&void 0!==a?a:e.token1.id}/${e.feeTier}`};w.info({topByBaseWithTokenIn:_.map(Z),topByBaseWithTokenOut:G.map(Z),topByTVL:j.map(Z),topByTVLUsingTokenIn:K.map(Z),topByTVLUsingTokenOut:H.map(Z),topByTVLUsingTokenInSecondHops:Y.map(Z),topByTVLUsingTokenOutSecondHops:Q.map(Z),top2DirectSwap:q.map(Z),top2EthQuotePool:W.map(Z)},"V3 Candidate Pools");let ee=M().map(X,e=>{let t;let f=J.getTokenByAddress(e.token0.id),n=J.getTokenByAddress(e.token1.id);try{t=ef(e.feeTier)}catch(t){w.info({subgraphPool:e},`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${e.feeTier} because fee tier not supported`);return}if(!f||!n){w.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${t} because ${f?e.token1.id:e.token0.id} not found by token provider`);return}return[f,n,t]}),et=M().compact(ee),es=Date.now(),ei=await i.getPools(et);B.putMetric("V3PoolsLoad",Date.now()-es,l.Milliseconds);let eo={protocol:ea.Protocol.V3,selections:{topByBaseWithTokenIn:_,topByBaseWithTokenOut:G,topByDirectSwapPool:q,topByEthQuoteTokenPool:W,topByTVL:j,topByTVLUsingTokenIn:K,topByTVLUsingTokenOut:H,topByTVLUsingTokenInSecondHops:Y,topByTVLUsingTokenOutSecondHops:Q}};return{poolAccessor:ei,candidatePools:eo,subgraphPools:X}}async function fE({tokenIn:e,tokenOut:t,routeType:f,routingConfig:n,subgraphProvider:a,tokenProvider:s,poolProvider:i,blockedTokenListProvider:o,chainId:r}){var d;let{blockNumber:c,v2PoolSelection:{topN:u,topNDirectSwaps:p,topNTokenInOut:b,topNSecondHop:m,topNWithEachBaseToken:h,topNWithBaseToken:y}}=n,g=e.address.toLowerCase(),T=t.address.toLowerCase(),v=Date.now(),I=await a.getPools(e,t,{blockNumber:c}),E=M().map(I,e=>({...e,token0:{...e.token0,id:e.token0.id.toLowerCase()},token1:{...e.token1,id:e.token1.id.toLowerCase()}}));B.putMetric("V2SubgraphPoolsLoad",Date.now()-v,l.Milliseconds);let A=E;if(o)for(let e of(A=[],E)){let t=await o.getTokenByAddress(e.token0.id),f=await o.getTokenByAddress(e.token1.id);t||f||A.push(e)}let C=M()(A).sortBy(e=>-e.reserve).value();w.info(`After filtering blocked tokens went from ${E.length} to ${C.length}.`);let k=new Set,O=e=>{M()(e).map(e=>e.id).forEach(e=>k.add(e))},x=null!==(d=fv[r])&&void 0!==d?d:[],R=M()(x).flatMap(e=>M()(C).filter(t=>{let f=e.address.toLowerCase();return t.token0.id==f&&t.token1.id==g||t.token1.id==f&&t.token0.id==g}).sortBy(e=>-e.reserve).slice(0,h).value()).sortBy(e=>-e.reserve).slice(0,y).value(),P=M()(x).flatMap(e=>M()(C).filter(t=>{let f=e.address.toLowerCase();return t.token0.id==f&&t.token1.id==T||t.token1.id==f&&t.token0.id==T}).sortBy(e=>-e.reserve).slice(0,h).value()).sortBy(e=>-e.reserve).slice(0,y).value(),D=[];if(0!=p){let{token0:f,token1:n,poolAddress:a}=i.getPoolAddress(e,t);D=[{id:a,token0:{id:f.address},token1:{id:n.address},supply:1e4,reserve:1e4,reserveUSD:1e4}]}O(D);let F=$[r].address,N=[];"WETH"!=t.symbol&&"WETH9"!=t.symbol&&"ETH"!=t.symbol&&(N=M()(C).filter(e=>f==S.TradeType.EXACT_INPUT?e.token0.id==F&&e.token1.id==T||e.token1.id==F&&e.token0.id==T:e.token0.id==F&&e.token1.id==g||e.token1.id==F&&e.token0.id==g).slice(0,1).value()),O(N);let U=M()(C).filter(e=>!k.has(e.id)).slice(0,u).value();O(U);let L=M()(C).filter(e=>!k.has(e.id)&&(e.token0.id==g||e.token1.id==g)).slice(0,b).value();O(L);let _=M()(C).filter(e=>!k.has(e.id)&&(e.token0.id==T||e.token1.id==T)).slice(0,b).value();O(_);let G=M()(L).map(e=>g==e.token0.id?e.token1.id:e.token0.id).flatMap(e=>M()(C).filter(t=>!k.has(t.id)&&(t.token0.id==e||t.token1.id==e)).slice(0,m).value()).uniqBy(e=>e.id).value();O(G);let q=M()(_).map(e=>T==e.token0.id?e.token1.id:e.token0.id).flatMap(e=>M()(C).filter(t=>!k.has(t.id)&&(t.token0.id==e||t.token1.id==e)).slice(0,m).value()).uniqBy(e=>e.id).value();O(q);let V=M()([...R,...P,...D,...N,...U,...L,..._,...G,...q]).compact().uniqBy(e=>e.id).value(),W=M()(V).flatMap(e=>[e.token0.id,e.token1.id]).compact().uniq().value();w.info(`Getting the ${W.length} tokens within the ${V.length} V2 pools we are considering`);let j=await s.getTokens(W,{blockNumber:c}),K=e=>{var t,f,n,a;return`${null!==(f=null===(t=j.getTokenByAddress(e.token0.id))||void 0===t?void 0:t.symbol)&&void 0!==f?f:e.token0.id}/${null!==(a=null===(n=j.getTokenByAddress(e.token1.id))||void 0===n?void 0:n.symbol)&&void 0!==a?a:e.token1.id}`};w.info({topByBaseWithTokenIn:R.map(K),topByBaseWithTokenOut:P.map(K),topByTVL:U.map(K),topByTVLUsingTokenIn:L.map(K),topByTVLUsingTokenOut:_.map(K),topByTVLUsingTokenInSecondHops:G.map(K),topByTVLUsingTokenOutSecondHops:q.map(K),top2DirectSwap:D.map(K),top2EthQuotePool:N.map(K)},"V2 Candidate pools");let H=M().map(V,e=>{let t=j.getTokenByAddress(e.token0.id),f=j.getTokenByAddress(e.token1.id);if(!t||!f){w.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}`);return}return[t,f]}),Y=M().compact(H),Q=Date.now(),X=await i.getPools(Y,{blockNumber:c});B.putMetric("V2PoolsLoad",Date.now()-Q,l.Milliseconds);let z={protocol:ea.Protocol.V2,selections:{topByBaseWithTokenIn:R,topByBaseWithTokenOut:P,topByDirectSwapPool:D,topByEthQuoteTokenPool:N,topByTVL:U,topByTVLUsingTokenIn:L,topByTVLUsingTokenOut:_,topByTVLUsingTokenInSecondHops:G,topByTVLUsingTokenOutSecondHops:q}};return{poolAccessor:X,candidatePools:z,subgraphPools:V}}async function fA({tokenIn:e,tokenOut:t,routeType:f,routingConfig:n,v3subgraphProvider:a,v2subgraphProvider:s,tokenProvider:i,v3poolProvider:o,v2poolProvider:r,blockedTokenListProvider:d,chainId:c}){let{blockNumber:u}=n,{subgraphPools:l,candidatePools:p}=await fI({tokenIn:e,tokenOut:t,tokenProvider:i,blockedTokenListProvider:d,poolProvider:o,routeType:f,subgraphProvider:a,routingConfig:n,chainId:c}),{subgraphPools:b,candidatePools:m}=await fE({tokenIn:e,tokenOut:t,tokenProvider:i,blockedTokenListProvider:d,poolProvider:r,routeType:f,subgraphProvider:s,routingConfig:n,chainId:c}),h=new Set([...m.selections.topByTVLUsingTokenIn,...m.selections.topByBaseWithTokenIn,...m.selections.topByTVLUsingTokenOut,...m.selections.topByBaseWithTokenOut,...m.selections.topByDirectSwapPool].map(e=>e.id)),y=M()(b).filter(e=>h.has(e.id)).sortBy(e=>-e.reserveUSD).value(),g=M()(l).sortBy(e=>-e.tvlUSD).value(),T=[];y.forEach(e=>{let t=g.find(t=>t.token0.id==e.token0.id&&t.token1.id==e.token1.id||t.token0.id==e.token1.id&&t.token1.id==e.token0.id);t?e.reserveUSD>t.tvlUSD&&(w.info({token0:e.token0.id,token1:e.token1.id,v2reserveUSD:e.reserveUSD,v3tvlUSD:t.tvlUSD},"MixedRoute heuristic, found a V2 pool with higher liquidity than its V3 counterpart"),T.push(e)):(w.info({token0:e.token0.id,token1:e.token1.id,v2reserveUSD:e.reserveUSD},"MixedRoute heuristic, found a V2 pool with no V3 counterpart"),T.push(e))}),w.info(T.length,"Number of V2 candidate pools that fit first heuristic");let v=[...T,...g],I=M()(v).flatMap(e=>[e.token0.id,e.token1.id]).compact().uniq().value();w.info(`Getting the ${I.length} tokens within the ${v.length} pools we are considering`);let E=await i.getTokens(I,{blockNumber:u}),A=M().map(g,e=>{let t;let f=E.getTokenByAddress(e.token0.id),n=E.getTokenByAddress(e.token1.id);try{t=ef(e.feeTier)}catch(t){w.info({subgraphPool:e},`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${e.feeTier} because fee tier not supported`);return}if(!f||!n){w.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${t} because ${f?e.token1.id:e.token0.id} not found by token provider`);return}return[f,n,t]}),C=M().compact(A),S=M().map(T,e=>{let t=E.getTokenByAddress(e.token0.id),f=E.getTokenByAddress(e.token1.id);if(!t||!f){w.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}`);return}return[t,f]}),k=M().compact(S),[O,x]=await Promise.all([r.getPools(k,{blockNumber:u}),o.getPools(C,{blockNumber:u})]),R=e=>[...T.filter(t=>m.selections[e].map(e=>e.id).includes(t.id)),...p.selections[e]],P={protocol:ea.Protocol.MIXED,selections:{topByBaseWithTokenIn:R("topByBaseWithTokenIn"),topByBaseWithTokenOut:R("topByBaseWithTokenOut"),topByDirectSwapPool:R("topByDirectSwapPool"),topByEthQuoteTokenPool:R("topByEthQuoteTokenPool"),topByTVL:R("topByTVL"),topByTVLUsingTokenIn:R("topByTVLUsingTokenIn"),topByTVLUsingTokenOut:R("topByTVLUsingTokenOut"),topByTVLUsingTokenInSecondHops:R("topByTVLUsingTokenInSecondHops"),topByTVLUsingTokenOutSecondHops:R("topByTVLUsingTokenOutSecondHops")}};return{V2poolAccessor:O,V3poolAccessor:x,candidatePools:P,subgraphPools:v}}class fC extends fm{constructor(e,t,f,n,a,s,i,o){super(a,s,i,o),this.v2SubgraphProvider=e,this.v2PoolProvider=t,this.v2QuoteProvider=f,this.v2GasModelFactory=n}async getRoutes(e,t,f,n){let{poolAccessor:a,candidatePools:s}=await fE({tokenIn:e,tokenOut:t,tokenProvider:this.tokenProvider,blockedTokenListProvider:this.blockedTokenListProvider,poolProvider:this.v2PoolProvider,routeType:f,subgraphProvider:this.v2SubgraphProvider,routingConfig:n,chainId:this.chainId}),i=a.getAllPools(),o=await this.applyTokenValidatorToPools(i,(f,n)=>!(!n||n==h.STF&&(f.equals(e)||f.equals(t)))&&n==h.STF),{maxSwapsPerPath:r}=n,d=fT(e,t,(e,t,f)=>new tZ(e,t,f),o,r);return{routes:d,candidatePools:s}}async getQuotes(e,t,f,n,a,s,i,o,r){if(w.info("Starting to get V2 quotes"),void 0===r)throw Error("GasPriceWei for V2Routes is required to getQuotes");if(0==e.length)return{routesWithValidQuotes:[],candidatePools:i};let d=a==S.TradeType.EXACT_INPUT?this.v2QuoteProvider.getQuotesManyExactIn.bind(this.v2QuoteProvider):this.v2QuoteProvider.getQuotesManyExactOut.bind(this.v2QuoteProvider),c=Date.now();w.info(`Getting quotes for V2 for ${e.length} routes with ${t.length} amounts per route.`);let{routesWithQuotes:u}=await d(t,e),p=await this.v2GasModelFactory.buildGasModel({chainId:this.chainId,gasPriceWei:r,poolProvider:this.v2PoolProvider,token:n});B.putMetric("V2QuotesLoad",Date.now()-c,l.Milliseconds),B.putMetric("V2QuotesFetched",M()(u).map(([,e])=>e.length).sum(),l.Count);let b=[];for(let e of u){let[t,s]=e;for(let e=0;e<s.length;e++){let i=f[e],o=s[e],{quote:r,amount:d}=o;if(!r){w.debug({route:ei(t),amountQuote:o},"Dropping a null V2 quote for route.");continue}let c=new fh({route:t,rawQuote:r,amount:d,percent:i,gasModel:p,quoteToken:n,tradeType:a,v2PoolProvider:this.v2PoolProvider});b.push(c)}}return{routesWithValidQuotes:b,candidatePools:i}}}class fS extends fm{constructor(e,t,f,n,a,s,i){super(n,a,s,i),this.v3SubgraphProvider=e,this.v3PoolProvider=t,this.onChainQuoteProvider=f}async getRoutes(e,t,f,n){let{poolAccessor:a,candidatePools:s}=await fI({tokenIn:e,tokenOut:t,tokenProvider:this.tokenProvider,blockedTokenListProvider:this.blockedTokenListProvider,poolProvider:this.v3PoolProvider,routeType:f,subgraphProvider:this.v3SubgraphProvider,routingConfig:n,chainId:this.chainId}),i=a.getAllPools(),o=await this.applyTokenValidatorToPools(i,(f,n)=>!(!n||n==h.STF&&(f.equals(e)||f.equals(t)))&&(n==h.FOT||n==h.STF)),{maxSwapsPerPath:r}=n,d=fT(e,t,(e,t,f)=>new tJ(e,t,f),o,r);return{routes:d,candidatePools:s}}async getQuotes(e,t,f,n,a,s,i,o){if(w.info("Starting to get V3 quotes"),void 0===o)throw Error("GasModel for V3RouteWithValidQuote is required to getQuotes");if(0==e.length)return{routesWithValidQuotes:[],candidatePools:i};let r=a==S.TradeType.EXACT_INPUT?this.onChainQuoteProvider.getQuotesManyExactIn.bind(this.onChainQuoteProvider):this.onChainQuoteProvider.getQuotesManyExactOut.bind(this.onChainQuoteProvider),d=Date.now();w.info(`Getting quotes for V3 for ${e.length} routes with ${t.length} amounts per route.`);let{routesWithQuotes:c}=await r(t,e,{blockNumber:s.blockNumber});B.putMetric("V3QuotesLoad",Date.now()-d,l.Milliseconds),B.putMetric("V3QuotesFetched",M()(c).map(([,e])=>e.length).sum(),l.Count);let u=[];for(let e of c){let[t,s]=e;for(let e=0;e<s.length;e++){let i=f[e],r=s[e],{quote:d,amount:c,sqrtPriceX96AfterList:l,initializedTicksCrossedList:p,gasEstimate:b}=r;if(!d||!l||!p||!b){w.debug({route:ei(t),amountQuote:r},"Dropping a null V3 quote for route.");continue}let m=new fy({route:t,rawQuote:d,amount:c,percent:i,sqrtPriceX96AfterList:l,initializedTicksCrossedList:p,quoterGasEstimate:b,gasModel:o,quoteToken:n,tradeType:a,v3PoolProvider:this.v3PoolProvider});u.push(m)}}return{routesWithValidQuotes:u,candidatePools:i}}}class fk extends fm{constructor(e,t,f,n,a,s,i,o,r){super(s,i,o,r),this.v3SubgraphProvider=e,this.v3PoolProvider=t,this.v2SubgraphProvider=f,this.v2PoolProvider=n,this.onChainQuoteProvider=a}async getRoutes(e,t,f,n){if(f!=S.TradeType.EXACT_INPUT)throw Error("Mixed route quotes are not supported for EXACT_OUTPUT");let{V2poolAccessor:a,V3poolAccessor:s,candidatePools:i}=await fA({tokenIn:e,tokenOut:t,tokenProvider:this.tokenProvider,blockedTokenListProvider:this.blockedTokenListProvider,v3poolProvider:this.v3PoolProvider,v2poolProvider:this.v2PoolProvider,routeType:f,v3subgraphProvider:this.v3SubgraphProvider,v2subgraphProvider:this.v2SubgraphProvider,routingConfig:n,chainId:this.chainId}),o=s.getAllPools(),r=a.getAllPools(),d=[...o,...r],c=await this.applyTokenValidatorToPools(d,(f,n)=>!(!n||n==h.STF&&(f.equals(e)||f.equals(t)))&&(n==h.FOT||n==h.STF)),{maxSwapsPerPath:u}=n,l=function(e,t,f,n){let a=fT(e,t,(e,t,f)=>new t0(e,t,f),f,n);return a.filter(e=>!e.pools.every(e=>e instanceof N.Pool)&&!e.pools.every(e=>e instanceof es.Pair))}(e,t,c,u);return{routes:l,candidatePools:i}}async getQuotes(e,t,f,n,a,s,i,o){if(w.info("Starting to get mixed quotes"),void 0===o)throw Error("GasModel for MixedRouteWithValidQuote is required to getQuotes");if(0==e.length)return{routesWithValidQuotes:[],candidatePools:i};let r=this.onChainQuoteProvider.getQuotesManyExactIn.bind(this.onChainQuoteProvider),d=Date.now();w.info(`Getting quotes for mixed for ${e.length} routes with ${t.length} amounts per route.`);let{routesWithQuotes:c}=await r(t,e,{blockNumber:s.blockNumber});B.putMetric("MixedQuotesLoad",Date.now()-d,l.Milliseconds),B.putMetric("MixedQuotesFetched",M()(c).map(([,e])=>e.length).sum(),l.Count);let u=[];for(let e of c){let[t,s]=e;for(let e=0;e<s.length;e++){let i=f[e],r=s[e],{quote:d,amount:c,sqrtPriceX96AfterList:l,initializedTicksCrossedList:p,gasEstimate:b}=r;if(!d||!l||!p||!b){w.debug({route:ei(t),amountQuote:r},"Dropping a null mixed quote for route.");continue}let m=new fg({route:t,rawQuote:d,amount:c,percent:i,sqrtPriceX96AfterList:l,initializedTicksCrossedList:p,quoterGasEstimate:b,mixedRouteGasModel:o,quoteToken:n,tradeType:a,v3PoolProvider:this.v3PoolProvider,v2PoolProvider:this.v2PoolProvider});u.push(m)}}return{routesWithValidQuotes:u,candidatePools:i}}}class fw{constructor({chainId:e,provider:t,multicall2Provider:f,v3PoolProvider:n,onChainQuoteProvider:a,v2PoolProvider:s,v2QuoteProvider:i,v2SubgraphProvider:o,tokenProvider:r,blockedTokenListProvider:d,v3SubgraphProvider:c,gasPriceProvider:u,v3GasModelFactory:l,v2GasModelFactory:b,mixedRouteGasModelFactory:m,swapRouterProvider:h,optimismGasDataProvider:y,tokenValidatorProvider:g,arbitrumGasDataProvider:T,simulator:v,routeCachingProvider:I}){let E;if(this.chainId=e,this.provider=t,this.multicall2Provider=null!=f?f:new fL(e,t,375e3),this.v3PoolProvider=null!=n?n:new nf(this.chainId,new tj(G(e),this.multicall2Provider),new k(new(tx())({stdTTL:360,useClones:!1}))),this.simulator=v,this.routeCachingProvider=I,a)this.onChainQuoteProvider=a;else switch(e){case p.OPTIMISM:case p.OPTIMISM_GOERLI:case p.OPTIMISTIC_KOVAN:this.onChainQuoteProvider=new fX(e,t,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:110,gasLimitPerCall:12e5,quoteMinSuccessRate:.1},{gasLimitOverride:3e6,multicallChunk:45},{gasLimitOverride:3e6,multicallChunk:45},{baseBlockOffset:-10,rollback:{enabled:!0,attemptsBeforeRollback:1,rollbackBlockOffset:-10}});break;case p.ARBITRUM_ONE:case p.ARBITRUM_RINKEBY:case p.ARBITRUM_GOERLI:this.onChainQuoteProvider=new fX(e,t,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:12e6,quoteMinSuccessRate:.1},{gasLimitOverride:3e7,multicallChunk:6},{gasLimitOverride:3e7,multicallChunk:6});break;case p.CELO:case p.CELO_ALFAJORES:this.onChainQuoteProvider=new fX(e,t,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4});break;default:this.onChainQuoteProvider=new fX(e,t,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:210,gasLimitPerCall:705e3,quoteMinSuccessRate:.15},{gasLimitOverride:2e6,multicallChunk:70})}this.v2PoolProvider=null!=s?s:new f3(e,new tN(e,this.multicall2Provider),new k(new(tx())({stdTTL:60,useClones:!1}))),this.v2QuoteProvider=null!=i?i:new f4,this.blockedTokenListProvider=null!=d?d:new F(e,tz,new k(new(tx())({stdTTL:3600,useClones:!1}))),this.tokenProvider=null!=r?r:new tv(e,new k(new(tx())({stdTTL:3600,useClones:!1})),new F(e,tS,new k(new(tx())({stdTTL:3600,useClones:!1}))),new tg(e,this.multicall2Provider));let A=q(e);o?this.v2SubgraphProvider=o:this.v2SubgraphProvider=new nt([new f9(e,new f6(e,`https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v2/${A}.json`,void 0,0),new k(new(tx())({stdTTL:300,useClones:!1}))),new ne(e)]),c?this.v3SubgraphProvider=c:this.v3SubgraphProvider=new ni([new nn(e,new f6(e,`https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/${A}.json`,void 0,0),new k(new(tx())({stdTTL:300,useClones:!1}))),new ns(e,this.v3PoolProvider)]),E=tC.r.isProvider(this.provider)?new fG(e,new tA(this.provider),new fM(this.provider)):new fP("https://ethgasstation.info/api/ethgasAPI.json"),this.gasPriceProvider=null!=u?u:new O(e,E,new k(new(tx())({stdTTL:15,useClones:!1}))),this.v3GasModelFactory=null!=l?l:new fo,this.v2GasModelFactory=null!=b?b:new fp,this.mixedRouteGasModelFactory=null!=m?m:new fb,this.swapRouterProvider=null!=h?h:new f0(this.multicall2Provider,this.chainId),(e===p.OPTIMISM||e===p.OPTIMISTIC_KOVAN)&&(this.l2GasDataProvider=null!=y?y:new tq(e,this.multicall2Provider)),(e===p.ARBITRUM_ONE||e===p.ARBITRUM_RINKEBY||e===p.ARBITRUM_GOERLI)&&(this.l2GasDataProvider=null!=T?T:new t$(e,this.provider)),g?this.tokenValidatorProvider=g:this.chainId===p.MAINNET&&(this.tokenValidatorProvider=new tD(this.chainId,this.multicall2Provider,new k(new(tx())({stdTTL:3e4,useClones:!1})))),this.v2Quoter=new fC(this.v2SubgraphProvider,this.v2PoolProvider,this.v2QuoteProvider,this.v2GasModelFactory,this.tokenProvider,this.chainId,this.blockedTokenListProvider,this.tokenValidatorProvider),this.v3Quoter=new fS(this.v3SubgraphProvider,this.v3PoolProvider,this.onChainQuoteProvider,this.tokenProvider,this.chainId,this.blockedTokenListProvider,this.tokenValidatorProvider),this.mixedQuoter=new fk(this.v3SubgraphProvider,this.v3PoolProvider,this.v2SubgraphProvider,this.v2PoolProvider,this.onChainQuoteProvider,this.tokenProvider,this.chainId,this.blockedTokenListProvider,this.tokenValidatorProvider)}async routeToRatio(e,t,f,n,a,s=t1(this.chainId)){let i,o;t.currency.wrapped.sortsBefore(e.currency.wrapped)&&([e,t]=[t,e]);let r=this.calculateOptimalRatio(f,f.pool.sqrtRatioX96,!0);f.pool.tickCurrent>f.tickUpper?i=!0:f.pool.tickCurrent<f.tickLower?i=!1:(i=new S.Fraction(e.quotient,t.quotient).greaterThan(r))||(r=r.invert());let[d,c]=i?[e,t]:[t,e],u=r,l=f.pool,p=i?f.pool.token0Price:f.pool.token1Price,b=null,m=!1,h=0;for(;!m;){let e;if(++h>n.maxIterations)return w.info("max iterations exceeded"),{status:y.NO_ROUTE_FOUND,error:"max iterations exceeded"};let t=function(e,t,f,n){let a=new S.Fraction(f.quotient).subtract(e.multiply(n.quotient)).divide(e.multiply(t).add(1));if(a.lessThan(0))throw Error("routeToRatio: insufficient input token amount");return et.fromRawAmount(f.currency,a.quotient)}(u,p,d,c);if(t.equalTo(0))return w.info("no swap needed: amountToSwap = 0"),{status:y.NO_SWAP_NEEDED};if(!(b=await this.route(t,c.currency,S.TradeType.EXACT_INPUT,void 0,{...t1(this.chainId),...s,protocols:[ea.Protocol.V3,ea.Protocol.V2]})))return w.info("no route found from this.route()"),{status:y.NO_ROUTE_FOUND,error:"no route found"};let a=d.subtract(b.trade.inputAmount),o=c.add(b.trade.outputAmount),g=a.divide(o);if(b.route.forEach(t=>{t.protocol===ea.Protocol.V3&&t.route.pools.forEach((n,a)=>{n.token0.equals(f.pool.token0)&&n.token1.equals(f.pool.token1)&&n.fee===f.pool.fee&&(e=ee().BigInt(t.sqrtPriceX96AfterList[a].toString()),u=this.calculateOptimalRatio(f,ee().BigInt(e.toString()),i))})}),e||(u=r),(m=g.equalTo(u)||this.absoluteValue(g.asFraction.divide(u).subtract(1)).lessThan(n.ratioErrorTolerance))&&e&&(l=new N.Pool(f.pool.token0,f.pool.token1,f.pool.fee,e,f.pool.liquidity,N.TickMath.getTickAtSqrtRatio(e),f.pool.tickDataProvider)),p=b.trade.outputAmount.divide(b.trade.inputAmount),w.info({exchangeRate:p.asFraction.toFixed(18),optimalRatio:u.asFraction.toFixed(18),newRatio:g.asFraction.toFixed(18),inputBalanceUpdated:a.asFraction.toFixed(18),outputBalanceUpdated:o.asFraction.toFixed(18),ratioErrorTolerance:n.ratioErrorTolerance.toFixed(18),iterationN:h.toString()},"QuoteToRatio Iteration Parameters"),p.equalTo(0))return w.info("exchangeRate to 0"),{status:y.NO_ROUTE_FOUND,error:"insufficient liquidity to swap to optimal ratio"}}return b?(a&&(o=await this.buildSwapAndAddMethodParameters(b.trade,a,{initialBalanceTokenIn:d,initialBalanceTokenOut:c,preLiquidityPosition:f})),{status:y.SUCCESS,result:{...b,methodParameters:o,optimalRatio:u,postSwapTargetPool:l}}):{status:y.NO_ROUTE_FOUND,error:"no route found"}}async route(e,t,f,n,a={}){var s,i,o;let r,d,c;let{currencyIn:u,currencyOut:p}=this.determineCurrencyInOutFromTradeType(f,e,t),b=u.wrapped,m=p.wrapped;B.setProperty("chainId",this.chainId),B.setProperty("pair",`${b.symbol}/${m.symbol}`),B.setProperty("tokenIn",b.address),B.setProperty("tokenOut",m.address),B.setProperty("tradeType",f===S.TradeType.EXACT_INPUT?"ExactIn":"ExactOut"),B.putMetric(`QuoteRequestedForChain${this.chainId}`,1,l.Count);let h=null!==(s=a.blockNumber)&&void 0!==s?s:this.getBlockNumberPromise(),y=M().merge({},t1(this.chainId),a,{blockNumber:h}),g=await this.getGasPriceWei(),T=t.wrapped,[I,E]=await this.getGasModels(g,e.currency.wrapped,T),A=Array.from(new Set(y.protocols).values()),C=await (null===(i=this.routeCachingProvider)||void 0===i?void 0:i.getCacheMode(this.chainId,e,T,f,A));C!==v.Darkmode&&(r=await (null===(o=this.routeCachingProvider)||void 0===o?void 0:o.getCachedRoute(this.chainId,e,T,f,A,await h))),C&&C!==v.Darkmode&&!r?(B.putMetric(`GetCachedRoute_miss_${C}`,1,l.Count),w.info({tokenIn:b.symbol,tokenInAddress:b.address,tokenOut:m.symbol,tokenOutAddress:m.address,cacheMode:C,amount:e.toExact(),chainId:this.chainId,tradeType:this.tradeTypeStr(f)},`GetCachedRoute miss ${C} for ${this.tokenPairSymbolTradeTypeChainId(b,m,f)}`)):r&&(B.putMetric(`GetCachedRoute_hit_${C}`,1,l.Count),w.info({tokenIn:b.symbol,tokenInAddress:b.address,tokenOut:m.symbol,tokenOutAddress:m.address,cacheMode:C,amount:e.toExact(),chainId:this.chainId,tradeType:this.tradeTypeStr(f)},`GetCachedRoute hit ${C} for ${this.tokenPairSymbolTradeTypeChainId(b,m,f)}`));let k=Promise.resolve(null);r&&(k=this.getSwapRouteFromCache(r,await h,e,T,f,y,I,E,g));let O=Promise.resolve(null);r&&C===v.Livemode||(O=this.getSwapRouteFromChain(e,b,m,A,T,f,y,I,E,g));let[x,R]=await Promise.all([k,O]);if(C===v.Livemode&&x?(w.info(`CacheMode is ${C}, and we are using swapRoute from cache`),d=x):(w.info(`CacheMode is ${C}, and we are using materialized swapRoute`),d=R),C===v.Tapcompare&&x&&R){let t=R.quote.subtract(x.quote),n=R.quoteGasAdjusted.subtract(x.quoteGasAdjusted),a=R.estimatedGasUsed.sub(x.estimatedGasUsed);if(!t.equalTo(0)||!(n.equalTo(0)||a.eq(0))){let s=n.divide(R.quoteGasAdjusted).multiply(100);B.putMetric("TapcompareCachedRoute_quoteGasAdjustedDiffPercent",Number(s.toExact()),l.Percent),w.warn({quoteFromChain:R.quote.toExact(),quoteFromCache:x.quote.toExact(),quoteDiff:t.toExact(),quoteGasAdjustedFromChain:R.quoteGasAdjusted.toExact(),quoteGasAdjustedFromCache:x.quoteGasAdjusted.toExact(),quoteGasAdjustedDiff:n.toExact(),gasUsedFromChain:R.estimatedGasUsed.toString(),gasUsedFromCache:x.estimatedGasUsed.toString(),gasUsedDiff:a.toString(),routesFromChain:R.routes.toString(),routesFromCache:x.routes.toString(),amount:e.toExact(),originalAmount:null==r?void 0:r.originalAmount,pair:this.tokenPairSymbolTradeTypeChainId(b,m,f),blockNumber:h},`Comparing quotes between Chain and Cache for ${this.tokenPairSymbolTradeTypeChainId(b,m,f)}`)}}if(!d)return null;let{quote:P,quoteGasAdjusted:D,estimatedGasUsed:F,routes:N,estimatedGasUsedQuoteToken:U,estimatedGasUsedUSD:L}=d;if(this.routeCachingProvider&&C!==v.Darkmode&&R){let t=f2.fromRoutesWithValidQuotes(R.routes,this.chainId,b,m,A.sort(),await h,f,e.toExact());t&&this.routeCachingProvider.setCachedRoute(t,e).then(e=>{B.putMetric(`SetCachedRoute_${e?"success":"rejected"}`,1,l.Count)}).catch(e=>{w.error({reason:e,tokenPair:this.tokenPairSymbolTradeTypeChainId(b,m,f)},"SetCachedRoute failure"),B.putMetric("SetCachedRoute_failure",1,l.Count)})}B.putMetric(`QuoteFoundForChain${this.chainId}`,1,l.Count);let _=tQ(u,p,f,N);n&&(c=tX(_,n,this.chainId));let G={quote:P,quoteGasAdjusted:D,estimatedGasUsed:F,estimatedGasUsedQuoteToken:U,estimatedGasUsedUSD:L,gasPriceWei:g,route:N,trade:_,methodParameters:c,blockNumber:tI.O$.from(await h)};if(n&&n.simulate&&c&&c.calldata){if(!this.simulator)throw Error("Simulator not initialized!");w.info({swapConfig:n,methodParameters:c},"Starting simulation");let f=n.simulate.fromAddress,a=Date.now(),s=await this.simulator.simulate(f,n,G,e,et.fromRawAmount(t,P.quotient.toString()),this.l2GasDataProvider?await this.l2GasDataProvider.getGasData():void 0,{blockNumber:h});return B.putMetric("SimulateTransaction",Date.now()-a,l.Milliseconds),s}return G}async getSwapRouteFromCache(e,t,f,n,a,s,i,o,r){w.info({protocols:e.protocolsCovered,tradeType:e.tradeType,cachedBlockNumber:e.blockNumber,quoteBlockNumber:t},"Routing across CachedRoute");let d=[],c=e.routes.filter(e=>e.protocol===ea.Protocol.V3),u=e.routes.filter(e=>e.protocol===ea.Protocol.V2),l=e.routes.filter(e=>e.protocol===ea.Protocol.MIXED),p=new Set(e.routes.map(e=>e.percent));p.add(100),p.add(50);let b=Array.from(p.values()),m=b.map(e=>f.multiply(new S.Fraction(e,100)));if(c.length>0){let e=c.map(e=>e.route);d.push(this.v3Quoter.getQuotes(e,m,b,n,a,s,void 0,i))}if(u.length>0&&d.push(this.v2Quoter.getRoutesThenQuotes(u[0].tokenIn,u[0].tokenOut,m,b,n,a,s,void 0,r)),l.length>0){let e=l.map(e=>e.route);d.push(this.mixedQuoter.getQuotes(e,m,b,n,a,s,void 0,o))}let h=await Promise.all(d),y=M().flatMap(h,e=>e.routesWithValidQuotes);return fr(f,b,y,a,this.chainId,s,i)}async getSwapRouteFromChain(e,t,f,n,a,s,i,o,r,d){let[c,u]=this.getAmountDistribution(e,i),l=0===n.length,b=n.includes(ea.Protocol.V3),m=n.includes(ea.Protocol.V2),h=U.includes(this.chainId),y=n.includes(ea.Protocol.MIXED)||l&&h,g=[p.MAINNET,p["G\xd6RLI"]].includes(this.chainId)&&s===S.TradeType.EXACT_INPUT,T=[];(b||l)&&(w.info({protocols:n,tradeType:s},"Routing across V3"),T.push(this.v3Quoter.getRoutesThenQuotes(t,f,u,c,a,s,i,o))),h&&(m||l)&&(w.info({protocols:n,tradeType:s},"Routing across V2"),T.push(this.v2Quoter.getRoutesThenQuotes(t,f,u,c,a,s,i,void 0,d))),y&&g&&(w.info({protocols:n,tradeType:s},"Routing across MixedRoutes"),T.push(this.mixedQuoter.getRoutesThenQuotes(t,f,u,c,a,s,i,r)));let v=await Promise.all(T),I=[],E=[];if(v.forEach(e=>{I.push(...e.routesWithValidQuotes),e.candidatePools&&E.push(e.candidatePools)}),0===I.length)return w.info({allRoutesWithValidQuotes:I},"Received no valid quotes"),null;let A=await fr(e,c,I,s,this.chainId,i,o);return A&&this.emitPoolSelectionMetrics(A,E),A}tradeTypeStr(e){return e===S.TradeType.EXACT_INPUT?"ExactIn":"ExactOut"}tokenPairSymbolTradeTypeChainId(e,t,f){return`${e.symbol}/${t.symbol}/${this.tradeTypeStr(f)}/${this.chainId}`}determineCurrencyInOutFromTradeType(e,t,f){return e===S.TradeType.EXACT_INPUT?{currencyIn:t.currency,currencyOut:f}:{currencyIn:f,currencyOut:t.currency}}async getGasPriceWei(){let e=Date.now(),{gasPriceWei:t}=await this.gasPriceProvider.getGasPrice();return B.putMetric("GasPriceLoad",Date.now()-e,l.Milliseconds),t}async getGasModels(e,t,f){let n=Date.now(),a=this.v3GasModelFactory.buildGasModel({chainId:this.chainId,gasPriceWei:e,v3poolProvider:this.v3PoolProvider,amountToken:t,quoteToken:f,v2poolProvider:this.v2PoolProvider,l2GasDataProvider:this.l2GasDataProvider}),s=this.mixedRouteGasModelFactory.buildGasModel({chainId:this.chainId,gasPriceWei:e,v3poolProvider:this.v3PoolProvider,amountToken:t,quoteToken:f,v2poolProvider:this.v2PoolProvider}),[i,o]=await Promise.all([a,s]);return B.putMetric("GasModelCreation",Date.now()-n,l.Milliseconds),[i,o]}getAmountDistribution(e,t){let{distributionPercent:f}=t,n=[],a=[];for(let t=1;t<=100/f;t++)n.push(t*f),a.push(e.multiply(new S.Fraction(t*f,100)));return[n,a]}async buildSwapAndAddMethodParameters(e,t,f){let{swapOptions:{recipient:n,slippageTolerance:a,deadline:s,inputTokenPermit:i},addLiquidityOptions:o}=t,r=f.preLiquidityPosition,d=f.initialBalanceTokenIn.subtract(e.inputAmount),c=f.initialBalanceTokenOut.add(e.outputAmount),u=await this.swapRouterProvider.getApprovalType(d,c),l=d.currency.wrapped.sortsBefore(c.currency.wrapped);return{...ea.SwapRouter.swapAndAddCallParameters(e,{recipient:n,slippageTolerance:a,deadlineOrPreviousBlockhash:s,inputTokenPermit:i},N.Position.fromAmounts({pool:r.pool,tickLower:r.tickLower,tickUpper:r.tickUpper,amount0:l?d.quotient.toString():c.quotient.toString(),amount1:l?c.quotient.toString():d.quotient.toString(),useFullPrecision:!1}),o,u.approvalTokenIn,u.approvalTokenOut),to:z(this.chainId)}}emitPoolSelectionMetrics(e,t){let f=new Set,{routes:n}=e;for(let e of(M()(n).flatMap(e=>{let{poolAddresses:t}=e;return t}).forEach(e=>{f.add(e.toLowerCase())}),t)){let{protocol:t}=e;M().forIn(e.selections,(e,n)=>{let a=M().findLastIndex(e,e=>f.has(e.id.toLowerCase()))+1;B.putMetric(M().capitalize(`${t}${n}`),a,l.Count)})}let a=!1,s=!1,i=!1;for(let e of n)e.protocol===ea.Protocol.V3&&(a=!0),e.protocol===ea.Protocol.V2&&(s=!0),e.protocol===ea.Protocol.MIXED&&(i=!0);i&&(a||s)?a&&s?(B.putMetric("MixedAndV3AndV2SplitRoute",1,l.Count),B.putMetric(`MixedAndV3AndV2SplitRouteForChain${this.chainId}`,1,l.Count)):a?(B.putMetric("MixedAndV3SplitRoute",1,l.Count),B.putMetric(`MixedAndV3SplitRouteForChain${this.chainId}`,1,l.Count)):s&&(B.putMetric("MixedAndV2SplitRoute",1,l.Count),B.putMetric(`MixedAndV2SplitRouteForChain${this.chainId}`,1,l.Count)):a&&s?(B.putMetric("V3AndV2SplitRoute",1,l.Count),B.putMetric(`V3AndV2SplitRouteForChain${this.chainId}`,1,l.Count)):i?n.length>1?(B.putMetric("MixedSplitRoute",1,l.Count),B.putMetric(`MixedSplitRouteForChain${this.chainId}`,1,l.Count)):(B.putMetric("MixedRoute",1,l.Count),B.putMetric(`MixedRouteForChain${this.chainId}`,1,l.Count)):a?n.length>1?(B.putMetric("V3SplitRoute",1,l.Count),B.putMetric(`V3SplitRouteForChain${this.chainId}`,1,l.Count)):(B.putMetric("V3Route",1,l.Count),B.putMetric(`V3RouteForChain${this.chainId}`,1,l.Count)):s&&(n.length>1?(B.putMetric("V2SplitRoute",1,l.Count),B.putMetric(`V2SplitRouteForChain${this.chainId}`,1,l.Count)):(B.putMetric("V2Route",1,l.Count),B.putMetric(`V2RouteForChain${this.chainId}`,1,l.Count)))}calculateOptimalRatio(e,t,f){let n=N.TickMath.getSqrtRatioAtTick(e.tickUpper),a=N.TickMath.getSqrtRatioAtTick(e.tickLower);if(ee().greaterThan(t,n)||ee().lessThan(t,a))return new S.Fraction(0,1);let s=ee().BigInt("1"+"0".repeat(18)),i=new S.Fraction(N.SqrtPriceMath.getAmount0Delta(t,n,s,!0),N.SqrtPriceMath.getAmount1Delta(t,a,s,!0));return f||(i=i.invert()),i}async userHasSufficientBalance(e,t,f,n){try{let a;let s=t===S.TradeType.EXACT_INPUT?f:n;if(s.currency.isNative)a=await this.provider.getBalance(e);else{let t=tH.connect(s.currency.address,this.provider);a=await t.balanceOf(e)}return a.gte(tI.O$.from(s.quotient.toString()))}catch(e){return w.error(e,"Error while checking user balance"),!1}}absoluteValue(e){let t=ee().lessThan(e.numerator,ee().BigInt(0))?ee().unaryMinus(e.numerator):e.numerator,f=ee().lessThan(e.denominator,ee().BigInt(0))?ee().unaryMinus(e.denominator):e.denominator;return new S.Fraction(t,f)}getBlockNumberPromise(){return tw()(async(e,t)=>(t>1&&w.info(`Get block number attempt ${t}`),this.provider.getBlockNumber()),{retries:2,minTimeout:100,maxTimeout:1e3})}}let fO=[{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"}],name:"AllowanceExpired",type:"error"},{inputs:[],name:"ExcessiveInvalidation",type:"error"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"InsufficientAllowance",type:"error"},{inputs:[{internalType:"uint256",name:"maxAmount",type:"uint256"}],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidContractSignature",type:"error"},{inputs:[],name:"InvalidNonce",type:"error"},{inputs:[],name:"InvalidSignature",type:"error"},{inputs:[],name:"InvalidSignatureLength",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[],name:"LengthMismatch",type:"error"},{inputs:[{internalType:"uint256",name:"signatureDeadline",type:"uint256"}],name:"SignatureExpired",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint160",name:"amount",type:"uint160"},{indexed:!1,internalType:"uint48",name:"expiration",type:"uint48"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"spender",type:"address"}],name:"Lockdown",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint48",name:"newNonce",type:"uint48"},{indexed:!1,internalType:"uint48",name:"oldNonce",type:"uint48"}],name:"NonceInvalidation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint160",name:"amount",type:"uint160"},{indexed:!1,internalType:"uint48",name:"expiration",type:"uint48"},{indexed:!1,internalType:"uint48",name:"nonce",type:"uint48"}],name:"Permit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"word",type:"uint256"},{indexed:!1,internalType:"uint256",name:"mask",type:"uint256"}],name:"UnorderedNonceInvalidation",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint48",name:"newNonce",type:"uint48"}],name:"invalidateNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"wordPos",type:"uint256"},{internalType:"uint256",name:"mask",type:"uint256"}],name:"invalidateUnorderedNonces",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"}],internalType:"struct IAllowanceTransfer.TokenSpenderPair[]",name:"approvals",type:"tuple[]"}],name:"lockdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"nonceBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],internalType:"struct IAllowanceTransfer.PermitDetails[]",name:"details",type:"tuple[]"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"sigDeadline",type:"uint256"}],internalType:"struct IAllowanceTransfer.PermitBatch",name:"permitBatch",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"uint48",name:"expiration",type:"uint48"},{internalType:"uint48",name:"nonce",type:"uint48"}],internalType:"struct IAllowanceTransfer.PermitDetails",name:"details",type:"tuple"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"sigDeadline",type:"uint256"}],internalType:"struct IAllowanceTransfer.PermitSingle",name:"permitSingle",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions",name:"permitted",type:"tuple"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitTransferFrom",name:"permit",type:"tuple"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails",name:"transferDetails",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions[]",name:"permitted",type:"tuple[]"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitBatchTransferFrom",name:"permit",type:"tuple"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails[]",name:"transferDetails",type:"tuple[]"},{internalType:"address",name:"owner",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions",name:"permitted",type:"tuple"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitTransferFrom",name:"permit",type:"tuple"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails",name:"transferDetails",type:"tuple"},{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"witness",type:"bytes32"},{internalType:"string",name:"witnessTypeString",type:"string"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitWitnessTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ISignatureTransfer.TokenPermissions[]",name:"permitted",type:"tuple[]"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct ISignatureTransfer.PermitBatchTransferFrom",name:"permit",type:"tuple"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"requestedAmount",type:"uint256"}],internalType:"struct ISignatureTransfer.SignatureTransferDetails[]",name:"transferDetails",type:"tuple[]"},{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"witness",type:"bytes32"},{internalType:"string",name:"witnessTypeString",type:"string"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permitWitnessTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"address",name:"token",type:"address"}],internalType:"struct IAllowanceTransfer.AllowanceTransferDetails[]",name:"transferDetails",type:"tuple[]"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint160",name:"amount",type:"uint160"},{internalType:"address",name:"token",type:"address"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],fx="0x60c0346100bb574660a052602081017f8cad95687ba82c2ce50e74f7b754645e5117c3a5bec8151c0726d5857980a86681527f9ac997416e8ff9d2ff6bebeb7149f65cdae5e32e2b90440b566bb3044041d36a60408301524660608301523060808301526080825260a082019180831060018060401b038411176100a557826040525190206080526123c090816100c1823960805181611a90015260a05181611a6a0152f35b634e487b7160e01b600052604160045260246000fd5b600080fdfe6040608081526004908136101561001557600080fd5b600090813560e01c80630d58b1db1461126c578063137c29fe146110755780632a2d80d114610db75780632b67b57014610bde57806330f28b7a14610ade5780633644e51514610a9d57806336c7851614610a285780633ff9dcb1146109a85780634fe02b441461093f57806365d9723c146107ac57806387517c451461067a578063927da105146105c3578063cc53287f146104a3578063edd9444b1461033a5763fe8ec1a7146100c657600080fd5b346103365760c07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103365767ffffffffffffffff833581811161033257610114903690860161164b565b60243582811161032e5761012b903690870161161a565b6101336114e6565b9160843585811161032a5761014b9036908a016115c1565b98909560a43590811161032657610164913691016115c1565b969095815190610173826113ff565b606b82527f5065726d697442617463685769746e6573735472616e7366657246726f6d285460208301527f6f6b656e5065726d697373696f6e735b5d207065726d69747465642c61646472838301527f657373207370656e6465722c75696e74323536206e6f6e63652c75696e74323560608301527f3620646561646c696e652c000000000000000000000000000000000000000000608083015282519a8b9181610222602085018096611edc565b918237018a8152039961025b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09b8c8101835282611437565b5190209085515161026b81611e04565b908a5b8181106102f95750506102f6999a6102ed9183516102a081610294602082018095611eaf565b03848101835282611437565b519020602089810151858b015195519182019687526040820192909252336060820152608081019190915260a081019390935260643560c08401528260e081015b03908101835282611437565b51902093611c40565b80f35b8061031161030b610321938c5161175e565b51611f9d565b61031b828661175e565b52611e53565b61026e565b8880fd5b8780fd5b8480fd5b8380fd5b5080fd5b5091346103365760807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103365767ffffffffffffffff9080358281116103325761038b903690830161164b565b60243583811161032e576103a2903690840161161a565b9390926103ad6114e6565b9160643590811161049f576103c4913691016115c1565b949093835151976103d489611e04565b98885b81811061047d5750506102f697988151610425816103f9602082018095611eaf565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282611437565b5190206020860151828701519083519260208401947ffcf35f5ac6a2c28868dc44c302166470266239195f02b0ee408334829333b7668652840152336060840152608083015260a082015260a081526102ed8161141b565b808b61031b8261049461030b61049a968d5161175e565b9261175e565b6103d7565b8680fd5b5082346105bf57602090817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126103325780359067ffffffffffffffff821161032e576104f49136910161161a565b929091845b848110610504578580f35b8061051a61051560019388886118b5565b6118c5565b61052f84610529848a8a6118b5565b016118c5565b3389528385528589209173ffffffffffffffffffffffffffffffffffffffff80911692838b528652868a20911690818a5285528589207fffffffffffffffffffffffff000000000000000000000000000000000000000081541690558551918252848201527f89b1add15eff56b3dfe299ad94e01f2b52fbcb80ae1a3baea6ae8c04cb2b98a4853392a2016104f9565b8280fd5b50346103365760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261033657610676816105ff6114a0565b936106086114c3565b6106106114e6565b73ffffffffffffffffffffffffffffffffffffffff968716835260016020908152848420928816845291825283832090871683528152919020549251938316845260a083901c65ffffffffffff169084015260d09190911c604083015281906060820190565b0390f35b50346103365760807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610336576106b26114a0565b906106bb6114c3565b916106c46114e6565b65ffffffffffff926064358481169081810361032a5779ffffffffffff0000000000000000000000000000000000000000947fda9fa7c1b00402c17d0161b249b1ab8bbec047c5a52207b9c112deffd817036b94338a5260016020527fffffffffffff0000000000000000000000000000000000000000000000000000858b209873ffffffffffffffffffffffffffffffffffffffff809416998a8d5260205283878d209b169a8b8d52602052868c209486156000146107a457504216925b8454921697889360a01b16911617179055815193845260208401523392a480f35b905092610783565b5082346105bf5760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126105bf576107e56114a0565b906107ee6114c3565b9265ffffffffffff604435818116939084810361032a57338852602091600183528489209673ffffffffffffffffffffffffffffffffffffffff80911697888b528452858a20981697888a5283528489205460d01c93848711156109175761ffff9085840316116108f05750907f55eb90d810e1700b35a8e7e25395ff7f2b2259abd7415ca2284dfb1c246418f393929133895260018252838920878a528252838920888a5282528389209079ffffffffffffffffffffffffffffffffffffffffffffffffffff7fffffffffffff000000000000000000000000000000000000000000000000000083549260d01b16911617905582519485528401523392a480f35b84517f24d35a26000000000000000000000000000000000000000000000000000000008152fd5b5084517f756688fe000000000000000000000000000000000000000000000000000000008152fd5b503461033657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610336578060209273ffffffffffffffffffffffffffffffffffffffff61098f6114a0565b1681528084528181206024358252845220549051908152f35b5082346105bf57817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126105bf577f3704902f963766a4e561bbaab6e6cdc1b1dd12f6e9e99648da8843b3f46b918d90359160243533855284602052818520848652602052818520818154179055815193845260208401523392a280f35b8234610a9a5760807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610a9a57610a606114a0565b610a686114c3565b610a706114e6565b6064359173ffffffffffffffffffffffffffffffffffffffff8316830361032e576102f6936117a1565b80fd5b503461033657817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261033657602090610ad7611a67565b9051908152f35b508290346105bf576101007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126105bf57610b1a3661152a565b90807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7c36011261033257610b4c611478565b9160e43567ffffffffffffffff8111610bda576102f694610b6f913691016115c1565b939092610b7c8351611f9d565b6020840151828501519083519260208401947f939c21a48a8dbe3a9a2404a1d46691e4d39f6583d6ec6b35714604c986d801068652840152336060840152608083015260a082015260a08152610bd18161141b565b51902091611b6e565b8580fd5b509134610336576101007ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261033657610c186114a0565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc360160c08112610332576080855191610c51836113e3565b1261033257845190610c6282611398565b73ffffffffffffffffffffffffffffffffffffffff91602435838116810361049f578152604435838116810361049f57602082015265ffffffffffff606435818116810361032a5788830152608435908116810361049f576060820152815260a435938285168503610bda576020820194855260c4359087830182815260e43567ffffffffffffffff811161032657610cfe90369084016115c1565b929093804211610d88575050918591610d786102f6999a610d7e95610d238851611f07565b90898c511690519083519260208401947ff3841cd1ff0085026a6327b620b67997ce40f282c88a8e905a7a5626e310f3d086528401526060830152608082015260808152610d70816113ff565b519020611b22565b91612010565b51925116916118e6565b602492508a51917fcd21db4f000000000000000000000000000000000000000000000000000000008352820152fd5b5091346103365760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc93818536011261033257610df36114a0565b9260249081359267ffffffffffffffff9788851161032a578590853603011261049f578051978589018981108282111761104a578252848301358181116103265785019036602383011215610326578382013591610e50836115ef565b90610e5d85519283611437565b838252602093878584019160071b83010191368311611046578801905b828210610fe9575050508a526044610e93868801611509565b96838c01978852013594838b0191868352604435908111610fe557610ebb90369087016115c1565b959096804211610fba575050508998995151610ed681611e04565b908b5b818110610f9757505092889492610d7892610f6497958351610f02816103f98682018095611eaf565b5190209073ffffffffffffffffffffffffffffffffffffffff9a8b8b51169151928551948501957faf1b0d30d2cab0380e68f0689007e3254993c596f2fdd0aaa7f4d04f794408638752850152830152608082015260808152610d70816113ff565b51169082515192845b848110610f78578580f35b80610f918585610f8b600195875161175e565b516118e6565b01610f6d565b80610311610fac8e9f9e93610fb2945161175e565b51611f07565b9b9a9b610ed9565b8551917fcd21db4f000000000000000000000000000000000000000000000000000000008352820152fd5b8a80fd5b6080823603126110465785608091885161100281611398565b61100b85611509565b8152611018838601611509565b838201526110278a8601611607565b8a8201528d611037818701611607565b90820152815201910190610e7a565b8c80fd5b84896041867f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b5082346105bf576101407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126105bf576110b03661152a565b91807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7c360112610332576110e2611478565b67ffffffffffffffff93906101043585811161049f5761110590369086016115c1565b90936101243596871161032a57611125610bd1966102f6983691016115c1565b969095825190611134826113ff565b606482527f5065726d69745769746e6573735472616e7366657246726f6d28546f6b656e5060208301527f65726d697373696f6e73207065726d69747465642c6164647265737320737065848301527f6e6465722c75696e74323536206e6f6e63652c75696e7432353620646561646c60608301527f696e652c0000000000000000000000000000000000000000000000000000000060808301528351948591816111e3602085018096611edc565b918237018b8152039361121c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe095868101835282611437565b5190209261122a8651611f9d565b6020878101518589015195519182019687526040820192909252336060820152608081019190915260a081019390935260e43560c08401528260e081016102e1565b5082346105bf576020807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261033257813567ffffffffffffffff92838211610bda5736602383011215610bda5781013592831161032e576024906007368386831b8401011161049f57865b8581106112e5578780f35b80821b83019060807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc83360301126103265761139288876001946060835161132c81611398565b611368608461133c8d8601611509565b9485845261134c60448201611509565b809785015261135d60648201611509565b809885015201611509565b918291015273ffffffffffffffffffffffffffffffffffffffff80808093169516931691166117a1565b016112da565b6080810190811067ffffffffffffffff8211176113b457604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6060810190811067ffffffffffffffff8211176113b457604052565b60a0810190811067ffffffffffffffff8211176113b457604052565b60c0810190811067ffffffffffffffff8211176113b457604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176113b457604052565b60c4359073ffffffffffffffffffffffffffffffffffffffff8216820361149b57565b600080fd5b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361149b57565b6024359073ffffffffffffffffffffffffffffffffffffffff8216820361149b57565b6044359073ffffffffffffffffffffffffffffffffffffffff8216820361149b57565b359073ffffffffffffffffffffffffffffffffffffffff8216820361149b57565b7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc01906080821261149b576040805190611563826113e3565b8082941261149b57805181810181811067ffffffffffffffff8211176113b457825260043573ffffffffffffffffffffffffffffffffffffffff8116810361149b578152602435602082015282526044356020830152606435910152565b9181601f8401121561149b5782359167ffffffffffffffff831161149b576020838186019501011161149b57565b67ffffffffffffffff81116113b45760051b60200190565b359065ffffffffffff8216820361149b57565b9181601f8401121561149b5782359167ffffffffffffffff831161149b576020808501948460061b01011161149b57565b91909160608184031261149b576040805191611666836113e3565b8294813567ffffffffffffffff9081811161149b57830182601f8201121561149b578035611693816115ef565b926116a087519485611437565b818452602094858086019360061b8501019381851161149b579086899897969594939201925b8484106116e3575050505050855280820135908501520135910152565b90919293949596978483031261149b578851908982019082821085831117611730578a928992845261171487611509565b81528287013583820152815201930191908897969594936116c6565b602460007f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b80518210156117725760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b92919273ffffffffffffffffffffffffffffffffffffffff604060008284168152600160205282828220961695868252602052818120338252602052209485549565ffffffffffff8760a01c16804211611884575082871696838803611812575b5050611810955016926122fc565b565b878484161160001461184f57602488604051907ff96fb0710000000000000000000000000000000000000000000000000000000082526004820152fd5b7fffffffffffffffffffffffff000000000000000000000000000000000000000084846118109a031691161790553880611802565b602490604051907fd81b2f2e0000000000000000000000000000000000000000000000000000000082526004820152fd5b91908110156117725760061b0190565b3573ffffffffffffffffffffffffffffffffffffffff8116810361149b5790565b9065ffffffffffff908160608401511673ffffffffffffffffffffffffffffffffffffffff908185511694826020820151169280866040809401511695169560009187835260016020528383208984526020528383209916988983526020528282209184835460d01c03611a3e579185611a1794927fc6a377bfc4eb120024a8ac08eef205be16b817020812c73223e81d1bdb9708ec98979694508715600014611a1c5779ffffffffffff00000000000000000000000000000000000000009042165b60a01b167fffffffffffff00000000000000000000000000000000000000000000000000006001860160d01b1617179055519384938491604091949373ffffffffffffffffffffffffffffffffffffffff606085019616845265ffffffffffff809216602085015216910152565b0390a4565b5079ffffffffffff0000000000000000000000000000000000000000876119a9565b600484517f756688fe000000000000000000000000000000000000000000000000000000008152fd5b467f000000000000000000000000000000000000000000000000000000000000000003611ab2577f000000000000000000000000000000000000000000000000000000000000000090565b60405160208101907f8cad95687ba82c2ce50e74f7b754645e5117c3a5bec8151c0726d5857980a86682527f9ac997416e8ff9d2ff6bebeb7149f65cdae5e32e2b90440b566bb3044041d36a604082015246606082015230608082015260808152611b1c816113ff565b51902090565b611b2a611a67565b906040519060208201927f190100000000000000000000000000000000000000000000000000000000000084526022830152604282015260428152611b1c81611398565b9192909360a435936040840151804211611c0f5750602084510151808611611bde5750918591610d78611bae94611ba9602088015186611d90565b611b22565b73ffffffffffffffffffffffffffffffffffffffff809151511692608435918216820361149b57611810936122fc565b602490604051907f3728b83d0000000000000000000000000000000000000000000000000000000082526004820152fd5b602490604051907fcd21db4f0000000000000000000000000000000000000000000000000000000082526004820152fd5b959093958051519560409283830151804211611d605750848803611d3757611c77918691610d7860209b611ba98d88015186611d90565b60005b868110611c8b575050505050505050565b611c9681835161175e565b5188611ca383878a6118b5565b01359089810151808311611d07575091818888886001968596611ccd575b50505050505001611c7a565b611cfc95611cf69273ffffffffffffffffffffffffffffffffffffffff610515935116956118b5565b916122fc565b803888888883611cc1565b6024908651907f3728b83d0000000000000000000000000000000000000000000000000000000082526004820152fd5b600484517fff633a38000000000000000000000000000000000000000000000000000000008152fd5b6024908551907fcd21db4f0000000000000000000000000000000000000000000000000000000082526004820152fd5b9073ffffffffffffffffffffffffffffffffffffffff600160ff83161b9216600052600060205260406000209060081c6000526020526040600020818154188091551615611dda57565b60046040517f756688fe000000000000000000000000000000000000000000000000000000008152fd5b90611e0e826115ef565b611e1b6040519182611437565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0611e4982946115ef565b0190602036910137565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114611e805760010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b805160208092019160005b828110611ec8575050505090565b835185529381019392810192600101611eba565b9081519160005b838110611ef4575050016000815290565b8060208092840101518185015201611ee3565b60405160208101917f65626cad6cb96493bf6f5ebea28756c966f023ab9e8a83a7101849d5573b3678835273ffffffffffffffffffffffffffffffffffffffff8082511660408401526020820151166060830152606065ffffffffffff9182604082015116608085015201511660a082015260a0815260c0810181811067ffffffffffffffff8211176113b45760405251902090565b6040516020808201927f618358ac3db8dc274f0cd8829da7e234bd48cd73c4a740aede1adec9846d06a1845273ffffffffffffffffffffffffffffffffffffffff81511660408401520151606082015260608152611b1c81611398565b919082604091031261149b576020823592013590565b6000843b6121775750604182036120f55761202d82820182611ffa565b939092604010156117725760209360009360ff6040608095013560f81c5b60405194855216868401526040830152606082015282805260015afa156120e95773ffffffffffffffffffffffffffffffffffffffff80600051169182156120bf57160361209557565b60046040517f815e1d64000000000000000000000000000000000000000000000000000000008152fd5b60046040517f8baa579f000000000000000000000000000000000000000000000000000000008152fd5b6040513d6000823e3d90fd5b6040820361214d5761210991810190611ffa565b91601b7f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff84169360ff1c019060ff8211611e805760209360009360ff60809461204b565b60046040517f4be6321b000000000000000000000000000000000000000000000000000000008152fd5b929391601f928173ffffffffffffffffffffffffffffffffffffffff60646020957fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0604051988997889687947f1626ba7e000000000000000000000000000000000000000000000000000000009e8f8752600487015260406024870152816044870152868601378b85828601015201168101030192165afa9081156122f1578291612273575b507fffffffff000000000000000000000000000000000000000000000000000000009150160361224957565b60046040517fb0669cbc000000000000000000000000000000000000000000000000000000008152fd5b90506020813d82116122e9575b8161228d60209383611437565b810103126103365751907fffffffff0000000000000000000000000000000000000000000000000000000082168203610a9a57507fffffffff00000000000000000000000000000000000000000000000000000000903861221d565b3d9150612280565b6040513d84823e3d90fd5b9060006064926020958295604051947f23b872dd0000000000000000000000000000000000000000000000000000000086526004860152602485015260448401525af13d15601f3d116001600051141617161561235557565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f5452414e534645525f46524f4d5f4641494c45440000000000000000000000006044820152fdfea164736f6c6343000811000a";class fR extends ec.ContractFactory{constructor(e){super(fO,fx,e)}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new ed.vU(fO)}static connect(e,t){return new ec.Contract(e,fO,t)}}fR.bytecode=fx,fR.abi=fO,(c=T||(T={}))[c.NotSupported=0]="NotSupported",c[c.Failed=1]="Failed",c[c.Succeeded=2]="Succeeded",c[c.InsufficientBalance=3]="InsufficientBalance",c[c.NotApproved=4]="NotApproved";class fP extends tE{constructor(e){super(),this.url=e}async getGasPrice(){w.info(`About to get gas prices from gas station ${this.url}`);let e=await tw()(async()=>R().get(this.url),{retries:1}),{data:t,status:f}=e;if(200!=f)throw w.error({response:e},`Unabled to get gas price from ${this.url}.`),Error(`Unable to get gas price from ${this.url}`);w.info({gasPriceResponse:t},'Gas price response from API. About to parse "fast" to big number');let n=tI.O$.from(t.fast).div(tI.O$.from(10)).mul(tI.O$.from(10).pow(9));return w.info(`Gas price in wei: ${n} as of block ${t.blockNum}`),{gasPriceWei:n}}}class fM extends tE{constructor(e){super(),this.provider=e}async getGasPrice(){let e=await this.provider.getGasPrice();return w.info({gasPriceWei:e},`Got gas price ${e} using eth_gasPrice RPC`),{gasPriceWei:e}}}var fD=f(85205);let fB=[{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct UniswapInterfaceMulticall.Call[]",name:"calls",type:"tuple[]"}],name:"multicall",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"uint256",name:"gasUsed",type:"uint256"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct UniswapInterfaceMulticall.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}],fF="0x608060405234801561001057600080fd5b50610567806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80630f28c97d146100465780631749e1e3146100645780634d2301cc14610085575b600080fd5b61004e610098565b60405161005b919061041f565b60405180910390f35b6100776100723660046102a7565b61009c565b60405161005b929190610428565b61004e610093366004610286565b610220565b4290565b8051439060609067ffffffffffffffff811180156100b957600080fd5b506040519080825280602002602001820160405280156100f357816020015b6100e061023a565b8152602001906001900390816100d85790505b50905060005b835181101561021a57600080600086848151811061011357fe5b60200260200101516000015187858151811061012b57fe5b60200260200101516020015188868151811061014357fe5b60200260200101516040015192509250925060005a90506000808573ffffffffffffffffffffffffffffffffffffffff1685856040516101839190610403565b60006040518083038160008787f1925050503d80600081146101c1576040519150601f19603f3d011682016040523d82523d6000602084013e6101c6565b606091505b509150915060005a8403905060405180606001604052808415158152602001828152602001838152508989815181106101fb57fe5b60200260200101819052505050505050505080806001019150506100f9565b50915091565b73ffffffffffffffffffffffffffffffffffffffff163190565b604051806060016040528060001515815260200160008152602001606081525090565b803573ffffffffffffffffffffffffffffffffffffffff8116811461028157600080fd5b919050565b600060208284031215610297578081fd5b6102a08261025d565b9392505050565b600060208083850312156102b9578182fd5b823567ffffffffffffffff808211156102d0578384fd5b818501915085601f8301126102e3578384fd5b8135818111156102ef57fe5b6102fc8485830201610506565b81815284810190848601875b848110156103f457813587017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0606081838f03011215610346578a8bfd5b60408051606081018181108b8211171561035c57fe5b8252610369848d0161025d565b8152818401358c82015260608401358a811115610384578d8efd5b8085019450508e603f850112610398578c8dfd5b8b8401358a8111156103a657fe5b6103b68d85601f84011601610506565b93508084528f838287010111156103cb578d8efd5b808386018e86013783018c018d9052908101919091528552509287019290870190600101610308565b50909998505050505050505050565b6000825161041581846020870161052a565b9190910192915050565b90815260200190565b600060408083018584526020828186015281865180845260609350838701915083838202880101838901875b838110156104f6578983037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa001855281518051151584528681015187850152880151888401889052805188850181905260806104b582828801858c0161052a565b96880196601f919091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01694909401909301925090850190600101610454565b50909a9950505050505050505050565b60405181810167ffffffffffffffff8111828210171561052257fe5b604052919050565b60005b8381101561054557818101518382015260200161052d565b83811115610554576000848401525b5050505056fea164736f6c6343000706000a";class fN extends ec.ContractFactory{constructor(e){super(fB,fF,e)}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new ed.vU(fB)}static connect(e,t){return new ec.Contract(e,fB,t)}}fN.bytecode=fF,fN.abi=fB;class fU{}class fL extends fU{constructor(e,t,f=1e6){super(),this.chainId=e,this.provider=t,this.gasLimitPerCall=f;let n=X[this.chainId];if(!n)throw Error(`No address for Uniswap Multicall Contract on chain id: ${e}`);this.multicallContract=fN.connect(n,this.provider)}async callSameFunctionOnMultipleContracts(e){var t;let{addresses:f,contractInterface:n,functionName:a,functionParams:s,providerConfig:i}=e,o=null!==(t=null==i?void 0:i.blockNumber)&&void 0!==t?t:void 0,r=n.getFunction(a),d=n.encodeFunctionData(r,s),c=M().map(f,e=>({target:e,callData:d,gasLimit:this.gasLimitPerCall}));w.debug({calls:c},`About to multicall for ${a} across ${f.length} addresses`);let{blockNumber:u,returnData:l}=await this.multicallContract.callStatic.multicall(c,{blockTag:o}),p=[];for(let e=0;e<l.length;e++){let{success:t,returnData:s}=l[e];if(!t||s.length<=2){w.debug({result:l[e]},`Invalid result calling ${a} on address ${f[e]}`),p.push({success:!1,returnData:s});continue}p.push({success:!0,result:n.decodeFunctionResult(r,s)})}return w.debug({results:p},`Results for multicall on ${a} across ${f.length} addresses as of block ${u}`),{blockNumber:u,results:p}}async callSameFunctionOnContractWithMultipleParams(e){var t,f;let{address:n,contractInterface:a,functionName:s,functionParams:i,additionalConfig:o,providerConfig:r}=e,d=a.getFunction(s),c=null!==(t=null==o?void 0:o.gasLimitPerCallOverride)&&void 0!==t?t:this.gasLimitPerCall,u=null!==(f=null==r?void 0:r.blockNumber)&&void 0!==f?f:void 0,l=M().map(i,e=>{let t=a.encodeFunctionData(d,e);return{target:n,callData:t,gasLimit:c}});w.debug({calls:l},`About to multicall for ${s} at address ${n} with ${i.length} different sets of params`);let{blockNumber:p,returnData:b}=await this.multicallContract.callStatic.multicall(l,{blockTag:u}),m=[],h=[];for(let e=0;e<b.length;e++){let{success:t,returnData:f,gasUsed:n}=b[e];if(!t||f.length<=2){w.debug({result:b[e]},`Invalid result calling ${s} with params ${i[e]}`),m.push({success:!1,returnData:f});continue}h.push(n.toNumber()),m.push({success:!0,result:a.decodeFunctionResult(d,f)})}return w.debug({results:m,functionName:s,address:n},`Results for multicall for ${s} at address ${n} with ${i.length} different sets of params. Results as of block ${p}`),{blockNumber:p,results:m,approxGasUsedPerSuccessCall:fD.percentile(h,99)}}async callMultipleFunctionsOnSameContract(e){var t,f;let{address:n,contractInterface:a,functionNames:s,functionParams:i,additionalConfig:o,providerConfig:r}=e,d=null!==(t=null==o?void 0:o.gasLimitPerCallOverride)&&void 0!==t?t:this.gasLimitPerCall,c=null!==(f=null==r?void 0:r.blockNumber)&&void 0!==f?f:void 0,u=M().map(s,(e,t)=>{let f=a.getFunction(e),s=i?i[t]:[],o=a.encodeFunctionData(f,s);return{target:n,callData:o,gasLimit:d}});w.debug({calls:u},`About to multicall for ${s.length} functions at address ${n} with ${null==i?void 0:i.length} different sets of params`);let{blockNumber:l,returnData:p}=await this.multicallContract.callStatic.multicall(u,{blockTag:c}),b=[],m=[];for(let e=0;e<p.length;e++){let t=a.getFunction(s[e]),{success:f,returnData:n,gasUsed:o}=p[e];if(!f||n.length<=2){w.debug({result:p[e]},`Invalid result calling ${s[e]} with ${i?i[e]:"0"} params`),b.push({success:!1,returnData:n});continue}m.push(o.toNumber()),b.push({success:!0,result:a.decodeFunctionResult(t,n)})}return w.debug({results:b,functionNames:s,address:n},`Results for multicall for ${s.length} functions at address ${n} with ${i?i.length:" 0"} different sets of params. Results as of block ${l}`),{blockNumber:l,results:b,approxGasUsedPerSuccessCall:fD.percentile(m,99)}}}let f_=[p.MAINNET,p.RINKEBY,p.ROPSTEN,p["G\xd6RLI"],p.POLYGON_MUMBAI];class fG extends tE{constructor(e,t,f,n=f_){super(),this.chainId=e,this.eip1559GasPriceProvider=t,this.legacyGasPriceProvider=f,this.eipChains=n}async getGasPrice(){return this.eipChains.includes(this.chainId)?this.eip1559GasPriceProvider.getGasPrice():this.legacyGasPriceProvider.getGasPrice()}}let fq=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"v3SqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"v3InitializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"v3SwapGasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleV2Params",name:"params",type:"tuple"}],name:"quoteExactInputSingleV2",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleV3Params",name:"params",type:"tuple"}],name:"quoteExactInputSingleV3",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class f${static createInterface(){return new ed.vU(fq)}static connect(e,t){return new ec.Contract(e,fq,t)}}f$.abi=fq;let fV=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class fW{static createInterface(){return new ed.vU(fV)}static connect(e,t){return new ec.Contract(e,fV,t)}}fW.abi=fV;class fj extends Error{constructor(){super(...arguments),this.name="BlockConflictError"}}class fK extends Error{constructor(){super(...arguments),this.name="SuccessRateError"}}class fH extends Error{constructor(){super(...arguments),this.name="ProviderBlockHeaderError"}}class fY extends Error{constructor(){super(...arguments),this.name="ProviderTimeoutError"}}class fQ extends Error{constructor(){super(...arguments),this.name="ProviderGasError"}}class fX{constructor(e,t,f,n={retries:2,minTimeout:25,maxTimeout:250},a={multicallChunk:150,gasLimitPerCall:1e6,quoteMinSuccessRate:.2},s={gasLimitOverride:15e5,multicallChunk:100},i={gasLimitOverride:13e5,multicallChunk:110},o={baseBlockOffset:0,rollback:{enabled:!1}},r){this.chainId=e,this.provider=t,this.multicall2Provider=f,this.retryOptions=n,this.batchParams=a,this.gasErrorFailureOverride=s,this.successRateFailureOverrides=i,this.blockNumberConfig=o,this.quoterAddressOverride=r}getQuoterAddress(e){if(this.quoterAddressOverride)return this.quoterAddressOverride;let t=e?Q[this.chainId]:Y[this.chainId];if(!t)throw Error(`No address for the quoter contract on chain id: ${this.chainId}`);return t}async getQuotesManyExactIn(e,t,f){return this.getQuotesManyData(e,t,"quoteExactInput",f)}async getQuotesManyExactOut(e,t,f){return this.getQuotesManyData(e,t,"quoteExactOutput",f)}async getQuotesManyData(e,t,f,n){var a;let s=t.some(e=>e.protocol===ea.Protocol.V2)||t.some(e=>e.protocol===ea.Protocol.MIXED);this.validateRoutes(t,f,s);let i=this.batchParams.multicallChunk,o=this.batchParams.gasLimitPerCall,{baseBlockOffset:r,rollback:d}=this.blockNumberConfig,c=await this.provider.getBlockNumber(),u={...n,blockNumber:null!==(a=null==n?void 0:n.blockNumber)&&void 0!==a?a:c+r},b=M()(t).flatMap(t=>{let n=t.protocol===ea.Protocol.V3?(0,N.encodeRouteToPath)(t,"quoteExactOutput"==f):(0,ea.encodeMixedRouteToPath)(t instanceof tZ?new ea.MixedRouteSDK(t.pairs,t.input,t.output):t),a=e.map(e=>[n,`0x${e.quotient.toString(16)}`]);return a}).value(),m=Math.ceil(b.length/Math.ceil(b.length/i)),h=M().chunk(b,m),y=M().map(h,e=>({status:"pending",inputs:e}));w.info(`About to get ${b.length} quotes in chunks of ${m} [${M().map(h,e=>e.length).join(",")}] ${o?`with a gas limit override of ${o}`:""} and block number: ${await u.blockNumber} [Original before offset: ${c}].`);let g=!1,T=!1,v=0,I=!1,E=!1,A=!1,C=!1,S=!1,k=!1,O=1,x=y.length,R=0,{results:P,blockNumber:D,approxGasUsedPerSuccessCall:F}=await tw()(async(e,t)=>{I=!1,O=t;let[n,a,r]=this.partitionQuotes(y);w.info(`Starting attempt: ${t}.
          Currently ${n.length} success, ${a.length} failed, ${r.length} pending.
          Gas limit override: ${o} Block number override: ${u.blockNumber}.`),y=await Promise.all(M().map(y,async(e,t)=>{if("success"==e.status)return e;let{inputs:n}=e;try{R+=1;let e=await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({address:this.getQuoterAddress(s),contractInterface:s?f$.createInterface():fW.createInterface(),functionName:f,functionParams:n,providerConfig:u,additionalConfig:{gasLimitPerCallOverride:o}}),t=this.validateSuccessRate(e.results,g);if(t)return{status:"failed",inputs:n,reason:t,results:e};return{status:"success",inputs:n,results:e}}catch(e){if(e.message.includes("header not found"))return{status:"failed",inputs:n,reason:new fH(e.message.slice(0,500))};if(e.message.includes("timeout"))return{status:"failed",inputs:n,reason:new fY(`Req ${t}/${y.length}. Request had ${n.length} inputs. ${e.message.slice(0,500)}`)};if(e.message.includes("out of gas"))return{status:"failed",inputs:n,reason:new fQ(e.message.slice(0,500))};return{status:"failed",inputs:n,reason:Error(`Unknown error from provider: ${e.message.slice(0,500)}`)}}}));let[c,m,x]=this.partitionQuotes(y);if(x.length>0)throw Error("Pending quote after waiting for all promises.");let P=!1,D=this.validateBlockNumbers(c,h.length,o);D&&(P=!0);let F=M().map(m,e=>e.reason.name).join(", ");if(m.length>0)for(let e of(w.info(`On attempt ${t}: ${m.length}/${y.length} quotes failed. Reasons: ${F}`),m)){let{reason:f}=e;if(w.info({error:f},`[QuoteFetchError] Attempt ${t}. ${f.message}`),f instanceof fj)A||(B.putMetric("QuoteBlockConflictErrorRetry",1,l.Count),A=!0),P=!0;else if(f instanceof fH){if(T||(B.putMetric("QuoteBlockHeaderNotFoundRetry",1,l.Count),T=!0),I||(v+=1,I=!0),d.enabled){let{rollbackBlockOffset:e,attemptsBeforeRollback:f}=d;v>=f&&!E&&(w.info(`Attempt ${t}. Have failed due to block header ${v-1} times. Rolling back block number by ${e} for next retry`),u.blockNumber=u.blockNumber?await u.blockNumber+e:await this.provider.getBlockNumber()+e,P=!0,E=!0)}}else f instanceof fY?S||(B.putMetric("QuoteTimeoutRetry",1,l.Count),S=!0):f instanceof fQ?(C||(B.putMetric("QuoteOutOfGasExceptionRetry",1,l.Count),C=!0),o=this.gasErrorFailureOverride.gasLimitOverride,i=this.gasErrorFailureOverride.multicallChunk,P=!0):f instanceof fK?g||(B.putMetric("QuoteSuccessRateRetry",1,l.Count),g=!0,o=this.successRateFailureOverrides.gasLimitOverride,i=this.successRateFailureOverrides.multicallChunk,P=!0):k||(B.putMetric("QuoteUnknownReasonRetry",1,l.Count),k=!0)}if(P){w.info(`Attempt ${t}. Resetting all requests to pending for next attempt.`);let e=Math.ceil(b.length/Math.ceil(b.length/i)),f=M().chunk(b,e);y=M().map(f,e=>({status:"pending",inputs:e}))}if(m.length>0){if((this.chainId==p.ARBITRUM_ONE||this.chainId==p.ARBITRUM_RINKEBY||this.chainId==p.ARBITRUM_GOERLI)&&M().every(m,e=>e.reason instanceof fQ)&&t==this.retryOptions.retries)return w.error("Failed to get quotes on Arbitrum due to provider gas error issue. Overriding error to return 0 quotes."),{results:[],blockNumber:tI.O$.from(0),approxGasUsedPerSuccessCall:0};throw Error(`Failed to get ${m.length} quotes. Reasons: ${F}`)}let N=M().map(c,e=>e.results);return{results:M().flatMap(N,e=>e.results),blockNumber:tI.O$.from(N[0].blockNumber),approxGasUsedPerSuccessCall:fD.percentile(M().map(N,e=>e.approxGasUsedPerSuccessCall),100)}},{retries:2,...this.retryOptions}),U=this.processQuoteResults(P,t,e);B.putMetric("QuoteApproxGasUsedPerSuccessfulCall",F,l.Count),B.putMetric("QuoteNumRetryLoops",O-1,l.Count),B.putMetric("QuoteTotalCallsToProvider",R,l.Count),B.putMetric("QuoteExpectedCallsToProvider",x,l.Count),B.putMetric("QuoteNumRetriedCalls",R-x,l.Count);let[L,_]=M()(U).flatMap(e=>e[1]).partition(e=>null!=e.quote).value();return w.info(`Got ${L.length} successful quotes, ${_.length} failed quotes. Took ${O-1} attempt loops. Total calls made to provider: ${R}. Have retried for timeout: ${S}`),{routesWithQuotes:U,blockNumber:D}}partitionQuotes(e){let t=M().filter(e,e=>"success"==e.status),f=M().filter(e,e=>"failed"==e.status),n=M().filter(e,e=>"pending"==e.status);return[t,f,n]}processQuoteResults(e,t,f){let n=[],a=M().chunk(e,f.length),s=[];for(let e=0;e<a.length;e++){let i=t[e],o=a[e],r=M().map(o,(e,t)=>{let n=f[t];if(!e.success){let e=100/f.length*(t+1),a=n.toFixed(Math.min(n.currency.decimals,2)),o=ei(i);return s.push({route:o,percent:e,amount:a}),{amount:n,quote:null,sqrtPriceX96AfterList:null,gasEstimate:null,initializedTicksCrossedList:null}}return{amount:n,quote:e.result[0],sqrtPriceX96AfterList:e.result[1],initializedTicksCrossedList:e.result[2],gasEstimate:e.result[3]}});n.push([i,r])}return M().forEach(M().chunk(s,80),(e,t)=>{let f=M().groupBy(e,e=>e.route),n=M().mapValues(f,e=>M()(e).map(e=>`${e.percent}%[${e.amount}]`).join(","));w.info({failedQuotes:M().map(n,(e,t)=>`${t} : ${e}`)},`Failed on chain quotes for routes Part ${t}/${Math.ceil(s.length/80)}`)}),n}validateBlockNumbers(e,t,f){if(e.length<=1)return null;let n=M().map(e,e=>e.results),a=M().map(n,e=>e.blockNumber),s=M()(a).map(e=>e.toNumber()).uniq().value();return 1==s.length?null:new fj(`Quotes returned from different blocks. ${s}. ${t} calls were made with gas limit ${f}`)}validateSuccessRate(e,t){let f=e.length,n=e.filter(e=>e.success).length,a=1*n/f,{quoteMinSuccessRate:s}=this.batchParams;if(a<s){if(t){w.info(`Quote success rate still below threshold despite retry. Continuing. ${s}: ${a}`);return}return new fK(`Quote success rate below threshold of ${s}: ${a}`)}}validateRoutes(e,t,f){if(e.some(e=>e.protocol===ea.Protocol.V3)&&f)throw Error("Cannot use mixed route quoter with V3 routes");if("quoteExactOutput"===t&&f)throw Error("Cannot call quoteExactOutput with V2 or Mixed routes")}}let fz=[{inputs:[{internalType:"address",name:"_factoryV2",type:"address"},{internalType:"address",name:"factoryV3",type:"address"},{internalType:"address",name:"_positionManager",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"paths",type:"bytes[]"},{internalType:"uint128[]",name:"amounts",type:"uint128[]"},{internalType:"uint24",name:"maximumTickDivergence",type:"uint24"},{internalType:"uint32",name:"secondsAgo",type:"uint32"}],name:"checkOracleSlippage",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint24",name:"maximumTickDivergence",type:"uint24"},{internalType:"uint32",name:"secondsAgo",type:"uint32"}],name:"checkOracleSlippage",outputs:[],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factoryV2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"positionManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],fJ="0x6101006040526000196000553480156200001857600080fd5b5060405162006135380380620061358339810160408190526200003b9162000087565b6001600160601b0319606094851b811660805291841b821660a05291831b811660c052911b1660e052620000e3565b80516001600160a01b03811681146200008257600080fd5b919050565b600080600080608085870312156200009d578384fd5b620000a8856200006a565b9350620000b8602086016200006a565b9250620000c8604086016200006a565b9150620000d8606086016200006a565b905092959194509250565b60805160601c60a05160601c60c05160601c60e05160601c615fb162000184600039806102c15280610b3c52806112ad52806113d7528061147e52806116af52806117d95280612d8f5280612def5280612e70525080611e4c52806124df5280613cdb52508061166f5280611b1a5280611e9c52806132a6525080610c625280610d365280610fe2528061164b5280612fc252806131855250615fb16000f3fe6080604052600436106102a45760003560e01c80639b2c0a371161016e578063dee00f35116100cb578063f100b2051161007f578063f2d5d56b11610064578063f2d5d56b1461066e578063f3995c6714610681578063fa461e33146106945761034f565b8063f100b2051461063b578063f25801a71461064e5761034f565b8063e0e189a0116100b0578063e0e189a0146105f5578063e90a182f14610608578063efdeed8e1461061b5761034f565b8063dee00f35146105b5578063df2ab5bb146105e25761034f565b8063b858183f11610122578063c45a015511610107578063c45a01551461057a578063cab372ce1461058f578063d4ef38de146105a25761034f565b8063b858183f14610554578063c2e3140a146105675761034f565b8063ab3fdd5011610153578063ab3fdd501461051b578063ac9650d81461052e578063b3a2af13146105415761034f565b80639b2c0a37146104f5578063a4a78f0c146105085761034f565b8063472b43f31161021c578063571ac8b0116101d0578063639d71a9116101b5578063639d71a9146104b857806368e0d4e1146104cb578063791b98bc146104e05761034f565b8063571ac8b0146104925780635ae401dc146104a55761034f565b80634961699711610201578063496169971461044a5780634aa4a4fc1461045d5780635023b4df1461047f5761034f565b8063472b43f31461042457806349404b7c146104375761034f565b80631c58db4f116102735780633068c554116102585780633068c554146103eb57806342712a67146103fe5780634659a494146104115761034f565b80631c58db4f146103b85780631f0464d1146103cb5761034f565b806304e45aaf1461035457806309b813461461037d57806311ed56c91461039057806312210e8a146103b05761034f565b3661034f573373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161461034d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600960248201527f4e6f742057455448390000000000000000000000000000000000000000000000604482015290519081900360640190fd5b005b600080fd5b610367610362366004615543565b6106b4565b6040516103749190615dfd565b60405180910390f35b61036761038b3660046155de565b61083c565b6103a361039e366004615638565b61091c565b6040516103749190615b7a565b61034d610b28565b61034d6103c63660046157bb565b610b3a565b6103de6103d93660046152a7565b610bbe565b6040516103749190615afc565b61034d6103f93660046150d8565b610c48565b61036761040c366004615885565b610c5b565b61034d61041f366004615121565b610e35565b610367610432366004615885565b610ef5565b61034d6104453660046157eb565b6112a9565b61034d6104583660046157bb565b61146f565b34801561046957600080fd5b5061047261147c565b6040516103749190615a3c565b61036761048d366004615616565b6114a0565b61034d6104a0366004614feb565b611589565b6103de6104b33660046152a7565b6115bc565b61034d6104c6366004614feb565b611635565b3480156104d757600080fd5b50610472611649565b3480156104ec57600080fd5b5061047261166d565b61034d61050336600461581a565b611691565b61034d610516366004615121565b6118a7565b61034d610529366004614feb565b61197c565b6103de61053c36600461517c565b6119ba565b6103a361054f3660046152f1565b611b14565b61036761056236600461549d565b611bd2565b61034d610575366004615121565b611d95565b34801561058657600080fd5b50610472611e4a565b61034d61059d366004614feb565b611990565b61034d6105b0366004615858565b611e6e565b3480156105c157600080fd5b506105d56105d036600461500e565b611e7a565b6040516103749190615b8d565b61034d6105f0366004615039565b612027565b61034d61060336600461507a565b61213e565b61034d61061636600461500e565b6122a4565b34801561062757600080fd5b5061034d6106363660046151bc565b6122b3565b6103a3610649366004615627565b612305565b34801561065a57600080fd5b5061034d610669366004615324565b6123a5565b61034d61067c36600461500e565b6123f6565b61034d61068f366004615121565b612402565b3480156106a057600080fd5b5061034d6106af3660046153b8565b61249a565b600080600083608001511415610771575081516040517f70a0823100000000000000000000000000000000000000000000000000000000815260019173ffffffffffffffffffffffffffffffffffffffff16906370a082319061071b903090600401615a3c565b60206040518083038186803b15801561073357600080fd5b505afa158015610747573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061076b91906157d3565b60808401525b6107ed836080015184606001518560c001516040518060400160405280886000015189604001518a602001516040516020016107af939291906159aa565b6040516020818303038152906040528152602001866107ce57336107d0565b305b73ffffffffffffffffffffffffffffffffffffffff1690526125de565b91508260a00151821015610836576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c7d565b60405180910390fd5b50919050565b60006108b0604083018035906108559060208601614feb565b604080518082019091526000908061086d8880615e41565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050908252503360209091015261278f565b505060005460608201358111156108f3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c0f565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600055919050565b604080516101608101909152606090610b20907f8831645600000000000000000000000000000000000000000000000000000000908061095f6020870187614feb565b73ffffffffffffffffffffffffffffffffffffffff16815260200185602001602081019061098d9190614feb565b73ffffffffffffffffffffffffffffffffffffffff1681526020016109b860608701604088016157a1565b62ffffff1681526020016109d26080870160608801615379565b60020b81526020016109ea60a0870160808801615379565b60020b8152602090810190610a0a90610a0590880188614feb565b612976565b8152602001610a25866020016020810190610a059190614feb565b815260a0860135602082015260c08601356040820152606001610a4f610100870160e08801614feb565b73ffffffffffffffffffffffffffffffffffffffff1681526020017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff815250604051602401610a9e9190615cf8565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152611b14565b90505b919050565b4715610b3857610b383347612a1b565b565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015610ba257600080fd5b505af1158015610bb6573d6000803e3d6000fd5b505050505050565b60608380600143034014610c3357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600960248201527f426c6f636b686173680000000000000000000000000000000000000000000000604482015290519081900360640190fd5b610c3d84846119ba565b91505b509392505050565b610c55848433858561213e565b50505050565b6000610cbb7f000000000000000000000000000000000000000000000000000000000000000087868680806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612b6992505050565b600081518110610cc757fe5b6020026020010151905084811115610d0b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c0f565b610da484846000818110610d1b57fe5b9050602002016020810190610d309190614feb565b33610d9e7f000000000000000000000000000000000000000000000000000000000000000088886000818110610d6257fe5b9050602002016020810190610d779190614feb565b89896001818110610d8457fe5b9050602002016020810190610d999190614feb565b612ca2565b84612d8d565b73ffffffffffffffffffffffffffffffffffffffff821660011415610dcb57339150610dee565b73ffffffffffffffffffffffffffffffffffffffff821660021415610dee573091505b610e2c848480806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250869250612f6b915050565b95945050505050565b604080517f8fcbaf0c00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101879052606481018690526001608482015260ff851660a482015260c4810184905260e48101839052905173ffffffffffffffffffffffffffffffffffffffff881691638fcbaf0c9161010480830192600092919082900301818387803b158015610ed557600080fd5b505af1158015610ee9573d6000803e3d6000fd5b50505050505050505050565b60008086610fab575060018484600081610f0b57fe5b9050602002016020810190610f209190614feb565b73ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401610f589190615a3c565b60206040518083038186803b158015610f7057600080fd5b505afa158015610f84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fa891906157d3565b96505b61103685856000818110610fbb57fe5b9050602002016020810190610fd09190614feb565b82610fdb5733610fdd565b305b6110307f00000000000000000000000000000000000000000000000000000000000000008989600081811061100e57fe5b90506020020160208101906110239190614feb565b8a8a6001818110610d8457fe5b8a612d8d565b73ffffffffffffffffffffffffffffffffffffffff83166001141561105d57339250611080565b73ffffffffffffffffffffffffffffffffffffffff831660021415611080573092505b600085857fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81018181106110b057fe5b90506020020160208101906110c59190614feb565b73ffffffffffffffffffffffffffffffffffffffff166370a08231856040518263ffffffff1660e01b81526004016110fd9190615a3c565b60206040518083038186803b15801561111557600080fd5b505afa158015611129573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061114d91906157d3565b905061118d868680806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250889250612f6b915050565b6112628187877fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81018181106111bf57fe5b90506020020160208101906111d49190614feb565b73ffffffffffffffffffffffffffffffffffffffff166370a08231876040518263ffffffff1660e01b815260040161120c9190615a3c565b60206040518083038186803b15801561122457600080fd5b505afa158015611238573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061125c91906157d3565b90613270565b92508683101561129e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c7d565b505095945050505050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b15801561133257600080fd5b505afa158015611346573d6000803e3d6000fd5b505050506040513d602081101561135c57600080fd5b50519050828110156113cf57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e742057455448390000000000000000000000000000604482015290519081900360640190fd5b801561146a577f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561144857600080fd5b505af115801561145c573d6000803e3d6000fd5b5050505061146a8282612a1b565b505050565b61147981336112a9565b50565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000611549608083018035906114b99060608601614feb565b6114c960e0860160c08701614feb565b60405180604001604052808760200160208101906114e79190614feb565b6114f760608a0160408b016157a1565b61150460208b018b614feb565b604051602001611516939291906159aa565b60405160208183030381529060405281526020013373ffffffffffffffffffffffffffffffffffffffff1681525061278f565b90508160a001358111156108f3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c0f565b6115b3817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff613280565b61147957600080fd5b606083806115c86133cc565b1115610c3357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f5472616e73616374696f6e20746f6f206f6c6400000000000000000000000000604482015290519081900360640190fd5b611640816000613280565b61158957600080fd5b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000821180156116a2575060648211155b6116ab57600080fd5b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b15801561173457600080fd5b505afa158015611748573d6000803e3d6000fd5b505050506040513d602081101561175e57600080fd5b50519050848110156117d157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e742057455448390000000000000000000000000000604482015290519081900360640190fd5b80156118a0577f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561184a57600080fd5b505af115801561185e573d6000803e3d6000fd5b50505050600061271061187a85846133d090919063ffffffff16565b8161188157fe5b0490508015611894576118948382612a1b565b610bb685828403612a1b565b5050505050565b604080517fdd62ed3e00000000000000000000000000000000000000000000000000000000815233600482015230602482015290517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9173ffffffffffffffffffffffffffffffffffffffff89169163dd62ed3e91604480820192602092909190829003018186803b15801561193c57600080fd5b505afa158015611950573d6000803e3d6000fd5b505050506040513d602081101561196657600080fd5b50511015610bb657610bb6868686868686610e35565b611987816000613280565b61199057600080fd5b6115b3817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe613280565b60608167ffffffffffffffff811180156119d357600080fd5b50604051908082528060200260200182016040528015611a0757816020015b60608152602001906001900390816119f25790505b50905060005b82811015611b0d5760008030868685818110611a2557fe5b9050602002810190611a379190615e41565b604051611a45929190615a10565b600060405180830381855af49150503d8060008114611a80576040519150601f19603f3d011682016040523d82523d6000602084013e611a85565b606091505b509150915081611aeb57604481511015611a9e57600080fd5b60048101905080806020019051810190611ab89190615433565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d9190615b7a565b80848481518110611af857fe5b60209081029190910101525050600101611a0d565b5092915050565b606060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1683604051611b5d9190615a20565b6000604051808303816000865af19150503d8060008114611b9a576040519150601f19603f3d011682016040523d82523d6000602084013e611b9f565b606091505b50925090508061083657604482511015611bb857600080fd5b60048201915081806020019051810190611ab89190615433565b600080600083604001511415611ca357600190506000611bf584600001516133f4565b50506040517f70a0823100000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff8216906370a0823190611c4c903090600401615a3c565b60206040518083038186803b158015611c6457600080fd5b505afa158015611c78573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c9c91906157d3565b6040850152505b600081611cb05733611cb2565b305b90505b6000611cc48560000151613425565b9050611d1d856040015182611cdd578660200151611cdf565b305b60006040518060400160405280611cf98b6000015161342d565b81526020018773ffffffffffffffffffffffffffffffffffffffff168152506125de565b60408601528015611d3d578451309250611d369061343c565b8552611d4a565b8460400151935050611d50565b50611cb5565b8360600151831015611d8e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c7d565b5050919050565b604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051869173ffffffffffffffffffffffffffffffffffffffff89169163dd62ed3e91604480820192602092909190829003018186803b158015611e0a57600080fd5b505afa158015611e1e573d6000803e3d6000fd5b505050506040513d6020811015611e3457600080fd5b50511015610bb657610bb6868686868686612402565b7f000000000000000000000000000000000000000000000000000000000000000081565b61146a83338484611691565b6000818373ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e307f00000000000000000000000000000000000000000000000000000000000000006040518363ffffffff1660e01b8152600401611ed8929190615a5d565b60206040518083038186803b158015611ef057600080fd5b505afa158015611f04573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f2891906157d3565b10611f3557506000612021565b611f5f837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff613280565b15611f6c57506001612021565b611f96837ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe613280565b15611fa357506002612021565b611fae836000613280565b611fb757600080fd5b611fe1837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff613280565b15611fee57506003612021565b612018837ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe613280565b1561034f575060045b92915050565b60008373ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b15801561209057600080fd5b505afa1580156120a4573d6000803e3d6000fd5b505050506040513d60208110156120ba57600080fd5b505190508281101561212d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e7420746f6b656e0000000000000000000000000000604482015290519081900360640190fd5b8015610c5557610c55848383613471565b60008211801561214f575060648211155b61215857600080fd5b60008573ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b1580156121c157600080fd5b505afa1580156121d5573d6000803e3d6000fd5b505050506040513d60208110156121eb57600080fd5b505190508481101561225e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e7420746f6b656e0000000000000000000000000000604482015290519081900360640190fd5b8015610bb657600061271061227383866133d0565b8161227a57fe5b049050801561228e5761228e878483613471565b61229b8786838503613471565b50505050505050565b6122af828233612027565b5050565b6000806122c1868685613646565b915091508362ffffff1681830312610bb6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c46565b6060610b2063219f5d1760e01b6040518060c001604052808560400135815260200161233d866000016020810190610a059190614feb565b8152602001612358866020016020810190610a059190614feb565b815260200185606001358152602001856080013581526020017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff815250604051602401610a9e9190615cb4565b6000806123b28584613859565b915091508362ffffff16818303126118a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c46565b6122af82333084613ae1565b604080517fd505accf000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018790526064810186905260ff8516608482015260a4810184905260c48101839052905173ffffffffffffffffffffffffffffffffffffffff88169163d505accf9160e480830192600092919082900301818387803b158015610ed557600080fd5b60008413806124a95750600083135b6124b257600080fd5b60006124c08284018461564a565b905060008060006124d484600001516133f4565b9250925092506125067f0000000000000000000000000000000000000000000000000000000000000000848484613cbe565b5060008060008a13612547578473ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161089612578565b8373ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff16108a5b915091508115612597576125928587602001513384612d8d565b610ee9565b85516125a290613425565b156125c75785516125b29061343c565b86526125c1813360008961278f565b50610ee9565b80600081905550610ee98487602001513384612d8d565b600073ffffffffffffffffffffffffffffffffffffffff8416600114156126075733935061262a565b73ffffffffffffffffffffffffffffffffffffffff84166002141561262a573093505b600080600061263c85600001516133f4565b9194509250905073ffffffffffffffffffffffffffffffffffffffff8083169084161060008061266d868686613cd4565b73ffffffffffffffffffffffffffffffffffffffff1663128acb088b856126938f613d12565b73ffffffffffffffffffffffffffffffffffffffff8e16156126b5578d6126db565b876126d45773fffd8963efd1fc6a506488495d951d5263988d256126db565b6401000276a45b8d6040516020016126ec9190615da6565b6040516020818303038152906040526040518663ffffffff1660e01b815260040161271b959493929190615a84565b6040805180830381600087803b15801561273457600080fd5b505af1158015612748573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061276c9190615395565b915091508261277b578161277d565b805b6000039b9a5050505050505050505050565b600073ffffffffffffffffffffffffffffffffffffffff8416600114156127b8573393506127db565b73ffffffffffffffffffffffffffffffffffffffff8416600214156127db573093505b60008060006127ed85600001516133f4565b9194509250905073ffffffffffffffffffffffffffffffffffffffff8084169083161060008061281e858786613cd4565b73ffffffffffffffffffffffffffffffffffffffff1663128acb088b856128448f613d12565b60000373ffffffffffffffffffffffffffffffffffffffff8e1615612869578d61288f565b876128885773fffd8963efd1fc6a506488495d951d5263988d2561288f565b6401000276a45b8d6040516020016128a09190615da6565b6040516020818303038152906040526040518663ffffffff1660e01b81526004016128cf959493929190615a84565b6040805180830381600087803b1580156128e857600080fd5b505af11580156128fc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906129209190615395565b9150915060008361293557818360000361293b565b82826000035b909850905073ffffffffffffffffffffffffffffffffffffffff8a16612967578b811461296757600080fd5b50505050505050949350505050565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815260009073ffffffffffffffffffffffffffffffffffffffff8316906370a08231906129cb903090600401615a3c565b60206040518083038186803b1580156129e357600080fd5b505afa1580156129f7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2091906157d3565b6040805160008082526020820190925273ffffffffffffffffffffffffffffffffffffffff84169083906040518082805190602001908083835b60208310612a9257805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101612a55565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114612af4576040519150601f19603f3d011682016040523d82523d6000602084013e612af9565b606091505b505090508061146a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600360248201527f5354450000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6060600282511015612b7a57600080fd5b815167ffffffffffffffff81118015612b9257600080fd5b50604051908082528060200260200182016040528015612bbc578160200160208202803683370190505b5090508281600183510381518110612bd057fe5b602090810291909101015281517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff015b8015610c4057600080612c3d87866001860381518110612c1c57fe5b6020026020010151878681518110612c3057fe5b6020026020010151613d44565b91509150612c5f848481518110612c5057fe5b60200260200101518383613e2c565b846001850381518110612c6e57fe5b602090810291909101015250507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01612c00565b6000806000612cb18585613f02565b604080517fffffffffffffffffffffffffffffffffffffffff000000000000000000000000606094851b811660208084019190915293851b81166034830152825160288184030181526048830184528051908501207fff0000000000000000000000000000000000000000000000000000000000000060688401529a90941b9093166069840152607d8301989098527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f609d808401919091528851808403909101815260bd909201909752805196019590952095945050505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148015612de85750804710155b15612f31577f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015612e5557600080fd5b505af1158015612e69573d6000803e3d6000fd5b50505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015612eff57600080fd5b505af1158015612f13573d6000803e3d6000fd5b505050506040513d6020811015612f2957600080fd5b50610c559050565b73ffffffffffffffffffffffffffffffffffffffff8316301415612f5f57612f5a848383613471565b610c55565b610c5584848484613ae1565b60005b600183510381101561146a57600080848381518110612f8957fe5b6020026020010151858460010181518110612fa057fe5b6020026020010151915091506000612fb88383613f02565b5090506000612fe87f00000000000000000000000000000000000000000000000000000000000000008585612ca2565b90506000806000808473ffffffffffffffffffffffffffffffffffffffff16630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561303657600080fd5b505afa15801561304a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061306e91906156da565b506dffffffffffffffffffffffffffff1691506dffffffffffffffffffffffffffff1691506000808773ffffffffffffffffffffffffffffffffffffffff168a73ffffffffffffffffffffffffffffffffffffffff16146130d05782846130d3565b83835b91509150613114828b73ffffffffffffffffffffffffffffffffffffffff166370a082318a6040518263ffffffff1660e01b815260040161120c9190615a3c565b9550613121868383613fa7565b9450505050506000808573ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff161461316557826000613169565b6000835b91509150600060028c51038a10613180578a6131c1565b6131c17f0000000000000000000000000000000000000000000000000000000000000000898e8d600201815181106131b457fe5b6020026020010151612ca2565b604080516000815260208101918290527f022c0d9f0000000000000000000000000000000000000000000000000000000090915290915073ffffffffffffffffffffffffffffffffffffffff87169063022c0d9f906132299086908690869060248101615e06565b600060405180830381600087803b15801561324357600080fd5b505af1158015613257573d6000803e3d6000fd5b50506001909b019a50612f6e9950505050505050505050565b8082038281111561202157600080fd5b60008060008473ffffffffffffffffffffffffffffffffffffffff1663095ea7b360e01b7f0000000000000000000000000000000000000000000000000000000000000000866040516024016132d7929190615ad6565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff000000000000000000000000000000000000000000000000000000009094169390931790925290516133609190615a20565b6000604051808303816000865af19150503d806000811461339d576040519150601f19603f3d011682016040523d82523d6000602084013e6133a2565b606091505b5091509150818015610e2c575080511580610e2c575080806020019051810190610e2c919061528d565b4290565b60008215806133eb575050818102818382816133e857fe5b04145b61202157600080fd5b60008080613402848261407d565b925061340f84601461417d565b905061341c84601761407d565b91509193909250565b516042111590565b6060610b20826000602b61426d565b8051606090610b209083906017907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe90161426d565b6040805173ffffffffffffffffffffffffffffffffffffffff8481166024830152604480830185905283518084039091018152606490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fa9059cbb000000000000000000000000000000000000000000000000000000001781529251825160009485949389169392918291908083835b6020831061354657805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101613509565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146135a8576040519150601f19603f3d011682016040523d82523d6000602084013e6135ad565b606091505b50915091508180156135db5750805115806135db57508080602001905160208110156135d857600080fd5b50515b6118a057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600260248201527f5354000000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600080835185511461365757600080fd5b6000855167ffffffffffffffff8111801561367157600080fd5b506040519080825280602002602001820160405280156136ab57816020015b613698614e34565b8152602001906001900390816136905790505b5090506000865167ffffffffffffffff811180156136c857600080fd5b5060405190808252806020026020018201604052801561370257816020015b6136ef614e34565b8152602001906001900390816136e75790505b50905060005b8751811015613832576000806137318a848151811061372357fe5b602002602001015189613859565b9150915061373e82614454565b85848151811061374a57fe5b60200260200101516000019060020b908160020b8152505061376b81614454565b84848151811061377757fe5b60200260200101516000019060020b908160020b8152505088838151811061379b57fe5b60200260200101518584815181106137af57fe5b6020026020010151602001906fffffffffffffffffffffffffffffffff1690816fffffffffffffffffffffffffffffffff16815250508883815181106137f157fe5b602002602001015184848151811061380557fe5b6020908102919091018101516fffffffffffffffffffffffffffffffff9092169101525050600101613708565b5061383c82614465565b60020b935061384a81614465565b60020b92505050935093915050565b6000806000806138688661454d565b90506000805b82811015613a865760008060006138848b6133f4565b9250925092506000613897848484613cd4565b905060008063ffffffff8d166138c0576138b083614578565b600291820b9350900b9050613962565b6138ca838e614810565b8160020b915050809250508273ffffffffffffffffffffffffffffffffffffffff16633850c7bd6040518163ffffffff1660e01b815260040160e06040518083038186803b15801561391b57600080fd5b505afa15801561392f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906139539190615715565b50505060029290920b93505050505b600189038714156139a3578473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161099506139b2565b6139ac8e61343c565b9d508597505b6000871580613a5357508673ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff1610613a23578673ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1610613a53565b8573ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff16105b90508015613a68579b82019b9a81019a613a73565b828d039c50818c039b505b50506001909501945061386e9350505050565b5082613ad7577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff850294507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff840293505b5050509250929050565b6040805173ffffffffffffffffffffffffffffffffffffffff85811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f23b872dd00000000000000000000000000000000000000000000000000000000178152925182516000948594938a169392918291908083835b60208310613bbe57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101613b81565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114613c20576040519150601f19603f3d011682016040523d82523d6000602084013e613c25565b606091505b5091509150818015613c53575080511580613c535750808060200190516020811015613c5057600080fd5b50515b610bb657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600360248201527f5354460000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6000610e2c85613ccf868686614c41565b614cbe565b6000613d0a7f0000000000000000000000000000000000000000000000000000000000000000613d05868686614c41565b614cee565b949350505050565b60007f80000000000000000000000000000000000000000000000000000000000000008210613d4057600080fd5b5090565b6000806000613d538585613f02565b509050600080613d64888888612ca2565b73ffffffffffffffffffffffffffffffffffffffff16630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b158015613da957600080fd5b505afa158015613dbd573d6000803e3d6000fd5b505050506040513d6060811015613dd357600080fd5b5080516020909101516dffffffffffffffffffffffffffff918216935016905073ffffffffffffffffffffffffffffffffffffffff87811690841614613e1a578082613e1d565b81815b90999098509650505050505050565b6000808411613e9c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f494e53554646494349454e545f4f55545055545f414d4f554e54000000000000604482015290519081900360640190fd5b600083118015613eac5750600082115b613eb557600080fd5b6000613ecd6103e8613ec786886133d0565b906133d0565b90506000613ee16103e5613ec78689613270565b9050613ef86001828481613ef157fe5b0490614e24565b9695505050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415613f3e57600080fd5b8273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1610613f78578284613f7b565b83835b909250905073ffffffffffffffffffffffffffffffffffffffff8216613fa057600080fd5b9250929050565b600080841161401757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f494e53554646494349454e545f494e5055545f414d4f554e5400000000000000604482015290519081900360640190fd5b6000831180156140275750600082115b61403057600080fd5b600061403e856103e56133d0565b9050600061404c82856133d0565b9050600061406683614060886103e86133d0565b90614e24565b905080828161407157fe5b04979650505050505050565b6000818260140110156140f157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f746f416464726573735f6f766572666c6f770000000000000000000000000000604482015290519081900360640190fd5b816014018351101561416457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f416464726573735f6f75744f66426f756e64730000000000000000000000604482015290519081900360640190fd5b5001602001516c01000000000000000000000000900490565b6000818260030110156141f157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f746f55696e7432345f6f766572666c6f77000000000000000000000000000000604482015290519081900360640190fd5b816003018351101561426457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f746f55696e7432345f6f75744f66426f756e6473000000000000000000000000604482015290519081900360640190fd5b50016003015190565b60608182601f0110156142e157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f736c6963655f6f766572666c6f77000000000000000000000000000000000000604482015290519081900360640190fd5b82828401101561435257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f736c6963655f6f766572666c6f77000000000000000000000000000000000000604482015290519081900360640190fd5b818301845110156143c457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f736c6963655f6f75744f66426f756e6473000000000000000000000000000000604482015290519081900360640190fd5b6060821580156143e3576040519150600082526020820160405261444b565b6040519150601f8416801560200281840101858101878315602002848b0101015b8183101561441c578051835260209283019201614404565b5050858452601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016604052505b50949350505050565b80600281900b8114610b2357600080fd5b6000806000805b84518110156144fa5784818151811061448157fe5b6020026020010151602001516fffffffffffffffffffffffffffffffff168582815181106144ab57fe5b60200260200101516000015160020b02830192508481815181106144cb57fe5b6020026020010151602001516fffffffffffffffffffffffffffffffff1682019150808060010191505061446c565b5080828161450457fe5b05925060008212801561451f575080828161451b57fe5b0715155b15611d8e5750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01919050565b5160177fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec9091010490565b6000806000808473ffffffffffffffffffffffffffffffffffffffff16633850c7bd6040518163ffffffff1660e01b815260040160e06040518083038186803b1580156145c457600080fd5b505afa1580156145d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906145fc9190615715565b50939750919550935050600161ffff84161191506146489050576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615bd8565b6000808673ffffffffffffffffffffffffffffffffffffffff1663252c09d7856040518263ffffffff1660e01b81526004016146849190615dee565b60806040518083038186803b15801561469c57600080fd5b505afa1580156146b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906146d491906158e0565b5050915091506146e26133cc565b63ffffffff168263ffffffff16146146fc57849550614807565b60008361ffff1660018561ffff168761ffff1601038161471857fe5b06905060008060008a73ffffffffffffffffffffffffffffffffffffffff1663252c09d7856040518263ffffffff1660e01b81526004016147599190615dfd565b60806040518083038186803b15801561477157600080fd5b505afa158015614785573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906147a991906158e0565b93505092509250806147e7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615ba1565b82860363ffffffff811683870360060b816147fe57fe5b059a5050505050505b50505050915091565b60008063ffffffff831661488557604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600260248201527f4250000000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60408051600280825260608201835260009260208301908036833701905050905083816000815181106148b457fe5b602002602001019063ffffffff16908163ffffffff16815250506000816001815181106148dd57fe5b63ffffffff9092166020928302919091018201526040517f883bdbfd00000000000000000000000000000000000000000000000000000000815260048101828152835160248301528351600093849373ffffffffffffffffffffffffffffffffffffffff8b169363883bdbfd9388939192839260449091019185820191028083838b5b83811015614978578181015183820152602001614960565b505050509050019250505060006040518083038186803b15801561499b57600080fd5b505afa1580156149af573d6000803e3d6000fd5b505050506040513d6000823e601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820160409081528110156149f657600080fd5b8101908080516040519392919084640100000000821115614a1657600080fd5b908301906020820185811115614a2b57600080fd5b8251866020820283011164010000000082111715614a4857600080fd5b82525081516020918201928201910280838360005b83811015614a75578181015183820152602001614a5d565b5050505090500160405260200180516040519392919084640100000000821115614a9e57600080fd5b908301906020820185811115614ab357600080fd5b8251866020820283011164010000000082111715614ad057600080fd5b82525081516020918201928201910280838360005b83811015614afd578181015183820152602001614ae5565b5050505090500160405250505091509150600082600081518110614b1d57fe5b602002602001015183600181518110614b3257fe5b6020026020010151039050600082600081518110614b4c57fe5b602002602001015183600181518110614b6157fe5b60200260200101510390508763ffffffff168260060b81614b7e57fe5b05965060008260060b128015614ba857508763ffffffff168260060b81614ba157fe5b0760060b15155b15614bd3577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff909601955b63ffffffff881673ffffffffffffffffffffffffffffffffffffffff0277ffffffffffffffffffffffffffffffffffffffff00000000602083901b1677ffffffffffffffffffffffffffffffffffffffffffffffff821681614c3157fe5b0496505050505050509250929050565b614c49614e4b565b8273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161115614c81579192915b506040805160608101825273ffffffffffffffffffffffffffffffffffffffff948516815292909316602083015262ffffff169181019190915290565b6000614cca8383614cee565b90503373ffffffffffffffffffffffffffffffffffffffff82161461202157600080fd5b6000816020015173ffffffffffffffffffffffffffffffffffffffff16826000015173ffffffffffffffffffffffffffffffffffffffff1610614d3057600080fd5b508051602080830151604093840151845173ffffffffffffffffffffffffffffffffffffffff94851681850152939091168385015262ffffff166060808401919091528351808403820181526080840185528051908301207fff0000000000000000000000000000000000000000000000000000000000000060a085015294901b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000001660a183015260b58201939093527fe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b5460d5808301919091528251808303909101815260f5909101909152805191012090565b8082018281101561202157600080fd5b604080518082019091526000808252602082015290565b604080516060810182526000808252602082018190529181019190915290565b8035610b2381615f52565b60008083601f840112614e87578182fd5b50813567ffffffffffffffff811115614e9e578182fd5b6020830191508360208083028501011115613fa057600080fd5b600082601f830112614ec8578081fd5b81356020614edd614ed883615ec8565b615ea4565b8281528181019085830183850287018401881015614ef9578586fd5b855b85811015614f345781356fffffffffffffffffffffffffffffffff81168114614f22578788fd5b84529284019290840190600101614efb565b5090979650505050505050565b80518015158114610b2357600080fd5b600082601f830112614f61578081fd5b8135614f6f614ed882615ee6565b818152846020838601011115614f83578283fd5b816020850160208301379081016020019190915292915050565b80516dffffffffffffffffffffffffffff81168114610b2357600080fd5b805161ffff81168114610b2357600080fd5b803562ffffff81168114610b2357600080fd5b8035610b2381615f83565b600060208284031215614ffc578081fd5b813561500781615f52565b9392505050565b60008060408385031215615020578081fd5b823561502b81615f52565b946020939093013593505050565b60008060006060848603121561504d578081fd5b833561505881615f52565b925060208401359150604084013561506f81615f52565b809150509250925092565b600080600080600060a08688031215615091578283fd5b853561509c81615f52565b94506020860135935060408601356150b381615f52565b92506060860135915060808601356150ca81615f52565b809150509295509295909350565b600080600080608085870312156150ed578182fd5b84356150f881615f52565b93506020850135925060408501359150606085013561511681615f52565b939692955090935050565b60008060008060008060c08789031215615139578384fd5b863561514481615f52565b95506020870135945060408701359350606087013561516281615f95565b9598949750929560808101359460a0909101359350915050565b6000806020838503121561518e578182fd5b823567ffffffffffffffff8111156151a4578283fd5b6151b085828601614e76565b90969095509350505050565b600080600080608085870312156151d1578182fd5b843567ffffffffffffffff808211156151e8578384fd5b818701915087601f8301126151fb578384fd5b8135602061520b614ed883615ec8565b82815281810190858301885b858110156152405761522e8e8684358b0101614f51565b84529284019290840190600101615217565b50909950505088013592505080821115615258578384fd5b5061526587828801614eb8565b93505061527460408601614fcd565b915061528260608601614fe0565b905092959194509250565b60006020828403121561529e578081fd5b61500782614f41565b6000806000604084860312156152bb578081fd5b83359250602084013567ffffffffffffffff8111156152d8578182fd5b6152e486828701614e76565b9497909650939450505050565b600060208284031215615302578081fd5b813567ffffffffffffffff811115615318578182fd5b613d0a84828501614f51565b600080600060608486031215615338578081fd5b833567ffffffffffffffff81111561534e578182fd5b61535a86828701614f51565b93505061536960208501614fcd565b9150604084013561506f81615f83565b60006020828403121561538a578081fd5b813561500781615f74565b600080604083850312156153a7578182fd5b505080516020909101519092909150565b600080600080606085870312156153cd578182fd5b8435935060208501359250604085013567ffffffffffffffff808211156153f2578384fd5b818701915087601f830112615405578384fd5b813581811115615413578485fd5b886020828501011115615424578485fd5b95989497505060200194505050565b600060208284031215615444578081fd5b815167ffffffffffffffff81111561545a578182fd5b8201601f8101841361546a578182fd5b8051615478614ed882615ee6565b81815285602083850101111561548c578384fd5b610e2c826020830160208601615f26565b6000602082840312156154ae578081fd5b813567ffffffffffffffff808211156154c5578283fd5b90830190608082860312156154d8578283fd5b6040516080810181811083821117156154ed57fe5b6040528235828111156154fe578485fd5b61550a87828601614f51565b8252506020830135915061551d82615f52565b816020820152604083013560408201526060830135606082015280935050505092915050565b600060e08284031215615554578081fd5b60405160e0810181811067ffffffffffffffff8211171561557157fe5b60405261557d83614e6b565b815261558b60208401614e6b565b602082015261559c60408401614fcd565b60408201526155ad60608401614e6b565b60608201526080830135608082015260a083013560a08201526155d260c08401614e6b565b60c08201529392505050565b6000602082840312156155ef578081fd5b813567ffffffffffffffff811115615605578182fd5b820160808185031215615007578182fd5b600060e08284031215610836578081fd5b600060a08284031215610836578081fd5b60006101008284031215610836578081fd5b60006020828403121561565b578081fd5b813567ffffffffffffffff80821115615672578283fd5b9083019060408286031215615685578283fd5b60405160408101818110838211171561569a57fe5b6040528235828111156156ab578485fd5b6156b787828601614f51565b825250602083013592506156ca83615f52565b6020810192909252509392505050565b6000806000606084860312156156ee578081fd5b6156f784614f9d565b925061570560208501614f9d565b9150604084015161506f81615f83565b600080600080600080600060e0888a03121561572f578485fd5b875161573a81615f52565b602089015190975061574b81615f74565b955061575960408901614fbb565b945061576760608901614fbb565b935061577560808901614fbb565b925060a088015161578581615f95565b915061579360c08901614f41565b905092959891949750929550565b6000602082840312156157b2578081fd5b61500782614fcd565b6000602082840312156157cc578081fd5b5035919050565b6000602082840312156157e4578081fd5b5051919050565b600080604083850312156157fd578182fd5b82359150602083013561580f81615f52565b809150509250929050565b6000806000806080858703121561582f578182fd5b84359350602085013561584181615f52565b925060408501359150606085013561511681615f52565b60008060006060848603121561586c578081fd5b8335925060208401359150604084013561506f81615f52565b60008060008060006080868803121561589c578283fd5b8535945060208601359350604086013567ffffffffffffffff8111156158c0578384fd5b6158cc88828901614e76565b90945092505060608601356150ca81615f52565b600080600080608085870312156158f5578182fd5b845161590081615f83565b8094505060208501518060060b8114615917578283fd5b604086015190935061592881615f52565b915061528260608601614f41565b73ffffffffffffffffffffffffffffffffffffffff169052565b60008151808452615968816020860160208601615f26565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b60020b9052565b62ffffff169052565b606093841b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000908116825260e89390931b7fffffff0000000000000000000000000000000000000000000000000000000000166014820152921b166017820152602b0190565b6000828483379101908152919050565b60008251615a32818460208701615f26565b9190910192915050565b73ffffffffffffffffffffffffffffffffffffffff91909116815260200190565b73ffffffffffffffffffffffffffffffffffffffff92831681529116602082015260400190565b600073ffffffffffffffffffffffffffffffffffffffff8088168352861515602084015285604084015280851660608401525060a06080830152615acb60a0830184615950565b979650505050505050565b73ffffffffffffffffffffffffffffffffffffffff929092168252602082015260400190565b6000602080830181845280855180835260408601915060408482028701019250838701855b82811015615b6d577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0888603018452615b5b858351615950565b94509285019290850190600101615b21565b5092979650505050505050565b6000602082526150076020830184615950565b6020810160058310615b9b57fe5b91905290565b60208082526003908201527f4f4e490000000000000000000000000000000000000000000000000000000000604082015260600190565b60208082526003908201527f4e454f0000000000000000000000000000000000000000000000000000000000604082015260600190565b60208082526012908201527f546f6f206d756368207265717565737465640000000000000000000000000000604082015260600190565b60208082526002908201527f5444000000000000000000000000000000000000000000000000000000000000604082015260600190565b60208082526013908201527f546f6f206c6974746c6520726563656976656400000000000000000000000000604082015260600190565b600060c082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015260a083015160a083015292915050565b600061016082019050615d0c828451615936565b6020830151615d1e6020840182615936565b506040830151615d3160408401826159a1565b506060830151615d44606084018261599a565b506080830151615d57608084018261599a565b5060a083015160a083015260c083015160c083015260e083015160e083015261010080840151818401525061012080840151615d9582850182615936565b505061014092830151919092015290565b600060208252825160406020840152615dc26060840182615950565b905073ffffffffffffffffffffffffffffffffffffffff60208501511660408401528091505092915050565b61ffff91909116815260200190565b90815260200190565b600085825284602083015273ffffffffffffffffffffffffffffffffffffffff8416604083015260806060830152613ef86080830184615950565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112615e75578283fd5b83018035915067ffffffffffffffff821115615e8f578283fd5b602001915036819003821315613fa057600080fd5b60405181810167ffffffffffffffff81118282101715615ec057fe5b604052919050565b600067ffffffffffffffff821115615edc57fe5b5060209081020190565b600067ffffffffffffffff821115615efa57fe5b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b60005b83811015615f41578181015183820152602001615f29565b83811115610c555750506000910152565b73ffffffffffffffffffffffffffffffffffffffff8116811461147957600080fd5b8060020b811461147957600080fd5b63ffffffff8116811461147957600080fd5b60ff8116811461147957600080fdfea164736f6c6343000706000a";class fZ extends ec.ContractFactory{constructor(e){super(fz,fJ,e)}deploy(e,t,f,n,a){return super.deploy(e,t,f,n,a||{})}getDeployTransaction(e,t,f,n,a){return super.getDeployTransaction(e,t,f,n,a||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new ed.vU(fz)}static connect(e,t){return new ec.Contract(e,fz,t)}}fZ.bytecode=fJ,fZ.abi=fz;class f0{constructor(e,t){this.multicall2Provider=e,this.chainId=t}async getApprovalType(e,t){var f,n;let a=[[e.currency.wrapped.address,e.quotient.toString()],[t.currency.wrapped.address,t.quotient.toString()]],s=await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({address:z(this.chainId),contractInterface:fZ.createInterface(),functionName:"getApprovalType",functionParams:a});if(!(null===(f=s.results[0])||void 0===f?void 0:f.success)||!(null===(n=s.results[1])||void 0===n?void 0:n.success))throw w.info({results:s.results},"Failed to get approval type from swap router for token in or token out"),Error("Failed to get approval type from swap router for token in or token out");let{result:i}=s.results[0],{result:o}=s.results[1];return{approvalTokenIn:i[0],approvalTokenOut:o[0]}}}var f1=f(21692),f5=f.n(f1);class f6{constructor(e,t,f=6e3,n=2){this.chainId=e,this.uri=t,this.timeout=f,this.retries=n}async getPools(){w.info({uri:this.uri},`About to get subgraph pools from URI ${this.uri}`);let e=[];return await tw()(async()=>{let t;let f=new(f5()),n=f.set(this.timeout).then(()=>{throw Error(`Timed out getting pools from subgraph: ${this.timeout}`)});try{t=await Promise.race([R().get(this.uri),n])}catch(e){throw e}finally{f.clear()}let{data:a,status:s}=t;if(200!=s)throw w.error({response:t},`Unabled to get pools from ${this.uri}.`),Error(`Unable to get pools from ${this.uri}`);w.info({uri:this.uri,chain:this.chainId},`Got subgraph pools from uri. Num: ${a.length}`),e=a},{retries:this.retries,onRetry:(e,t)=>{w.info({err:e},`Failed to get pools from uri ${this.uri}. Retry attempt: ${t}`)}}),e}}class f8{constructor({route:e,percent:t}){this.route=e,this.percent=t}get protocol(){return this.route.protocol}get tokenIn(){return this.route.input}get tokenOut(){return this.route.output}}class f2{constructor({routes:e,chainId:t,tokenIn:f,tokenOut:n,protocolsCovered:a,blockNumber:s,tradeType:i,originalAmount:o,blocksToLive:r=0}){this.routes=e,this.chainId=t,this.tokenIn=f,this.tokenOut=n,this.protocolsCovered=a,this.blockNumber=s,this.tradeType=i,this.originalAmount=o,this.blocksToLive=r}static fromRoutesWithValidQuotes(e,t,f,n,a,s,i,o){if(0==e.length)return;let r=M().map(e,e=>new f8({route:e.route,percent:e.percent}));return new f2({routes:r,chainId:t,tokenIn:f,tokenOut:n,protocolsCovered:a,blockNumber:s,tradeType:i,originalAmount:o})}notExpired(e){return e-this.blockNumber<=this.blocksToLive}}(u=v||(v={})).Livemode="livemode",u.Darkmode="darkmode",u.Tapcompare="tapcompare";class f3{constructor(e,t,f){this.chainId=e,this.poolProvider=t,this.cache=f,this.POOL_KEY=(e,t)=>`pool-${e}-${t}`}async getPools(e,t){let f=new Set,n=[],a=[],s={},i=await (null==t?void 0:t.blockNumber);for(let[t,o]of e){let{poolAddress:e,token0:r,token1:d}=this.getPoolAddress(t,o);if(f.has(e))continue;f.add(e);let c=await this.cache.get(this.POOL_KEY(this.chainId,e));if(c&&(!i||i&&c.block==i)){s[e]=c.pair;continue}n.push([r,d]),a.push(e)}if(w.info({poolsFound:M().map(Object.values(s),e=>e.token0.symbol+" "+e.token1.symbol),poolsToGetTokenPairs:M().map(n,e=>e[0].symbol+" "+e[1].symbol)},`Found ${Object.keys(s).length} V2 pools already in local cache for block ${i}. About to get reserves for ${n.length} pools.`),a.length>0){let e=await this.poolProvider.getPools(n,t);for(let t of a){let f=e.getPoolByAddress(t);f&&(s[t]=f,await this.cache.set(this.POOL_KEY(this.chainId,t),{pair:f,block:i}))}}return{getPool:(e,t)=>{let{poolAddress:f}=this.getPoolAddress(e,t);return s[f]},getPoolByAddress:e=>s[e],getAllPools:()=>Object.values(s)}}getPoolAddress(e,t){return this.poolProvider.getPoolAddress(e,t)}}class f9{constructor(e,t,f){this.chainId=e,this.subgraphProvider=t,this.cache=f,this.SUBGRAPH_KEY=e=>`subgraph-pools-v2-${e}`}async getPools(){let e=await this.cache.get(this.SUBGRAPH_KEY(this.chainId));if(e)return e;let t=await this.subgraphProvider.getPools();return await this.cache.set(this.SUBGRAPH_KEY(this.chainId),t),t}}class f4{constructor(){}async getQuotesManyExactIn(e,t){return this.getQuotes(e,t,S.TradeType.EXACT_INPUT)}async getQuotesManyExactOut(e,t){return this.getQuotes(e,t,S.TradeType.EXACT_OUTPUT)}async getQuotes(e,t,f){let n=[],a=[];for(let s of t){let t=[],i=0,o=0;for(let n of e)try{if(f==S.TradeType.EXACT_INPUT){let e=n.wrapped;for(let t of s.pairs){let[f]=t.getOutputAmount(e);e=f}t.push({amount:n,quote:tI.O$.from(e.quotient.toString())})}else{let e=n.wrapped;for(let t=s.pairs.length-1;t>=0;t--){let f=s.pairs[t];[e]=f.getInputAmount(e)}t.push({amount:n,quote:tI.O$.from(e.quotient.toString())})}}catch(e){if(e instanceof es.InsufficientInputAmountError)i+=1,t.push({amount:n,quote:null});else if(e instanceof es.InsufficientReservesError)o+=1,t.push({amount:n,quote:null});else throw e}(i>0||o>0)&&a.push(`${[ei(s)]} Input: ${i} Reserves: ${o} }`),n.push([s,t])}return a.length>0&&w.info({debugStrs:a},"Failed quotes for V2 routes"),{routesWithQuotes:n}}}let f7={[p.MAINNET]:[$[p.MAINNET],eh,ep,eb,em],[p.ROPSTEN]:[$[p.ROPSTEN]],[p.RINKEBY]:[$[p.RINKEBY],eI,eE],[p["G\xd6RLI"]]:[$[p["G\xd6RLI"]]],[p.KOVAN]:[$[p.KOVAN]],[p.OPTIMISM]:[],[p.ARBITRUM_ONE]:[],[p.ARBITRUM_RINKEBY]:[],[p.ARBITRUM_GOERLI]:[],[p.OPTIMISM_GOERLI]:[],[p.OPTIMISTIC_KOVAN]:[],[p.POLYGON]:[],[p.POLYGON_MUMBAI]:[],[p.CELO]:[],[p.CELO_ALFAJORES]:[],[p.GNOSIS]:[],[p.MOONBEAM]:[],[p.BSC]:[]};class ne{constructor(e){this.chainId=e}async getPools(e,t){w.info("In static subgraph provider for V2");let f=f7[this.chainId],n=M().flatMap(f,e=>f.map(t=>[e,t]));e&&t&&n.push([e,t],...f.map(t=>[e,t]),...f.map(e=>[t,e]));let a=M()(n).filter(e=>Boolean(e[0]&&e[1])).filter(([e,t])=>e.address!==t.address&&!e.equals(t)).value(),s=new Set,i=M()(a).map(([e,t])=>{let f=es.Pair.getAddress(e,t);if(s.has(f))return;s.add(f);let[n,a]=e.sortsBefore(t)?[e,t]:[t,e];return{id:f,liquidity:"100",token0:{id:n.address},token1:{id:a.address},supply:100,reserve:100,reserveUSD:100}}).compact().value();return i}}f(28687),p.MAINNET,p.RINKEBY;class nt{constructor(e){this.fallbacks=e}async getPools(e,t,f){for(let n=0;n<this.fallbacks.length;n++){let a=this.fallbacks[n];try{let n=await a.getPools(e,t,f);return n}catch(e){w.info(`Failed to get subgraph pools for V2 from fallback #${n}`)}}throw Error("Failed to get subgraph pools from any providers")}}class nf{constructor(e,t,f){this.chainId=e,this.poolProvider=t,this.cache=f,this.POOL_KEY=(e,t)=>`pool-${e}-${t}`}async getPools(e,t){let f=new Set,n=[],a=[],s={};for(let[t,i,o]of e){let{poolAddress:e,token0:r,token1:d}=this.getPoolAddress(t,i,o);if(f.has(e))continue;f.add(e);let c=await this.cache.get(this.POOL_KEY(this.chainId,e));if(c){s[e]=c;continue}n.push([r,d,o]),a.push(e)}if(w.info({poolsFound:M().map(Object.values(s),e=>`${e.token0.symbol} ${e.token1.symbol} ${e.fee}`),poolsToGetTokenPairs:M().map(n,e=>`${e[0].symbol} ${e[1].symbol} ${e[2]}`)},`Found ${Object.keys(s).length} V3 pools already in local cache. About to get liquidity and slot0s for ${n.length} pools.`),a.length>0){let e=await this.poolProvider.getPools(n,t);for(let t of a){let f=e.getPoolByAddress(t);f&&(s[t]=f,await this.cache.set(this.POOL_KEY(this.chainId,t),f))}}return{getPool:(e,t,f)=>{let{poolAddress:n}=this.getPoolAddress(e,t,f);return s[n]},getPoolByAddress:e=>s[e],getAllPools:()=>Object.values(s)}}getPoolAddress(e,t,f){return this.poolProvider.getPoolAddress(e,t,f)}}class nn{constructor(e,t,f){this.chainId=e,this.subgraphProvider=t,this.cache=f,this.SUBGRAPH_KEY=e=>`subgraph-pools-${e}`}async getPools(){let e=await this.cache.get(this.SUBGRAPH_KEY(this.chainId));if(e)return e;let t=await this.subgraphProvider.getPools();return await this.cache.set(this.SUBGRAPH_KEY(this.chainId),t),t}}let na={[p.MAINNET]:[$[p.MAINNET],eh,ep,eb,em],[p.ROPSTEN]:[$[p.ROPSTEN],ev,eT,eg],[p.RINKEBY]:[$[p.RINKEBY],eI,eE,eA,eC],[p["G\xd6RLI"]]:[$[p["G\xd6RLI"]],ek,eS,ew,eO],[p.KOVAN]:[$[p.KOVAN],ex,eR,eP,eM],[p.OPTIMISM]:[$[p.OPTIMISM],eD,eN,eB,eF,eU],[p.ARBITRUM_ONE]:[$[p.ARBITRUM_ONE],eY,eQ,eK,eH,eX],[p.ARBITRUM_RINKEBY]:[$[p.ARBITRUM_RINKEBY],ez,e0,eJ],[p.ARBITRUM_GOERLI]:[$[p.ARBITRUM_GOERLI],e1],[p.OPTIMISM_GOERLI]:[$[p.OPTIMISM_GOERLI],eL,eq,e_,eG],[p.OPTIMISTIC_KOVAN]:[$[p.OPTIMISTIC_KOVAN],ej,eW,eV,e$],[p.POLYGON]:[e8,e6,e5],[p.POLYGON_MUMBAI]:[e3,$[p.POLYGON_MUMBAI],e2],[p.CELO]:[tn,ts,ti,ta],[p.CELO_ALFAJORES]:[to,td,tc,tr],[p.GNOSIS]:[$[p.GNOSIS],tp,tl,tu],[p.BSC]:[$[p.BSC],e4,e7,tt,tf,e9,te],[p.MOONBEAM]:[$[p.MOONBEAM],th,tb,ty]};class ns{constructor(e,t){this.chainId=e,this.poolProvider=t}async getPools(e,t){w.info("In static subgraph provider for V3");let f=na[this.chainId],n=M().flatMap(f,e=>f.map(t=>[e,t]));e&&t&&n.push([e,t],...f.map(t=>[e,t]),...f.map(e=>[t,e]));let a=M()(n).filter(e=>Boolean(e[0]&&e[1])).filter(([e,t])=>e.address!==t.address&&!e.equals(t)).flatMap(([e,t])=>[[e,t,N.FeeAmount.LOWEST],[e,t,N.FeeAmount.LOW],[e,t,N.FeeAmount.MEDIUM],[e,t,N.FeeAmount.HIGH]]).value();w.info(`V3 Static subgraph provider about to get ${a.length} pools on-chain`);let s=await this.poolProvider.getPools(a),i=s.getAllPools(),o=new Set,r=M()(i).map(e=>{let{token0:t,token1:f,fee:n,liquidity:a}=e,s=N.Pool.getAddress(e.token0,e.token1,e.fee);if(o.has(s))return;o.add(s);let i=ee().toNumber(a);return{id:s,feeTier:en(n),liquidity:a.toString(),token0:{id:t.address},token1:{id:f.address},tvlETH:i,tvlUSD:i}}).compact().value();return r}}p.MAINNET,p.RINKEBY,p.OPTIMISM,p.ARBITRUM_ONE,p.POLYGON,p.CELO,p["G\xd6RLI"],p.BSC;class ni{constructor(e){this.fallbacks=e}async getPools(e,t,f){for(let n=0;n<this.fallbacks.length;n++){let a=this.fallbacks[n];try{let n=await a.getPools(e,t,f);return n}catch(e){w.info(`Failed to get subgraph pools for V3 from fallback #${n}`)}}throw Error("Failed to get subgraph pools from any providers")}}var no=f(77145);function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var f=0,n=Array(t);f<t;f++)n[f]=e[f];return n}function nd(e,t){var f=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),f.push.apply(f,n)}return f}function nc(e){for(var t=1;t<arguments.length;t++){var f=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(f),!0).forEach(function(t){(0,I.Z)(e,t,f[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(f)):nd(Object(f)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(f,t))})}return e}f(67294),f(48764),f(1237),f(77985),f(80129),f(99675),f(10254),f(71082),f(79878),f(12541),f(73935),f(98878),f(76883),f(18370),f(41102),f(20930),f(99647),f(19688),f(97309),f(92592),f(73082),f(98480),f(94299),f(28043),f(52538),f(41248),f(91033);var nu=Object.values(p).filter(function(e){return Number.isInteger(e)}),nl=new WeakMap;function np(){return(np=(0,E.Z)(C().mark(function e(t,f,n){var a,s,i,o,r,d,c,u,l,p,b,m;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tradeType,s=t.tokenIn,i=t.tokenOut,o=t.amount,r=Object.values(no.S).includes(s.address),d=Object.values(no.S).includes(i.address),c=r?(0,no.n)(s.chainId):new S.Token(s.chainId,s.address,s.decimals,s.symbol),u=d?(0,no.n)(i.chainId):new S.Token(i.chainId,i.address,i.decimals,i.symbol),l=(0,no.i)(a)?c:u,p=(0,no.i)(a)?u:c,b=S.CurrencyAmount.fromRawAmount(l,ee().BigInt(null!=o?o:"1")),e.next=10,f.route(b,p,a,void 0,n);case 10:if(m=e.sent,o){e.next=13;break}return e.abrupt("return",{state:no.Q.INITIALIZED});case 13:if(m){e.next=15;break}return e.abrupt("return",{state:no.Q.NOT_FOUND});case 15:return e.abrupt("return",function(e){var t,f=e.quote,n=e.quoteGasAdjusted,a=e.route,s=e.routeString,i=e.estimatedGasUsed,o=e.estimatedGasUsedQuoteToken,r=e.estimatedGasUsedUSD,d=e.gasPriceWei,c=e.methodParameters,u=e.blockNumber,l=e.trade,p=l.tradeType,b=l.inputAmount,m=l.outputAmount,h=[],y=function(e,t){var f="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!f){if(Array.isArray(e)||(f=function(e,t){if(e){if("string"==typeof e)return nr(e,t);var f=Object.prototype.toString.call(e).slice(8,-1);if("Object"===f&&e.constructor&&(f=e.constructor.name),"Map"===f||"Set"===f)return Array.from(e);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return nr(e,t)}}(e))){f&&(e=f);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){f=f.call(e)},n:function(){var e=f.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==f.return||f.return()}finally{if(o)throw s}}}}(a);try{for(y.s();!(t=y.n()).done;){var g=t.value,T=g.amount,v=g.quote,I=g.tokenPath;if(g.protocol===ea.Protocol.V3){for(var E=g.route.pools,A=[],C=0;C<E.length;C++){var S=E[C],k=I[C],w=I[C+1],O=void 0;0===C&&(O=(0,no.i)(p)?T.quotient.toString():v.quotient.toString());var x=void 0;C===E.length-1&&(x=(0,no.i)(p)?v.quotient.toString():T.quotient.toString()),A.push({type:"v3-pool",tokenIn:{chainId:k.chainId,decimals:k.decimals,address:k.address,symbol:k.symbol},tokenOut:{chainId:w.chainId,decimals:w.decimals,address:w.address,symbol:w.symbol},fee:S.fee.toString(),liquidity:S.liquidity.toString(),sqrtRatioX96:S.sqrtRatioX96.toString(),tickCurrent:S.tickCurrent.toString(),amountIn:O,amountOut:x})}h.push(A)}else if(g.protocol===ea.Protocol.V2){for(var R=g.route.pairs,P=[],M=0;M<R.length;M++){var D=R[M],B=I[M],F=I[M+1],N=void 0;0===M&&(N=(0,no.i)(p)?T.quotient.toString():v.quotient.toString());var U=void 0;M===R.length-1&&(U=(0,no.i)(p)?v.quotient.toString():T.quotient.toString());var L=D.reserve0,_=D.reserve1;P.push({type:"v2-pool",tokenIn:{chainId:B.chainId,decimals:B.decimals,address:B.address,symbol:B.symbol},tokenOut:{chainId:F.chainId,decimals:F.decimals,address:F.address,symbol:F.symbol},reserve0:{token:{chainId:L.currency.wrapped.chainId,decimals:L.currency.wrapped.decimals,address:L.currency.wrapped.address,symbol:L.currency.wrapped.symbol},quotient:L.quotient.toString()},reserve1:{token:{chainId:_.currency.wrapped.chainId,decimals:_.currency.wrapped.decimals,address:_.currency.wrapped.address,symbol:_.currency.wrapped.symbol},quotient:_.quotient.toString()},amountIn:N,amountOut:U})}h.push(P)}}}catch(e){y.e(e)}finally{y.f()}var G=(0,no.i)(p)?b:m;return{state:no.Q.SUCCESS,data:{methodParameters:c,blockNumber:u.toString(),amount:G.quotient.toString(),amountDecimals:G.toExact(),quote:f.quotient.toString(),quoteDecimals:f.toExact(),quoteGasAdjusted:n.quotient.toString(),quoteGasAdjustedDecimals:n.toExact(),gasUseEstimateQuote:o.quotient.toString(),gasUseEstimateQuoteDecimals:o.toExact(),gasUseEstimate:i.toString(),gasUseEstimateUSD:r.toExact(),gasPriceWei:d.toString(),route:h,routeString:s}}}(nc(nc({},m),{},{routeString:eo(m.route)})));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nb(e,t){return nm.apply(this,arguments)}function nm(){return(nm=(0,E.Z)(C().mark(function e(t,f){var n,a,s,i,o,r,d,c,u,l,b,m;return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var h;if(n=t.tokenInAddress,a=t.tokenInChainId,s=t.tokenInDecimals,i=t.tokenInSymbol,o=t.tokenOutAddress,r=t.tokenOutChainId,d=t.tokenOutDecimals,c=t.tokenOutSymbol,u=t.amount,l=t.tradeType,b=t.provider,Boolean((h=a)&&nu.includes(h))){e.next=3;break}throw Error("Router does not support this token's chain (chainId: ".concat(a,")."));case 3:return m=function(e,t){var f,n,a,s=nl.get(t)||{},i=s[e];if(i)return i;e!==p.MAINNET&&(f=new ne(e)),[p.POLYGON,p.POLYGON_MUMBAI].includes(e)&&(a=new fL(e,t,375e3),n=new fX(e,t,a,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4}));var o=new fw({chainId:e,provider:t,v2SubgraphProvider:f,multicall2Provider:a,onChainQuoteProvider:n});return s[e]=o,nl.set(t,s),o}(a,b),e.abrupt("return",function(e,t,f){return np.apply(this,arguments)}({tradeType:l,tokenIn:{address:n,chainId:a,decimals:s,symbol:i},tokenOut:{address:o,chainId:r,decimals:d,symbol:c},amount:u},m,f));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},72047:function(e,t,f){var n=f(99353);e.exports=function(e,t){return new Promise(function(f,a){var s,i=t||{};function o(e){a(e||Error("Aborted"))}function r(e,t){if(e.bail){o(e);return}s.retry(e)?i.onRetry&&i.onRetry(e,t):a(s.mainError())}"randomize"in i||(i.randomize=!0),(s=n.operation(i)).attempt(function(t){var n;try{n=e(o,t)}catch(e){r(e,t);return}Promise.resolve(n).then(f).catch(function(e){r(e,t)})})})}},21692:function(e,t,f){let{promiseFinally:n,toError:a}=f(20969);e.exports=class e{static set(t,f){return new e().set(t,f)}static wrap(t,f,n){return new e().wrap(t,f,n)}constructor(){this._id=null,this._delay=null}get id(){return this._id}get delay(){return this._delay}set(e,t=""){return new Promise((f,n)=>{this.clear(),this._id=setTimeout(t?()=>n(a(t)):f,e),this._delay=e})}wrap(e,t,f=""){let a=n(e,()=>this.clear()),s=this.set(t,f);return Promise.race([a,s])}clear(){this._id&&clearTimeout(this._id)}}},20969:function(e,t){t.promiseFinally=(e,t)=>{let f=e=>(t(),e),n=e=>(t(),Promise.reject(e));return Promise.resolve(e).then(f,n)},t.toError=e=>"string"==typeof(e="function"==typeof e?e():e)?Error(e):e},9669:function(e,t,f){e.exports=f(51609)},55448:function(e,t,f){"use strict";var n=f(64867),a=f(36026),s=f(4372),i=f(15327),o=f(94097),r=f(84109),d=f(67985),c=f(85061);e.exports=function(e){return new Promise(function(t,f){var u=e.data,l=e.headers,p=e.responseType;n.isFormData(u)&&delete l["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(m+":"+h)}var y=o(e.baseURL,e.url);function g(){if(b){var n="getAllResponseHeaders"in b?r(b.getAllResponseHeaders()):null,s={data:p&&"text"!==p&&"json"!==p?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:e,request:b};a(t,f,s),b=null}}if(b.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(g)},b.onabort=function(){b&&(f(c("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){f(c("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),f(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",b)),b=null},n.isStandardBrowserEnv()){var T=(e.withCredentials||d(y))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;T&&(l[e.xsrfHeaderName]=T)}"setRequestHeader"in b&&n.forEach(l,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete l[t]:b.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),p&&"json"!==p&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){b&&(b.abort(),f(e),b=null)}),u||(u=null),b.send(u)})}},51609:function(e,t,f){"use strict";var n=f(64867),a=f(91849),s=f(30321),i=f(47185);function o(e){var t=new s(e),f=a(s.prototype.request,t);return n.extend(f,s.prototype,t),n.extend(f,t),f}var r=o(f(45655));r.Axios=s,r.create=function(e){return o(i(r.defaults,e))},r.Cancel=f(65263),r.CancelToken=f(14972),r.isCancel=f(26502),r.all=function(e){return Promise.all(e)},r.spread=f(8713),r.isAxiosError=f(16268),e.exports=r,e.exports.default=r},65263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:function(e,t,f){"use strict";var n=f(65263);function a(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,f=this;e(function(e){f.reason||(f.reason=new n(e),t(f.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},26502:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},30321:function(e,t,f){"use strict";var n=f(64867),a=f(15327),s=f(80782),i=f(13572),o=f(47185),r=f(54875),d=r.validators;function c(e){this.defaults=e,this.interceptors={request:new s,response:new s}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,f=e.transitional;void 0!==f&&r.assertOptions(f,{silentJSONParsing:d.transitional(d.boolean,"1.0.0"),forcedJSONParsing:d.transitional(d.boolean,"1.0.0"),clarifyTimeoutError:d.transitional(d.boolean,"1.0.0")},!1);var n=[],a=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(a=a&&t.synchronous,n.unshift(t.fulfilled,t.rejected))});var s=[];if(this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)}),!a){var c=[i,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(s),t=Promise.resolve(e);c.length;)t=t.then(c.shift(),c.shift());return t}for(var u=e;n.length;){var l=n.shift(),p=n.shift();try{u=l(u)}catch(e){p(e);break}}try{t=i(u)}catch(e){return Promise.reject(e)}for(;s.length;)t=t.then(s.shift(),s.shift());return t},c.prototype.getUri=function(e){return a((e=o(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){c.prototype[e]=function(t,f){return this.request(o(f||{},{method:e,url:t,data:(f||{}).data}))}}),n.forEach(["post","put","patch"],function(e){c.prototype[e]=function(t,f,n){return this.request(o(n||{},{method:e,url:t,data:f}))}}),e.exports=c},80782:function(e,t,f){"use strict";var n=f(64867);function a(){this.handlers=[]}a.prototype.use=function(e,t,f){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!f&&f.synchronous,runWhen:f?f.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},94097:function(e,t,f){"use strict";var n=f(91793),a=f(7303);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},85061:function(e,t,f){"use strict";var n=f(80481);e.exports=function(e,t,f,a,s){return n(Error(e),t,f,a,s)}},13572:function(e,t,f){"use strict";var n=f(64867),a=f(18527),s=f(26502),i=f(45655);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return o(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!s(t)&&(o(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},80481:function(e){"use strict";e.exports=function(e,t,f,n,a){return e.config=t,f&&(e.code=f),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},47185:function(e,t,f){"use strict";var n=f(64867);e.exports=function(e,t){t=t||{};var f={},a=["url","method","data"],s=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function r(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function d(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(f[a]=r(void 0,e[a])):f[a]=r(e[a],t[a])}n.forEach(a,function(e){n.isUndefined(t[e])||(f[e]=r(void 0,t[e]))}),n.forEach(s,d),n.forEach(i,function(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(f[a]=r(void 0,e[a])):f[a]=r(void 0,t[a])}),n.forEach(o,function(n){n in t?f[n]=r(e[n],t[n]):n in e&&(f[n]=r(void 0,e[n]))});var c=a.concat(s).concat(i).concat(o),u=Object.keys(e).concat(Object.keys(t)).filter(function(e){return -1===c.indexOf(e)});return n.forEach(u,d),f}},36026:function(e,t,f){"use strict";var n=f(85061);e.exports=function(e,t,f){var a=f.config.validateStatus;!f.status||!a||a(f.status)?e(f):t(n("Request failed with status code "+f.status,f.config,null,f.request,f))}},18527:function(e,t,f){"use strict";var n=f(64867),a=f(45655);e.exports=function(e,t,f){var s=this||a;return n.forEach(f,function(f){e=f.call(s,e,t)}),e}},45655:function(e,t,f){"use strict";var n,a=f(34155),s=f(64867),i=f(16016),o=f(80481),r={"Content-Type":"application/x-www-form-urlencoded"};function d(e,t){!s.isUndefined(e)&&s.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?n=f(55448):void 0!==a&&"[object process]"===Object.prototype.toString.call(a)&&(n=f(55448)),n),transformRequest:[function(e,t){return(i(t,"Accept"),i(t,"Content-Type"),s.isFormData(e)||s.isArrayBuffer(e)||s.isBuffer(e)||s.isStream(e)||s.isFile(e)||s.isBlob(e))?e:s.isArrayBufferView(e)?e.buffer:s.isURLSearchParams(e)?(d(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):s.isObject(e)||t&&"application/json"===t["Content-Type"]?(d(t,"application/json"),function(e,t,f){if(s.isString(e))try{return(0,JSON.parse)(e),s.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,f=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!f&&"json"===this.responseType;if(a||n&&s.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},s.forEach(["delete","get","head"],function(e){c.headers[e]={}}),s.forEach(["post","put","patch"],function(e){c.headers[e]=s.merge(r)}),e.exports=c},91849:function(e){"use strict";e.exports=function(e,t){return function(){for(var f=Array(arguments.length),n=0;n<f.length;n++)f[n]=arguments[n];return e.apply(t,f)}}},15327:function(e,t,f){"use strict";var n=f(64867);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,f){if(!t)return e;if(f)s=f(t);else if(n.isURLSearchParams(t))s=t.toString();else{var s,i=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,f){"use strict";var n=f(64867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,f,a,s,i){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(f)&&o.push("expires="+new Date(f).toGMTString()),n.isString(a)&&o.push("path="+a),n.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},16268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},67985:function(e,t,f){"use strict";var n=f(64867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),f=document.createElement("a");function a(e){var n=e;return t&&(f.setAttribute("href",n),n=f.href),f.setAttribute("href",n),{href:f.href,protocol:f.protocol?f.protocol.replace(/:$/,""):"",host:f.host,search:f.search?f.search.replace(/^\?/,""):"",hash:f.hash?f.hash.replace(/^#/,""):"",hostname:f.hostname,port:f.port,pathname:"/"===f.pathname.charAt(0)?f.pathname:"/"+f.pathname}}return e=a(window.location.href),function(t){var f=n.isString(t)?a(t):t;return f.protocol===e.protocol&&f.host===e.host}}():function(){return!0}},16016:function(e,t,f){"use strict";var n=f(64867);e.exports=function(e,t){n.forEach(e,function(f,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=f,delete e[n])})}},84109:function(e,t,f){"use strict";var n=f(64867),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,f,s,i={};return e&&n.forEach(e.split("\n"),function(e){s=e.indexOf(":"),t=n.trim(e.substr(0,s)).toLowerCase(),f=n.trim(e.substr(s+1)),t&&!(i[t]&&a.indexOf(t)>=0)&&("set-cookie"===t?i[t]=(i[t]?i[t]:[]).concat([f]):i[t]=i[t]?i[t]+", "+f:f)}),i}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:function(e,t,f){"use strict";var n=f(88593),a={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){a[e]=function(f){return typeof f===e||"a"+(t<1?"n ":" ")+e}});var s={},i=n.version.split(".");function o(e,t){for(var f=t?t.split("."):i,n=e.split("."),a=0;a<3;a++){if(f[a]>n[a])return!0;if(f[a]<n[a])break}return!1}a.transitional=function(e,t,f){var a=t&&o(t);function i(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(f?". "+f:"")}return function(f,n,o){if(!1===e)throw Error(i(n," has been removed in "+t));return a&&!s[n]&&(s[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(f,n,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,f){if("object"!=typeof e)throw TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var s=n[a],i=t[s];if(i){var o=e[s],r=void 0===o||i(o,s,e);if(!0!==r)throw TypeError("option "+s+" must be "+r);continue}if(!0!==f)throw Error("Unknown option "+s)}},validators:a}},64867:function(e,t,f){"use strict";var n=f(91849),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function i(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function r(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){return"[object Function]"===a.call(e)}function c(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),s(e))for(var f=0,n=e.length;f<n;f++)t.call(null,e[f],f,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:r,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:d,isStream:function(e){return o(e)&&d(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function f(f,n){r(t[n])&&r(f)?t[n]=e(t[n],f):r(f)?t[n]=e({},f):s(f)?t[n]=f.slice():t[n]=f}for(var n=0,a=arguments.length;n<a;n++)c(arguments[n],f);return t},extend:function(e,t,f){return c(t,function(t,a){f&&"function"==typeof t?e[a]=n(t,f):e[a]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},16313:function(e,t,f){var n=f(48764).lW,a=function(){"use strict";var e,t,f;function a(e,t){return null!=t&&e instanceof t}try{e=Map}catch(t){e=function(){}}try{t=Set}catch(e){t=function(){}}try{f=Promise}catch(e){f=function(){}}function s(i,r,d,c,u){"object"==typeof r&&(d=r.depth,c=r.prototype,u=r.includeNonEnumerable,r=r.circular);var l=[],p=[],b=void 0!==n;return void 0===r&&(r=!0),void 0===d&&(d=1/0),function i(d,m){if(null===d)return null;if(0===m||"object"!=typeof d)return d;if(a(d,e))h=new e;else if(a(d,t))h=new t;else if(a(d,f))h=new f(function(e,t){d.then(function(t){e(i(t,m-1))},function(e){t(i(e,m-1))})});else if(s.__isArray(d))h=[];else if(s.__isRegExp(d))h=RegExp(d.source,o(d)),d.lastIndex&&(h.lastIndex=d.lastIndex);else if(s.__isDate(d))h=new Date(d.getTime());else{if(b&&n.isBuffer(d))return h=n.allocUnsafe?n.allocUnsafe(d.length):new n(d.length),d.copy(h),h;a(d,Error)?h=Object.create(d):void 0===c?h=Object.create(y=Object.getPrototypeOf(d)):(h=Object.create(c),y=c)}if(r){var h,y,g,T=l.indexOf(d);if(-1!=T)return p[T];l.push(d),p.push(h)}for(var v in a(d,e)&&d.forEach(function(e,t){var f=i(t,m-1),n=i(e,m-1);h.set(f,n)}),a(d,t)&&d.forEach(function(e){var t=i(e,m-1);h.add(t)}),d)y&&(g=Object.getOwnPropertyDescriptor(y,v)),g&&null==g.set||(h[v]=i(d[v],m-1));if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(d),v=0;v<I.length;v++){var E=I[v],A=Object.getOwnPropertyDescriptor(d,E);(!A||A.enumerable||u)&&(h[E]=i(d[E],m-1),A.enumerable||Object.defineProperty(h,E,{enumerable:!1}))}if(u)for(var C=Object.getOwnPropertyNames(d),v=0;v<C.length;v++){var S=C[v],A=Object.getOwnPropertyDescriptor(d,S);A&&A.enumerable||(h[S]=i(d[S],m-1),Object.defineProperty(h,S,{enumerable:!1}))}return h}(i,d)}function i(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return s.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},s.__objToStr=i,s.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},s.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},s.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},s.__getRegExpFlags=o,s}();e.exports&&(e.exports=a)},72445:function(e){"use strict";e.exports=function(e){var t=e.uri,f=e.name,n=e.type;this.uri=t,this.name=f,this.type=n}},40804:function(e,t,f){"use strict";var n=f(51268);e.exports=function e(t,f,a){void 0===f&&(f=""),void 0===a&&(a=n);var s,i=new Map;function o(e,t){var f=i.get(t);f?f.push.apply(f,e):i.set(t,e)}if(a(t))s=null,o([f],t);else{var r=f?f+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)s=Array.prototype.map.call(t,function(e,t){return o([""+r+t],e),null});else if(Array.isArray(t))s=t.map(function(t,f){var n=e(t,""+r+f,a);return n.files.forEach(o),n.clone});else if(t&&t.constructor===Object)for(var d in s={},t){var c=e(t[d],""+r+d,a);c.files.forEach(o),s[d]=c.clone}else s=t}return{clone:s,files:i}}},34823:function(e,t,f){"use strict";t.ReactNativeFile=f(72445),t.extractFiles=f(40804),t.isExtractableFile=f(51268)},51268:function(e,t,f){"use strict";var n=f(72445);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof n}},6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},78458:function(e,t,f){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=f(34823),s=n(f(6230)),i=function(e){return a.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t,f){var n=a.extractFiles({query:e,variables:t,operationName:f},"",i),o=n.clone,r=n.files;if(0===r.size){if(!Array.isArray(e))return JSON.stringify(o);if(void 0!==t&&!Array.isArray(t))throw Error("Cannot create request body with given variable type, array expected");return JSON.stringify(e.reduce(function(e,f,n){return e.push({query:f,variables:t?t[n]:void 0}),e},[]))}var d=new("undefined"==typeof FormData?s.default:FormData);d.append("operations",JSON.stringify(o));var c={},u=0;return r.forEach(function(e){c[++u]=e}),d.append("map",JSON.stringify(c)),u=0,r.forEach(function(e,t){d.append(""+ ++u,t)}),d}},28687:function(e,t,f){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,f=1,n=arguments.length;f<n;f++)for(var a in t=arguments[f])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,f,n){void 0===n&&(n=f),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[f]}})}:function(e,t,f,n){void 0===n&&(n=f),e[n]=t[f]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var f in e)"default"!==f&&Object.prototype.hasOwnProperty.call(e,f)&&a(t,e,f);return s(t,e),t},o=this&&this.__awaiter||function(e,t,f,n){return new(f||(f=Promise))(function(a,s){function i(e){try{r(n.next(e))}catch(e){s(e)}}function o(e){try{r(n.throw(e))}catch(e){s(e)}}function r(e){var t;e.done?a(e.value):((t=e.value)instanceof f?t:new f(function(e){e(t)})).then(i,o)}r((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var f,n,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(f)throw TypeError("Generator is already executing.");for(;i;)try{if(f=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{f=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},d=this&&this.__rest||function(e,t){var f={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(f[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(f[n[a]]=e[n[a]]);return f},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var u=i(f(54098)),l=f(79627),p=c(f(78458)),b=f(8308);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return b.ClientError}});var m=function(e){var t,f={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||e instanceof u.Headers?(t={},e.forEach(function(e,f){t[f]=e}),f=t):Array.isArray(e)?e.forEach(function(e){var t=e[0],n=e[1];f[t]=n}):f=e),f},h=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},y=function(e){var t=e.query,f=e.variables,n=e.operationName;if(!Array.isArray(t)){var a=["query="+encodeURIComponent(h(t))];return f&&a.push("variables="+encodeURIComponent(JSON.stringify(f))),n&&a.push("operationName="+encodeURIComponent(n)),a.join("&")}if(void 0!==f&&!Array.isArray(f))throw Error("Cannot create query with given variable type, array expected");return"query="+encodeURIComponent(JSON.stringify(t.reduce(function(e,t,n){return e.push({query:h(t),variables:f?JSON.stringify(f[n]):void 0}),e},[])))},g=function(e){var t=e.url,f=e.query,a=e.variables,s=e.operationName,i=e.headers,d=e.fetch,c=e.fetchOptions;return o(void 0,void 0,void 0,function(){var e;return r(this,function(o){switch(o.label){case 0:return[4,d(t,n({method:"POST",headers:n(n({},"string"==typeof(e=p.default(f,a,s))?{"Content-Type":"application/json"}:{}),i),body:e},c))];case 1:return[2,o.sent()]}})})},T=function(e){var t=e.url,f=e.query,a=e.variables,s=e.operationName,i=e.headers,d=e.fetch,c=e.fetchOptions;return o(void 0,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,d(t+"?"+y({query:f,variables:a,operationName:s}),n({method:"GET",headers:i},c))];case 1:return[2,e.sent()]}})})},v=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,f){var a=this.options,s=a.headers,i=a.fetch,o=void 0===i?u.default:i,r=a.method,c=d(a,["headers","fetch","method"]);return I({url:this.url,query:e,variables:t,headers:n(n({},m(s)),m(f)),operationName:void 0,fetch:o,method:void 0===r?"POST":r,fetchOptions:c})},e.prototype.request=function(e,t,f){return o(this,void 0,void 0,function(){var a,s,i,o,c,l,p,b,h,y,g;return r(this,function(r){switch(r.label){case 0:return s=(a=this.options).headers,o=void 0===(i=a.fetch)?u.default:i,l=void 0===(c=a.method)?"POST":c,p=d(a,["headers","fetch","method"]),b=this.url,y=(h=A(e)).query,g=h.operationName,[4,I({url:b,query:y,variables:t,headers:n(n({},m(s)),m(f)),operationName:g,fetch:o,method:l,fetchOptions:p})];case 1:return[2,r.sent().data]}})})},e.prototype.batchRequests=function(e,t){return o(this,void 0,void 0,function(){var f,a,s,i,o,c,l;return r(this,function(r){switch(r.label){case 0:return a=(f=this.options).headers,i=void 0===(s=f.fetch)?u.default:s,c=void 0===(o=f.method)?"POST":o,l=d(f,["headers","fetch","method"]),[4,I({url:this.url,query:e.map(function(e){return A(e.document).query}),variables:e.map(function(e){return e.variables}),headers:n(n({},m(a)),m(t)),operationName:void 0,fetch:i,method:c,fetchOptions:l})];case 1:return[2,r.sent().data]}})})},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var f,n=this.options.headers;return n?n[e]=t:this.options.headers=((f={})[e]=t,f),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function I(e){var t=e.url,f=e.query,a=e.variables,s=e.headers,i=e.operationName,d=e.fetch,c=e.method,u=void 0===c?"POST":c,l=e.fetchOptions;return o(this,void 0,void 0,function(){var e,o,c,p,m,h,y,v;return r(this,function(r){switch(r.label){case 0:return e="POST"===u.toUpperCase()?g:T,o=Array.isArray(f),[4,e({url:t,query:f,variables:a,operationName:i,headers:s,fetch:d,fetchOptions:l})];case 1:var I,E;return[4,(E=(I=c=r.sent()).headers.get("Content-Type"))&&E.startsWith("application/json")?I.json():I.text()];case 2:if(p=r.sent(),m=o&&Array.isArray(p)?!p.some(function(e){return!e.data}):!!p.data,c.ok&&!p.errors&&m)return h=c.headers,y=c.status,[2,n(n({},o?{data:p}:p),{headers:h,status:y})];throw v="string"==typeof p?{error:p}:p,new b.ClientError(n(n({},v),{status:c.status,headers:c.headers}),{query:f,variables:a})}})})}function E(e,t,f,n){return o(this,void 0,void 0,function(){return r(this,function(a){return[2,new v(e).request(t,f,n)]})})}function A(e){if("string"==typeof e)return{query:e};var t,f=void 0,n=e.definitions.filter(function(e){return"OperationDefinition"===e.kind});return 1===n.length&&(f=null===(t=n[0].name)||void 0===t?void 0:t.value),{query:l.print(e),operationName:f}}t.GraphQLClient=v,t.rawRequest=function(e,t,f,n){return o(this,void 0,void 0,function(){return r(this,function(a){return[2,new v(e).rawRequest(t,f,n)]})})},t.request=E,t.batchRequests=function(e,t,f){return o(this,void 0,void 0,function(){return r(this,function(n){return[2,new v(e).batchRequests(t,f)]})})},t.default=E,t.gql=function(e){for(var t=[],f=1;f<arguments.length;f++)t[f-1]=arguments[f];return e.reduce(function(e,f,n){return""+e+f+(n in t?t[n]:"")},"")}},8308:function(e,t){"use strict";var f,n=this&&this.__extends||(f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var a=function(e){function t(f,n){var a=this,s=t.extractMessage(f)+": "+JSON.stringify({response:f,request:n});return Object.setPrototypeOf(a=e.call(this,s)||this,t.prototype),a.response=f,a.request=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return n(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=a},58310:function(e){e.exports=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},80937:function(e,t,f){var n=f(25499),a=f(97972),s=n.DEFAULT_COMPARATOR,i=n.reverseComparator;function o(e,t,f,n){for(var s,i,o=n,r=new e(n);o>0;)s=f[--o],0!==o&&(i=f[0],f[0]=s,function(e,t,f,n){for(var s,i=n,o=t[n],r=2*n+1;r<f;)(s=r+1)<f&&e(t[r],t[s])>=0&&(r=s),t[n]=t[r],r=2*(n=r)+1;t[n]=o,a.siftDown(e,t,i,n)}(t,f,--n,0),s=i),r[o]=s;return r}function r(e,t,f){if(2==arguments.length&&(f=t,t=null),this.ArrayClass=e,this.capacity=f,this.items=new e(f),this.clear(),this.comparator=t||s,"number"!=typeof f&&f<=0)throw Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if("function"!=typeof this.comparator)throw Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=i(this.comparator)}r.prototype.clear=function(){this.size=0},r.prototype.push=function(e){return this.size<this.capacity?(this.items[this.size]=e,a.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(e,this.items[0])>0&&a.replace(this.comparator,this.items,e),this.size},r.prototype.peek=function(){return this.items[0]},r.prototype.consume=function(){var e=o(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,e},r.prototype.toArray=function(){return o(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},r.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:r,enumerable:!1}),e},"undefined"!=typeof Symbol&&(r.prototype[Symbol.for("nodejs.util.inspect.custom")]=r.prototype.inspect),e.exports=r},97972:function(e,t,f){var n=f(70113),a=f(25499),s=f(10650),i=a.DEFAULT_COMPARATOR,o=a.reverseComparator;function r(e,t,f,n){for(var a,s,i=t[n];n>f;){if(s=t[a=n-1>>1],0>e(i,s)){t[n]=s,n=a;continue}break}t[n]=i}function d(e,t,f){for(var n,a=t.length,s=f,i=t[f],o=2*f+1;o<a;)(n=o+1)<a&&e(t[o],t[n])>=0&&(o=n),t[f]=t[o],o=2*(f=o)+1;t[f]=i,r(e,t,s,f)}function c(e,t,f){t.push(f),r(e,t,0,t.length-1)}function u(e,t){var f=t.pop();if(0!==t.length){var n=t[0];return t[0]=f,d(e,t,0),n}return f}function l(e,t,f){if(0===t.length)throw Error("mnemonist/heap.replace: cannot pop an empty heap.");var n=t[0];return t[0]=f,d(e,t,0),n}function p(e,t,f){var n;return 0!==t.length&&0>e(t[0],f)&&(n=t[0],t[0]=f,f=n,d(e,t,0)),f}function b(e,t){for(var f=t.length>>1;--f>=0;)d(e,t,f)}function m(e,t){for(var f=t.length,n=0,a=Array(f);n<f;)a[n++]=u(e,t);return a}function h(e){if(this.clear(),this.comparator=e||i,"function"!=typeof this.comparator)throw Error("mnemonist/Heap.constructor: given comparator should be a function.")}function y(e){if(this.clear(),this.comparator=e||i,"function"!=typeof this.comparator)throw Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=o(this.comparator)}h.prototype.clear=function(){this.items=[],this.size=0},h.prototype.push=function(e){return c(this.comparator,this.items,e),++this.size},h.prototype.peek=function(){return this.items[0]},h.prototype.pop=function(){return 0!==this.size&&this.size--,u(this.comparator,this.items)},h.prototype.replace=function(e){return l(this.comparator,this.items,e)},h.prototype.pushpop=function(e){return p(this.comparator,this.items,e)},h.prototype.consume=function(){return this.size=0,m(this.comparator,this.items)},h.prototype.toArray=function(){return m(this.comparator,this.items.slice())},h.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:h,enumerable:!1}),e},"undefined"!=typeof Symbol&&(h.prototype[Symbol.for("nodejs.util.inspect.custom")]=h.prototype.inspect),y.prototype=h.prototype,h.from=function(e,t){var f,n=new h(t);return f=s.isArrayLike(e)?e.slice():s.toArray(e),b(n.comparator,f),n.items=f,n.size=f.length,n},y.from=function(e,t){var f,n=new y(t);return f=s.isArrayLike(e)?e.slice():s.toArray(e),b(n.comparator,f),n.items=f,n.size=f.length,n},h.siftUp=d,h.siftDown=r,h.push=c,h.pop=u,h.replace=l,h.pushpop=p,h.heapify=b,h.consume=m,h.nsmallest=function(e,t,f){2==arguments.length&&(f=t,t=e,e=i);var a,r,d,c,u=o(e),p=1/0;if(1===t){if(s.isArrayLike(f)){for(a=0,r=f.length;a<r;a++)d=f[a],(p===1/0||0>e(d,p))&&(p=d);return(c=new f.constructor(1))[0]=p,c}return n(f,function(t){(p===1/0||0>e(t,p))&&(p=t)}),[p]}if(s.isArrayLike(f)){if(t>=f.length)return f.slice().sort(e);for(b(u,c=f.slice(0,t)),a=t,r=f.length;a<r;a++)u(f[a],c[0])>0&&l(u,c,f[a]);return c.sort(e)}var m=s.guessLength(f);return null!==m&&m<t&&(t=m),c=Array(t),a=0,n(f,function(e){a<t?c[a]=e:(a===t&&b(u,c),u(e,c[0])>0&&l(u,c,e)),a++}),c.length>a&&(c.length=a),c.sort(e)},h.nlargest=function(e,t,f){2==arguments.length&&(f=t,t=e,e=i);var a,r,d,c,u=o(e),p=-1/0;if(1===t){if(s.isArrayLike(f)){for(a=0,r=f.length;a<r;a++)d=f[a],(p===-1/0||e(d,p)>0)&&(p=d);return(c=new f.constructor(1))[0]=p,c}return n(f,function(t){(p===-1/0||e(t,p)>0)&&(p=t)}),[p]}if(s.isArrayLike(f)){if(t>=f.length)return f.slice().sort(u);for(c=f.slice(0,t),b(e,c),a=t,r=f.length;a<r;a++)e(f[a],c[0])>0&&l(e,c,f[a]);return c.sort(u)}var m=s.guessLength(f);return null!==m&&m<t&&(t=m),c=Array(t),a=0,n(f,function(f){a<t?c[a]=f:(a===t&&b(e,c),e(f,c[0])>0&&l(e,c,f)),a++}),c.length>a&&(c.length=a),c.sort(u)},h.MinHeap=h,h.MaxHeap=y,e.exports=h},86937:function(e,t,f){var n=f(84993),a=f(70113);function s(){this.clear()}s.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},s.prototype.enqueue=function(e){return this.items.push(e),++this.size},s.prototype.dequeue=function(){if(this.size){var e=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,e}},s.prototype.peek=function(){if(this.size)return this.items[this.offset]},s.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var f=this.offset,n=0,a=this.items.length;f<a;f++,n++)e.call(t,this.items[f],n,this)},s.prototype.toArray=function(){return this.items.slice(this.offset)},s.prototype.values=function(){var e=this.items,t=this.offset;return new n(function(){if(t>=e.length)return{done:!0};var f=e[t];return t++,{value:f,done:!1}})},s.prototype.entries=function(){var e=this.items,t=this.offset,f=0;return new n(function(){if(t>=e.length)return{done:!0};var n=e[t];return t++,{value:[f++,n],done:!1}})},"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=s.prototype.values),s.prototype.toString=function(){return this.toArray().join(",")},s.prototype.toJSON=function(){return this.toArray()},s.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:s,enumerable:!1}),e},"undefined"!=typeof Symbol&&(s.prototype[Symbol.for("nodejs.util.inspect.custom")]=s.prototype.inspect),s.from=function(e){var t=new s;return a(e,function(e){t.enqueue(e)}),t},s.of=function(){return s.from(arguments)},e.exports=s},25499:function(e,t){t.DEFAULT_COMPARATOR=function(e,t){return e<t?-1:e>t?1:0},t.DEFAULT_REVERSE_COMPARATOR=function(e,t){return e<t?1:e>t?-1:0},t.reverseComparator=function(e){return function(t,f){return e(f,t)}},t.createTupleComparator=function(e){return 2===e?function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}:function(t,f){for(var n=0;n<e;){if(t[n]<f[n])return -1;if(t[n]>f[n])return 1;n++}return 0}}},10650:function(e,t,f){var n=f(70113),a=f(83801);function s(e){return"number"==typeof e.length?e.length:"number"==typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||a.isTypedArray(e)},t.guessLength=s,t.toArray=function(e){var t=s(e),f="number"==typeof t?Array(t):[],a=0;return n(e,function(e){f[a++]=e}),f},t.toArrayWithIndices=function(e){var t=s(e),f="number"==typeof t?a.getPointerArray(t):Array,i="number"==typeof t?Array(t):[],o="number"==typeof t?new f(t):[],r=0;return n(e,function(e){i[r]=e,o[r]=r++}),[i,o]}},83801:function(e,t){t.getPointerArray=function(e){var t=e-1;if(t<=255)return Uint8Array;if(t<=65535)return Uint16Array;if(t<=4294967295)return Uint32Array;throw Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(e){var t=e-1;return t<=127?Int8Array:t<=32767?Int16Array:t<=2147483647?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var f={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var a,s,i,o,r,d=null,c=0;for(o=0,r=e.length;o<r;o++)i=n?n(e[o]):e[o],(a=f[(s=t.getNumberType(i)).name])>c&&(c=a,d=s);return d},t.isTypedArray=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,f,n=0;for(e=0,f=arguments.length;e<f;e++)n+=arguments[e].length;var a=new arguments[0].constructor(n);for(e=0,t=0;e<f;e++)a.set(arguments[e],t),t+=arguments[e].length;return a},t.indices=function(e){for(var f=new(t.getPointerArray(e))(e),n=0;n<e;n++)f[n]=n;return f}},70321:function(e,t,f){(function(){(e.exports=f(35282)).version="5.1.2"}).call(this)},35282:function(e,t,f){var n=f(48764).lW;(function(){var t,a,s=[].splice,i=function(e,t){if(!(e instanceof t))throw Error("Bound instance method accessed before binding")},o=[].indexOf;a=f(16313),t=f(25293).EventEmitter,e.exports=(function(){class e extends t{constructor(e={}){super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=e,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach(e=>{var t;t=this[e],this[e]=function(...e){var f,n,a;if(n=e,[...e]=n,[f]=s.call(e,-1),"function"!=typeof f)return t(...e,f);try{a=t(...e),f(null,a)}catch(e){f(e)}}})),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData();return}get(t){var f;if(i(this,e),null!=(f=this._isInvalidKey(t)))throw f;if(null!=this.data[t]&&this._check(t,this.data[t]))return this.stats.hits++,this._unwrap(this.data[t]);this.stats.misses++}mget(t){var f,n,a,s,o;if(i(this,e),!Array.isArray(t))throw this._error("EKEYSTYPE");for(n=0,o={},s=t.length;n<s;n++){if(a=t[n],null!=(f=this._isInvalidKey(a)))throw f;null!=this.data[a]&&this._check(a,this.data[a])?(this.stats.hits++,o[a]=this._unwrap(this.data[a])):this.stats.misses++}return o}set(t,f,n){var a,s;if(i(this,e),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw this._error("ECACHEFULL");if(this.options.forceString,null==n&&(n=this.options.stdTTL),null!=(a=this._isInvalidKey(t)))throw a;return s=!1,this.data[t]&&(s=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[t],!1))),this.data[t]=this._wrap(f,n),this.stats.vsize+=this._getValLength(f),!s&&(this.stats.ksize+=this._getKeyLength(t),this.stats.keys++),this.emit("set",t,f),!0}mset(t){var f,n,a,s,o,r,d,c,u;if(i(this,e),this.options.maxKeys>-1&&this.stats.keys+t.length>=this.options.maxKeys)throw this._error("ECACHEFULL");for(n=0,r=t.length;n<r;n++){if(o=t[n],{key:s,val:u,ttl:c}=o,c&&"number"!=typeof c)throw this._error("ETTLTYPE");if(null!=(f=this._isInvalidKey(s)))throw f}for(a=0,d=t.length;a<d;a++)o=t[a],({key:s,val:u,ttl:c}=o),this.set(s,u,c);return!0}del(t){var f,n,a,s,o,r;for(i(this,e),Array.isArray(t)||(t=[t]),f=0,a=0,o=t.length;a<o;a++){if(s=t[a],null!=(n=this._isInvalidKey(s)))throw n;null!=this.data[s]&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[s],!1)),this.stats.ksize-=this._getKeyLength(s),this.stats.keys--,f++,r=this.data[s],delete this.data[s],this.emit("del",s,r.v))}return f}take(t){var f;return i(this,e),null!=(f=this.get(t))&&this.del(t),f}ttl(t,f){var n;if(i(this,e),f||(f=this.options.stdTTL),!t)return!1;if(null!=(n=this._isInvalidKey(t)))throw n;return!!(null!=this.data[t]&&this._check(t,this.data[t]))&&(f>=0?this.data[t]=this._wrap(this.data[t].v,f,!1):this.del(t),!0)}getTtl(t){var f;if(i(this,e),t){if(null!=(f=this._isInvalidKey(t)))throw f;return null!=this.data[t]&&this._check(t,this.data[t])?this.data[t].t:void 0}}keys(){return i(this,e),Object.keys(this.data)}has(t){return i(this,e),null!=this.data[t]&&this._check(t,this.data[t])}getStats(){return i(this,e),this.stats}flushAll(t=!0){i(this,e),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(t),this.emit("flush")}flushStats(){i(this,e),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){i(this,e),this._killCheckPeriod()}_checkData(t=!0){var f,n,a;for(f in i(this,e),n=this.data)a=n[f],this._check(f,a);t&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,1e3*this.options.checkperiod,t),null!=this.checkTimeout&&null!=this.checkTimeout.unref&&this.checkTimeout.unref())}_killCheckPeriod(){if(null!=this.checkTimeout)return clearTimeout(this.checkTimeout)}_check(t,f){var n;return i(this,e),n=!0,0!==f.t&&f.t<Date.now()&&(this.options.deleteOnExpire&&(n=!1,this.del(t)),this.emit("expired",t,this._unwrap(f))),n}_isInvalidKey(t){if(i(this,e),0>o.call(this.validKeyTypes,typeof t))return this._error("EKEYTYPE",{type:typeof t})}_wrap(t,f,n=!0){var s;return i(this,e),this.options.useClones||(n=!1),s=Date.now(),{t:0===f?0:f?s+1e3*f:0===this.options.stdTTL?this.options.stdTTL:s+1e3*this.options.stdTTL,v:n?a(t):t}}_unwrap(e,t=!0){return(this.options.useClones||(t=!1),null!=e.v)?t?a(e.v):e.v:null}_getKeyLength(e){return e.toString().length}_getValLength(t){if(i(this,e),"string"==typeof t)return t.length;if(this.options.forceString)return JSON.stringify(t).length;if(Array.isArray(t))return this.options.arrayValueSize*t.length;if("number"==typeof t)return 8;if("function"==typeof(null!=t?t.then:void 0))return this.options.promiseValueSize;if(null!=n?n.isBuffer(t):void 0)return t.length;if(null!=t&&"object"==typeof t)return this.options.objectValueSize*Object.keys(t).length;else if("boolean"==typeof t)return 8;else return 0}_error(t,f={}){var n;return i(this,e),(n=Error()).name=t,n.errorcode=t,n.message=null!=this.ERRORS[t]?this.ERRORS[t](f):"-",n.data=f,n}_initErrors(){var t,f,n;for(f in i(this,e),this.ERRORS={},n=this._ERRORS)t=n[f],this.ERRORS[f]=this.createErrorMessage(t)}createErrorMessage(e){return function(t){return e.replace("__key",t.type)}}}return e.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},e}).call(this)}).call(this)},70113:function(e,t,f){var n=f(84844),a=n.ARRAY_BUFFER_SUPPORT,s=n.SYMBOL_SUPPORT;e.exports=function(e,t){var f,n,i,o,r;if(!e)throw Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||a&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString()){for(i=0,o=e.length;i<o;i++)t(e[i],i);return}if("function"==typeof e.forEach){e.forEach(t);return}if(s&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"==typeof e.next){for(f=e,i=0;!0!==(r=f.next()).done;)t(r.value,i),i++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}},84993:function(e){function t(e){if("function"!=typeof e)throw Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!=typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,f=e.length,n=0;return new t(function(){return n>=f?{done:!0}:{done:!1,value:e[n++]}})},t.empty=function(){return new t(function(){return{done:!0}})},t.fromSequence=function(e){var f=0,n=e.length;return new t(function(){return f>=n?{done:!0}:{done:!1,value:e[f++]}})},t.is=function(e){return e instanceof t||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=t},84844:function(e,t){t.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,t.SYMBOL_SUPPORT="undefined"!=typeof Symbol},99353:function(e,t,f){e.exports=f(71846)},71846:function(e,t,f){var n=f(41960);t.operation=function(e){var f=t.timeouts(e);return new n(f,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var f in e)t[f]=e[f];if(t.minTimeout>t.maxTimeout)throw Error("minTimeout is greater than maxTimeout");for(var n=[],a=0;a<t.retries;a++)n.push(this.createTimeout(a,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(a,t)),n.sort(function(e,t){return e-t}),n},t.createTimeout=function(e,t){return Math.min(Math.round((t.randomize?Math.random()+1:1)*Math.max(t.minTimeout,1)*Math.pow(t.factor,e)),t.maxTimeout)},t.wrap=function(e,f,n){if(f instanceof Array&&(n=f,f=null),!n)for(var a in n=[],e)"function"==typeof e[a]&&n.push(a);for(var s=0;s<n.length;s++){var i=n[s],o=e[i];e[i]=(function(n){var a=t.operation(f),s=Array.prototype.slice.call(arguments,1),i=s.pop();s.push(function(e){a.retry(e)||(e&&(arguments[0]=a.mainError()),i.apply(this,arguments))}),a.attempt(function(){n.apply(e,s)})}).bind(e,o),e[i].options=f}}},41960:function(e){function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var f=this._timeouts.shift();if(void 0===f){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),f=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},f),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var f=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){f._operationTimeoutCb()},f._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,f=0,n=0;n<this._errors.length;n++){var a=this._errors[n],s=a.message,i=(e[s]||0)+1;e[s]=i,i>=f&&(t=a,f=i)}return t}},85205:function(e,t,f){"use strict";e.exports.numbers=a,e.exports.sum=i,e.exports.mean=o,e.exports.median=function(e){if(0===(e=a(e)).length)return NaN;var t=e.length/2|0;return(e=s(e)).length%2?e[t]:(e[t-1]+e[t])/2},e.exports.mode=function(e){if(0===(e=a(e)).length)return NaN;for(var t=NaN,f={},n=0;n<e.length;n++){var s=e[n],i=f[s]||0;i++,f[s]=i}var o=a(Object.keys(f).sort(function(e,t){return f[t]-f[e]}));if(t=o[0],f[o[1]]==f[t]){if(o.length==e.length)return e;for(var r=new Set([t]),d=f[t],n=1;n<o.length;n++)if(f[o[n]]==d)r.add(o[n]);else break;return r}return t},e.exports.variance=d,e.exports.sampleVariance=c,e.exports.populationVariance=d,e.exports.stdev=u,e.exports.sampleStdev=function(e){return Math.sqrt(c(e))},e.exports.populationStdev=u,e.exports.percentile=function(e,t){if(0===(e=a(e)).length||null==t||t<0)return NaN;t>1&&(t=1);var f=(e=s(e)).length*t-.5;if((0|f)===f)return e[f];var n=0|f,i=f-n;return(1-i)*e[n]+i*e[Math.min(n+1,e.length-1)]},e.exports.histogram=function(e,t){if(null==e||0===(e=s(a(e))).length)return null;null==t&&(t=Math.sqrt(e.length)),(t=Math.round(t))<1&&(t=1);var f=e[0],n=e[e.length-1];f===n&&(f-=.5,n+=.5);var i=n-f,o=(i+.05*i)/t,r=(f+n)/2,d=r-o*Math.floor(t/2);if(t%2!=0)var d=r-o/2-o*Math.floor(t/2);for(var c={values:Array(t).fill(0),bins:t,binWidth:o,binLimits:[d,d+o*t]},u=0,l=0;l<e.length;l++){for(;e[l]>(u+1)*o+d;)u++;c.values[u]++}return c};var n=f(58310);function a(e){var t=[];if(null==e)return t;for(var f=0;f<e.length;f++)n(e[f])&&t.push(+e[f]);return t}function s(e){return e.sort(function(e,t){return e-t})}function i(e){e=a(e);for(var t=0,f=0;f<e.length;f++)t+=e[f];return t}function o(e){return 0===(e=a(e)).length?NaN:i(e)/e.length}function r(e){for(var t=o(e=a(e)),f=[],n=0;n<e.length;n++)f.push(Math.pow(e[n]-t,2));return f}function d(e){return o(r(e))}function c(e){var t=r(e);return t.length<=1?NaN:i(t)/(t.length-1)}function u(e){return Math.sqrt(d(e))}},79627:function(e,t,f){"use strict";f.r(t),f.d(t,{print:function(){return d}});var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,n&&(e.prototype[n]=t)}function i(e){return null!=e&&"string"==typeof e.kind}s(function(){function e(e,t,f){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=f}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}()),s(function(){function e(e,t,f,n,a,s,i){this.kind=e,this.start=t,this.end=f,this.line=n,this.column=a,this.value=i,this.prev=s,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}());var o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},r=Object.freeze({});function d(e){return function(e,t){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=void 0,d=Array.isArray(e),c=[e],u=-1,l=[],p=void 0,b=void 0,m=void 0,h=[],y=[],g=e;do{var T,v=++u===c.length,I=v&&0!==l.length;if(v){if(b=0===y.length?void 0:h[h.length-1],p=m,m=y.pop(),I){if(d)p=p.slice();else{for(var E={},A=0,C=Object.keys(p);A<C.length;A++){var S=C[A];E[S]=p[S]}p=E}for(var k=0,w=0;w<l.length;w++){var O=l[w][0],x=l[w][1];d&&(O-=k),d&&null===x?(p.splice(O,1),k++):p[O]=x}}u=s.index,c=s.keys,l=s.edits,d=s.inArray,s=s.prev}else{if(b=m?d?u:c[u]:void 0,null==(p=m?m[b]:g))continue;m&&h.push(b)}var R=void 0;if(!Array.isArray(p)){if(!i(p))throw Error("Invalid AST Node: ".concat(function e(t,f){switch(a(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":if(null===t)return"null";return function(t,f){if(-1!==f.indexOf(t))return"[Circular]";var a,s,i=[].concat(f,[t]),o="function"==typeof(a=t[String(n)])?a:"function"==typeof t.inspect?t.inspect:void 0;if(void 0!==o){var r=o.call(t);if(r!==t)return"string"==typeof r?r:e(r,i)}else if(Array.isArray(t))return function(t,f){if(0===t.length)return"[]";if(f.length>2)return"[Array]";for(var n=Math.min(10,t.length),a=t.length-n,s=[],i=0;i<n;++i)s.push(e(t[i],f));return 1===a?s.push("... 1 more item"):a>1&&s.push("... ".concat(a," more items")),"["+s.join(", ")+"]"}(t,i);return 0===(s=Object.keys(t)).length?"{}":i.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var f=e.constructor.name;if("string"==typeof f&&""!==f)return f}return t}(t)+"]":"{ "+s.map(function(f){var n=e(t[f],i);return f+": "+n}).join(", ")+" }"}(t,f);default:return String(t)}}(p,[]),"."));var P=function(e,t,f){var n=e[t];if(n){if(!f&&"function"==typeof n)return n;var a=f?n.leave:n.enter;if("function"==typeof a)return a}else{var s=f?e.leave:e.enter;if(s){if("function"==typeof s)return s;var i=s[t];if("function"==typeof i)return i}}}(t,p.kind,v);if(P){if((R=P.call(t,p,b,m,h,y))===r)break;if(!1===R){if(!v){h.pop();continue}}else if(void 0!==R&&(l.push([b,R]),!v)){if(i(R))p=R;else{h.pop();continue}}}}void 0===R&&I&&l.push([b,p]),v?h.pop():(s={inArray:d,index:u,keys:c,edits:l,prev:s},c=(d=Array.isArray(p))?p:null!==(T=f[p.kind])&&void 0!==T?T:[],u=-1,l=[],m&&y.push(m),m=p)}while(void 0!==s);return 0!==l.length&&(g=l[l.length-1][1]),g}(e,{leave:c})}var c={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,f=e.name,n=b("(",l(e.variableDefinitions,", "),")"),a=l(e.directives," "),s=e.selectionSet;return f||a||n||"query"!==t?l([t,l([f,n]),a,s]," "):s},VariableDefinition:function(e){var t=e.variable,f=e.type,n=e.defaultValue,a=e.directives;return t+": "+f+b(" = ",n)+b(" ",l(a," "))},SelectionSet:function(e){return p(e.selections)},Field:function(e){var t=e.alias,f=e.name,n=e.arguments,a=e.directives,s=e.selectionSet,i=b("",t,": ")+f,o=i+b("(",l(n,", "),")");return o.length>80&&(o=i+b("(\n",m(l(n,"\n")),"\n)")),l([o,l(a," "),s]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+b(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,f=e.directives,n=e.selectionSet;return l(["...",b("on ",t),l(f," "),n]," ")},FragmentDefinition:function(e){var t=e.name,f=e.typeCondition,n=e.variableDefinitions,a=e.directives,s=e.selectionSet;return"fragment ".concat(t).concat(b("(",l(n,", "),")")," ")+"on ".concat(f," ").concat(b("",l(a," ")," "))+s},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var f=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),a=" "===e[0]||"	"===e[0],s='"'===e[e.length-1],i="\\"===e[e.length-1],o=!n||s||i||f,r="";return o&&!(n&&a)&&(r+="\n"+t),r+=t?e.replace(/\n/g,"\n"+t):e,o&&(r+="\n"),'"""'+r.replace(/"""/g,'\\"""')+'"""'}(f,"description"===t?"":"  "):JSON.stringify(f)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+b("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:u(function(e){var t=e.directives,f=e.operationTypes;return l(["schema",l(t," "),p(f)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:u(function(e){return l(["scalar",e.name,l(e.directives," ")]," ")}),ObjectTypeDefinition:u(function(e){var t=e.name,f=e.interfaces,n=e.directives,a=e.fields;return l(["type",t,b("implements ",l(f," & ")),l(n," "),p(a)]," ")}),FieldDefinition:u(function(e){var t=e.name,f=e.arguments,n=e.type,a=e.directives;return t+(y(f)?b("(\n",m(l(f,"\n")),"\n)"):b("(",l(f,", "),")"))+": "+n+b(" ",l(a," "))}),InputValueDefinition:u(function(e){var t=e.name,f=e.type,n=e.defaultValue,a=e.directives;return l([t+": "+f,b("= ",n),l(a," ")]," ")}),InterfaceTypeDefinition:u(function(e){var t=e.name,f=e.interfaces,n=e.directives,a=e.fields;return l(["interface",t,b("implements ",l(f," & ")),l(n," "),p(a)]," ")}),UnionTypeDefinition:u(function(e){var t=e.name,f=e.directives,n=e.types;return l(["union",t,l(f," "),n&&0!==n.length?"= "+l(n," | "):""]," ")}),EnumTypeDefinition:u(function(e){var t=e.name,f=e.directives,n=e.values;return l(["enum",t,l(f," "),p(n)]," ")}),EnumValueDefinition:u(function(e){return l([e.name,l(e.directives," ")]," ")}),InputObjectTypeDefinition:u(function(e){var t=e.name,f=e.directives,n=e.fields;return l(["input",t,l(f," "),p(n)]," ")}),DirectiveDefinition:u(function(e){var t=e.name,f=e.arguments,n=e.repeatable,a=e.locations;return"directive @"+t+(y(f)?b("(\n",m(l(f,"\n")),"\n)"):b("(",l(f,", "),")"))+(n?" repeatable":"")+" on "+l(a," | ")}),SchemaExtension:function(e){var t=e.directives,f=e.operationTypes;return l(["extend schema",l(t," "),p(f)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,f=e.interfaces,n=e.directives,a=e.fields;return l(["extend type",t,b("implements ",l(f," & ")),l(n," "),p(a)]," ")},InterfaceTypeExtension:function(e){var t=e.name,f=e.interfaces,n=e.directives,a=e.fields;return l(["extend interface",t,b("implements ",l(f," & ")),l(n," "),p(a)]," ")},UnionTypeExtension:function(e){var t=e.name,f=e.directives,n=e.types;return l(["extend union",t,l(f," "),n&&0!==n.length?"= "+l(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,f=e.directives,n=e.values;return l(["extend enum",t,l(f," "),p(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,f=e.directives,n=e.fields;return l(["extend input",t,l(f," "),p(n)]," ")}};function u(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter(function(e){return e}).join(f))&&void 0!==t?t:""}function p(e){return b("{\n",m(l(e,"\n")),"\n}")}function b(e,t){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+f:""}function m(e){return b("  ",e.replace(/\n/g,"\n  "))}function h(e){return -1!==e.indexOf("\n")}function y(e){return null!=e&&e.some(h)}},88593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);