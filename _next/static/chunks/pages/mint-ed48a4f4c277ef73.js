(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{7537:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mint",function(){return n(1067)}])},3202:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var a=n(5944),i=n(7294),r=n(2293),s=n(6886),u=n(9661),l=n(155),p=n(5861),o=n(5755),y=n(3321),d=n(8317),c=n(3454);let m={1:{urls:[c.env.infuraKey?"https://".concat("mainnet",".infura.io/v3/").concat(c.env.infuraKey):void 0,c.env.alchemyKey?"https://".concat("eth-mainnet",".alchemyapi.io/v2/").concat(c.env.alchemyKey):void 0,"https://cloudflare-eth.com"].filter(Boolean),name:"Mainnet"}},f={...m};Object.keys(f).reduce((e,t)=>{let n=f[Number(t)].urls;return n.length&&(e[Number(t)]=n),e},{});let{useChainId:b,useAccounts:h,useIsActivating:T,useIsActive:Z,useProvider:v,useENSNames:w}=d.P;function M(){let e=T(),t=Z();(0,i.useEffect)(()=>{d.O.connectEagerly().catch(()=>{console.debug("Failed to connect eagerly to metamask")})},[]);let n=()=>(0,a.tZ)(y.Z,{onClick:()=>{(null===d.O||void 0===d.O?void 0:d.O.deactivate)?d.O.deactivate():d.O.resetState()},children:"Disconnect"}),r=()=>(0,a.tZ)(y.Z,{onClick:async()=>{try{await d.O.activate(function(e){let t=f[e];return t.nativeCurrency?{chainId:e,chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:t.urls,blockExplorerUrls:t.blockExplorerUrls}:e}(1))}catch(e){console.error(e)}},disabled:e,children:"Connect"});return t?(0,a.tZ)(n,{}):(0,a.tZ)(r,{})}function N(){return(0,a.tZ)(r.Z,{elevation:0,position:"relative",children:(0,a.tZ)(o.C,{underline:"none",href:"/",children:(0,a.tZ)(l.Z,{children:(0,a.BX)(s.ZP,{alignItems:"center",alignContent:"center",justifyContent:"space-between",container:!0,children:[(0,a.tZ)(s.ZP,{item:!0,children:(0,a.BX)(s.ZP,{alignItems:"center",alignContent:"center",container:!0,children:[(0,a.tZ)(s.ZP,{item:!0,children:(0,a.tZ)(u.Z,{sx:{mr:2},src:"/logo.png"})}),(0,a.tZ)(s.ZP,{item:!0,children:(0,a.tZ)(p.Z,{variant:"h6",color:"inherit",noWrap:!0,children:"Xenlon Mars"})})]})}),(0,a.tZ)(s.ZP,{item:!0,children:(0,a.tZ)(M,{})})]})})})})}},9036:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(5944);n(7294);var i=n(5861),r=n(3795);function s(){return(0,a.BX)(i.Z,{variant:"body2",color:"text.secondary",align:"center",children:[(0,a.tZ)(r.Z,{color:"inherit",href:"https://www.xenlonmars.com/",children:"Xenlon Mars"}),". ","Fair crypto principles."," ",new Date().getFullYear(),"."]})}},1067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var a=n(5944),i=n(7294),r=n(6720),s=n(7357),u=n(5582),l=n(629),p=n(6624),o=n(4472),y=n(3578),d=n(3321),c=n(5861),m=n(6886),f=n(1717);function b(e){let{setAmountToBurn:t}=e;return(0,a.BX)(i.Fragment,{children:[(0,a.tZ)(c.Z,{variant:"h6",gutterBottom:!0,children:"Burn details"}),(0,a.tZ)(m.ZP,{container:!0,spacing:3,children:(0,a.tZ)(m.ZP,{item:!0,xs:12,sm:6,children:(0,a.tZ)(f.Z,{required:!0,id:"amountToBurn",name:"amountToBurn",label:"DXN amount to burn",fullWidth:!0,type:"number",autoComplete:"amount-to-burn",variant:"standard",onChange:e=>{let n=e.target.value;t(Number(n))}})})})]})}var h=n(8462),T=n(891),Z=n(9953);function v(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function w(e){let{amountToBurn:t}=e;return(0,a.BX)(i.Fragment,{children:[(0,a.tZ)(c.Z,{variant:"h6",gutterBottom:!0,children:"Order summary"}),(0,a.BX)(h.Z,{disablePadding:!0,children:[(0,a.BX)(T.ZP,{sx:{py:1,px:0},children:[(0,a.tZ)(Z.Z,{primary:"XLON",secondary:"New tokens mint"}),(0,a.tZ)(c.Z,{variant:"body2",children:v(1e8*t)})]}),(0,a.BX)(T.ZP,{sx:{py:1,px:0},children:[(0,a.tZ)(Z.Z,{primary:"Total cost by burn"}),(0,a.BX)(c.Z,{variant:"subtitle1",sx:{fontWeight:700},children:[v(t)," DXN"]})]})]})]})}n(4299);var M=n(3202),N=n(9036),E=n(8703),g=n(7985),x=n(4460),B=n(4222),X={ETHEREUM_MAINNET:{DXN:"0x80f0C1c49891dcFDD40b6e0F960F84E6042bcB6F",DXN_WHALE:"0xF5c80c305803280B587F8cabBcCdC4d9BF522AbD",FORWARDER:"0x87Cc33F269687afACbc4268E5C58ddE3D39df519",XENLONMARS:"0x529608dcA34504Ab12cCc55Efb5bB091D0188500",XLON:"0x36ff4DaE0E88113D68B1209e245B0e3Af92E9D58"}},C=JSON.parse('[{"inputs":[{"internalType":"address","name":"forwarder","type":"address"},{"internalType":"address","name":"dbxenTokenAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burned","type":"event"},{"inputs":[],"name":"XLON_PER_DXN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"burnTimestamps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"burnsByTimestamp","outputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"reward","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"burnsByUser","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"dxn","outputs":[{"internalType":"contract DBXenERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"forwarder","type":"address"}],"name":"isTrustedForwarder","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalBurns","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"xlon","outputs":[{"internalType":"contract XenlonMarsERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"}]'),O=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mintReward","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]');let A=["Burn details","Mint XLON"];function R(){let[e,t]=i.useState(null),[n,m]=i.useState(0),[f,h]=i.useState(0),{provider:T,account:Z}=(0,g.useWeb3React)(),v=(0,i.useMemo)(()=>(null==T?void 0:T.getSigner)?T.getSigner():T,[T]),R=new x.CH(X.ETHEREUM_MAINNET.XENLONMARS,C,v),k=new x.CH(X.ETHEREUM_MAINNET.DXN,O,v),D=async()=>{m(n+1)},_=()=>{m(n-1)};return(0,i.useEffect)(()=>{n===A.length&&async function(){try{let e=await k.allowance(Z,X.ETHEREUM_MAINNET.XENLONMARS);if(e<=0){let e=await k.approve(X.ETHEREUM_MAINNET.XENLONMARS,B.Bz);t("please wait"),await T.waitForTransaction(e.hash),t(null)}await R.burn(f,{gasLimit:5e5})}catch(e){console.error(e),t(e.message),setTimeout(()=>t(null),4e3)}}()},[n]),(0,a.BX)(i.Fragment,{children:[(0,a.tZ)(r.ZP,{}),(0,a.tZ)(M.Z,{}),(0,a.tZ)(E.Z,{open:!!e,autoHideDuration:6e3,message:e}),(0,a.BX)(u.Z,{component:"main",maxWidth:"sm",sx:{mb:4},children:[(0,a.BX)(l.Z,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[(0,a.tZ)(c.Z,{component:"h1",variant:"h4",align:"center",children:"Mint"}),(0,a.tZ)(p.Z,{activeStep:n,sx:{pt:3,pb:5},children:A.map(e=>(0,a.tZ)(o.Z,{children:(0,a.tZ)(y.Z,{children:e})},e))}),n===A.length?(0,a.BX)(i.Fragment,{children:[(0,a.tZ)(c.Z,{variant:"h5",gutterBottom:!0,children:"Your XLON is on the way."}),(0,a.tZ)(c.Z,{variant:"subtitle1",children:"Check your wallet and confirm to burn your DXN tokens in order to receive your new XLON tokens."})]}):(0,a.BX)(i.Fragment,{children:[function(e,t,n){switch(e){case 0:return(0,a.tZ)(b,{setAmountToBurn:n});case 1:return(0,a.tZ)(w,{amountToBurn:t});default:throw Error("Unknown step")}}(n,f,h),(0,a.BX)(s.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[0!==n&&(0,a.tZ)(d.Z,{onClick:_,sx:{mt:3,ml:1},children:"Back"}),(0,a.tZ)(d.Z,{variant:"contained",onClick:D,disabled:!f,sx:{mt:3,ml:1},children:n===A.length-1?"Mint":"Next"})]})]})]}),(0,a.tZ)(N.Z,{})]})]})}},5755:function(e,t,n){"use strict";var a=n(5944),i=n(7294),r=n(6010),s=n(1163),u=n(1664),l=n.n(u),p=n(3795),o=n(948);let y=(0,o.ZP)("a")({}),d=i.forwardRef(function(e,t){let{to:n,linkAs:i,replace:r,scroll:s,shallow:u,prefetch:p,legacyBehavior:o=!0,locale:d,...c}=e;return(0,a.tZ)(l(),{href:n,prefetch:p,as:i,replace:r,scroll:s,shallow:u,passHref:!0,locale:d,legacyBehavior:o,children:(0,a.tZ)(y,{ref:t,...c})})}),c=i.forwardRef(function(e,t){let{activeClassName:n="active",as:i,className:u,href:l,legacyBehavior:o,linkAs:c,locale:m,noLinkStyle:f,prefetch:b,replace:h,role:T,scroll:Z,shallow:v,...w}=e,M=(0,s.useRouter)(),N="string"==typeof l?l:l.pathname,E=(0,r.Z)(u,{[n]:M.pathname===N&&n}),g="string"==typeof l&&(0===l.indexOf("http")||0===l.indexOf("mailto:"));if(g)return f?(0,a.tZ)(y,{className:E,href:l,ref:t,...w}):(0,a.tZ)(p.Z,{className:E,href:l,ref:t,...w});let x={to:l,linkAs:c||i,replace:h,scroll:Z,shallow:v,prefetch:b,legacyBehavior:o,locale:m};return f?(0,a.tZ)(d,{className:E,ref:t,...x,...w}):(0,a.tZ)(p.Z,{component:d,className:E,ref:t,...x,...w})});t.C=c}},function(e){e.O(0,[826,580,774,888,179],function(){return e(e.s=7537)}),_N_E=e.O()}]);